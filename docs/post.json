[
    
        
            {
                "ref": "https://blog.dakatsuka.jp/2021/01/10/ocaml-binding-operators.html",
                "title": "OCaml 4.08.0ã‹ã‚‰ä½¿ãˆã‚‹Binding operatorsãŒä¾¿åˆ©ã ã£ãŸ",
                "section": "post",
                "date" : "2021.01.10",
                "body": "OCaml 4.08.0 ã§ Binding operators 1 ã¨ã„ã†æ©Ÿèƒ½ãŒå°å…¥ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ã“ã‚Œã§OCamlã§ã‚‚Haskellã®doè¨˜æ³•ã‚„Scalaã®forå¼ã«è¿‘ã„ã‹ãŸã¡ã§ãƒ¢ãƒŠãƒ‡ã‚£ãƒƒã‚¯ãªè¨ˆç®—ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚\n4.08.0ã¯çµæ§‹å‰ã«å‡ºã¦ã„ã‚‹ã®ã§ä»Šæ›´æ„Ÿã¯ã‚ã‚Šã¾ã™ãŒ\u0026hellip; æ™®æ®µè§¦ã£ã¦ã„ãªã„ã®ãŒãƒãƒ¬ã¦ã—ã¾ã†ï¼\nã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ¢ãƒŠãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚\n(* int -\u0026gt; int -\u0026gt; int option *) let div x y = try Some (x / y) with Division_by_zero -\u0026gt; None (* binding operators ã‚’å®šç¾© *) let ( let* ) x f = Option.bind x f let result = let* r1 = div 100 2 in let* r2 = div r1 10 in let* r3 = div r2 0 in (* None *) Some (r3 + 10) in match result with | Some _ -\u0026gt; \u0026#34;\u0026#34; | None -\u0026gt; \u0026#34;ä¸Šã®ã‚³ãƒ¼ãƒ‰ã ã¨r3ã®è¨ˆç®—çµæœã¯Noneã«ãªã‚‹ã®ã§r3 + 10ã¯å®Ÿè¡Œã•ã‚Œãªã„\u0026#34; ãƒ¢ãƒŠãƒ‰ã”ã¨ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã£ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã‚ªãƒ¼ãƒ—ãƒ³ã™ã‚‹ã®ãŒå¯èª­æ€§ã‚‚é«˜ããªã‚Šè‰¯ã•ãã†ã§ã™ã€‚\nmodule Option_ops = struct let ( let* ) x f = Option.bind x f let return = Option.some end let result = let open Option_ops in let* r1 = div 100 2 in let* r2 = div r1 10 in let* r3 = div r2 0 in return (r3 + 10) ã¡ãªã¿ã« let* ä»¥å¤–ã«ã‚‚ let+ ã‚„ and+ ãªã©ã‚‚å®šç¾©å‡ºæ¥ã¾ã™ã€‚ä½¿ç”¨ã§ãã‚‹è¨˜å·ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ2 ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\nå¿œç”¨ç·¨ Binding operators ã¯è‡ªåˆ†ã§å®šç¾©ã—ãªã‘ã‚Œã°ã„ã‘ãªã„ã¨ã„ã†è‹¥å¹²ã®é¢å€’è‡­ã•ãŒã‚ã‚‹åé¢ã€ç•°ãªã‚‹ãƒ¢ãƒŠãƒ‰ãŒãƒã‚¹ãƒˆã—ã¦ã„ã‚‹ã‚ˆã†ãªå€¤ã«å¯¾ã—ã¦ã‚‚æŸ”è»Ÿã«å¯¾å¿œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ã«ä»»æ„ã®å‹ã‚’å†…åŒ…ã§ãã‚‹ Io å‹ãŒã‚ã‚Šã€ãã®ä¸­ã« Result å‹ãŒå…¥ã£ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹ã§ã™ã€‚IOã¯éåŒæœŸå‡¦ç†ã®æˆåŠŸãƒ»å¤±æ•—ã‚’è¡¨ç¾ã—ã€Resultã¯ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®æˆåŠŸãƒ»å¤±æ•—ã‚’è¡¨ç¾ã™ã‚‹ã‚ˆã†ãªä½¿ã„æ–¹ã§ã™ã­ã€‚\n(* ã‚ªãƒ¬ã‚ªãƒ¬IOå‹ *) module Io : sig type (\u0026#39;a, \u0026#39;e) t = Success of \u0026#39;a | Failure of \u0026#39;e val bind : (\u0026#39;a, \u0026#39;b) t -\u0026gt; (\u0026#39;a -\u0026gt; (\u0026#39;c, \u0026#39;b) t) -\u0026gt; (\u0026#39;c, \u0026#39;b) t end = struct type (\u0026#39;a, \u0026#39;e) t = Success of \u0026#39;a | Failure of \u0026#39;e let bind io f = match io with Success v -\u0026gt; f v | Failure _ as e -\u0026gt; e end æ¬¡ã®ã‚ˆã†ã«å®Ÿè£…ã™ã‚‹ã¨ Io.Success ä¸”ã¤ Result.Ok ã®ã¨ãã ã‘å€¤ã‚’å–ã‚Šå‡ºã—ã¦å¾Œç¶šã«å‡¦ç†ã‚’æ¸¡ã—ã¦ã„ãã“ã¨ãŒã§ãã¾ã™ã€‚\nmodule Io_result_ops = struct let ( let* ) x f = match x with | Io.Success (Ok v) -\u0026gt; f v | Io.Success (Error _ as e) -\u0026gt; Io.Success e | _ as e -\u0026gt; e let return x = Io.Success (Ok x) end let result = let open Io_result_ops in let* io1 = Io.Success (Ok 10) in let* io2 = Io.Success (Ok (io1 * 10)) in let* io3 = Io.Success (Ok (io2 * 10)) in let* io4 = Io.Success (Ok (io3 * 10)) in return io4;; (* val result : ((int, \u0026#39;a) result, \u0026#39;b) Io.t = Io.Success (Ok 10000) *) let result = let open Io_result_ops in let* io1 = Io.Success (Ok 10) in let* io2 = Io.Failure (\u0026#34;Internal Server Error\u0026#34;) in let* io3 = Io.Success (Ok (io2 * 10)) in let* io4 = Io.Success (Ok (io3 * 10)) in return io4;; (* val result : ((int, \u0026#39;a) result, string) Io.t = Io.Failure \u0026#34;Internal Server Error\u0026#34; *) let result = let open Io_result_ops in let* io1 = Io.Success (Ok 10) in let* io2 = Io.Success (Error(-1)) in let* io3 = Io.Success (Ok (io2 * 10)) in let* io4 = Io.Success (Ok (io3 * 10)) in return io4;; (* val result : ((int, int) result, \u0026#39;a) Io.t = Io.Success (Error (-1)) *) ã“ã†ã„ã†ã¨ãã€Scalaã‚„Haskellãªã©ã¯ãƒ¢ãƒŠãƒ‰ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼ã‚’ä½¿ã„ã¾ã™ãŒOcamlã®Binding operatorsã§ã‚‚ä¼¼ãŸã‚ˆã†ãªã“ã¨ã¯å‡ºæ¥ã¾ã™ã‚ˆã¨ã„ã†ãŠè©±ã§ã—ãŸã€‚\n  8.23 Binding operators \u0026#x21a9;\u0026#xfe0e;\n core-operator-char \u0026#x21a9;\u0026#xfe0e;\n   "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2020/12/10/hugo.html",
                "title": "Migrate to Hugo",
                "section": "post",
                "date" : "2020.12.10",
                "body": "ã“ã®ãƒ–ãƒ­ã‚°ã§ä½¿ã£ã¦ã„ã‚‹é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’Middlemanã‹ã‚‰Hugoã«ç§»è¡Œã—ã¾ã—ãŸã€‚ã¾ãŸã€è‰¯ã„æ©Ÿä¼šã ã£ãŸã®ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã‚‚GitHub Pagesã«å¼•ã£è¶Šã—ã‚’ã—ã¾ã—ãŸã€‚\nMiddlemanã‹ã‚‰Hugoã¸ã®ç§»è¡Œä½œæ¥­ã«ã¤ã„ã¦ç‰¹ã«ã‚ã‚Œã“ã‚Œã¨èªã‚‹ã“ã¨ã¯ãªã„ã®ã§ã™ãŒã€å¼·ã„ã¦è¨€ã†ãªã‚‰ã€å„è¨˜äº‹ã®ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯ã‚’å¤‰ãˆãŸããªã‹ã£ãŸã®ã§UglyURLsã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹ã«ã—ãŸã¨ã“ã‚ã€ã“ã‚Œã«å¯¾å¿œã—ã¦ã‚‹ãƒ†ãƒ¼ãƒãŒå…¨ç„¶ãªãã¦åœ°å‘³ã«è‹¦æˆ¦ã‚’å¼·ã„ã‚‰ã‚ŒãŸãã‚‰ã„ã§ã™ã‹ã­ã€‚\nã“ã®ãƒ–ãƒ­ã‚°ã§ä½¿ã†ã“ã¨ã«ã—ãŸHarborã¨ã„ã†ãƒ†ãƒ¼ãƒã‚‚ã†ã¾ãå‹•ã‹ãªã‹ã£ãŸã®ã§ã™ãŒã€ã¡ã‚‡ã£ã¨ã®æ‰‹ç›´ã—ã§å¯¾å¿œã§ãã‚‹ã“ã¨ãŒåˆ†ã‹ã£ãŸã®ã§PRã‚’å‡ºã—ã¾ã—ãŸã€‚ç„¡äº‹ãƒãƒ¼ã‚¸ã‚‚ã•ã‚ŒãŸã®ã§ã€ã‚‚ã—æ—¢å­˜ã®ãƒ–ãƒ­ã‚°ã®URLãŒ*.htmlçµ‚ã‚ã‚Šã«ãªã£ã¦ã„ã¦ãã®ã¾ã¾ç§»è¡Œã—ãŸã„äººãŒã„ãŸã‚‰å‚è€ƒã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã‚Œã«ã—ã¦ã‚‚3å¹´é–“ã‚‚ãƒ–ãƒ­ã‚°ã‚’æ”¾ç½®ã—ã¦ã—ã¾ã„ã¾ã—ãŸã€‚ã¾ãŸå°‘ã—ãšã¤æ›´æ–°ã‚’å†é–‹ã—ã¦ã„ãã¤ã‚‚ã‚Šã§ã™ãŒã€å…¨ç„¶ãƒã‚¿ãŒãªã„ã®ã§æœãŸã—ã¦ã©ã†ãªã‚‹ã‚„ã‚‰ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2017/02/18/akka-http-onsuccess-magnet.html",
                "title": "The Magnet Patternã§Akka HTTPã®onSuccessã§å‡¦ç†ã§ãã‚‹å‹ã‚’å¢—ã‚„ã™",
                "section": "post",
                "date" : "2017.02.18",
                "body": "onSuccessã¯The Magnet Patternã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã®ã§OnSuccessMagnetå‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã•ãˆå®šç¾©ã—ã¦ã—ã¾ãˆã°å‰²ã‚Šã¨ä½•ã§ã‚‚å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚å‹ãŒM[Future[A]]ã«ãªã£ã¦ã„ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãã®ã¾ã¾onSuccessã«æ¸¡ã—ãŸããªã£ãŸæ™‚ã®ãŸã‚ã«è¦šãˆã¦ãŠãã¨è‰¯ã„ã‹ã‚‚ã—ã‚Œãªã„ã€‚\nä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã§Directive[Tuple1[Future[A]]]ã«å¯¾å¿œã™ã‚‹ã“ã¨ãŒå¯èƒ½ã€‚\nimplicit def directiveIncludingFuture[T](futureDirective: Directive[Tuple1[Future[T]]])(implicit tupler: Tupler[T]): OnSuccessMagnet { type Out = tupler.Out } = { new OnSuccessMagnet { type Out = tupler.Out val directive: Directive[Out] = futureDirective.flatMap { future =\u0026gt; Directive[tupler.Out] { inner =\u0026gt; ctx =\u0026gt; import ctx.executionContext future.fast.flatMap(t =\u0026gt; inner(tupler(t))(ctx)) }(tupler.OutIsTuple) }(tupler.OutIsTuple) } } Directive[Tuple1[Future[A]]]ãªã‚“ã¦ãã†æ»…å¤šã«å‡ºã¦ã“ãªã„ã§ã—ã‚‡â€¦ã¨æ€ã„ãã‚„è¤‡æ•°ã®Directive1ã‹ã‚‰å–å¾—ã—ãŸå€¤ã‚’éåŒæœŸã§å‡¦ç†ã™ã‚‹ã¨ã„ã†ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã¯ãã‚Œãªã‚Šã«ã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚\nã“ã‚“ãªæ„Ÿã˜ã®ã‚„ã¤ã€‚\nval result = for { value1 \u0026lt;- directive1 value2 \u0026lt;- directive2 } yield hogeAsyncRepository.findBy(value1, value2) // resultã®å‹ã¯ Directive[Tuple1[Future[Option[A]]]] ã«ãªã‚‹  onSuccess(result) { case Some(_) =\u0026gt; complete(OK) case None =\u0026gt; complete(NotFound) } "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2017/02/04/akka-http-directive.html",
                "title": "Akka HTTPã®Directive0ã®ä½¿ã„å‹æ‰‹ãŒè‰¯ããªã„ã®ã§ã©ã†ã«ã‹ã™ã‚‹è©±",
                "section": "post",
                "date" : "2017.02.04",
                "body": "ã¾ãšDirective0ã¨Directive1ã®å‹å®šç¾©ã‚’è¦‹ã¦æ¬²ã—ã„ã€‚\ntype Directive0 = Directive[Unit] type Directive1[T] = Directive[Tuple1[T]] Directive0ãŒDirective1[Unit]ã§ã‚ã‚Œã°ãã“ã¾ã§å•é¡Œãªã‹ã£ãŸã®ã ãŒã€ã“ã®ã‚ˆã†ã«å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯Unitã¨Tuple1[T]ã¨ãªã£ã¦ã„ã‚‹ã€‚ãªãœã“ã®ã‚ˆã†ãªå®šç¾©ã«ãªã£ã¦ã„ã‚‹ã®ã‹ã¯æ­£ç¢ºã«ã¯åˆ†ã‹ã‚‰ãªã„ã‘ã©ã€ãŠãã‚‰ãDSLã¨ã—ã¦ã®ä½¿ã„å‹æ‰‹ã‚’å„ªå…ˆã—ãŸã®ã ã¨æ€ã†ã€‚directive0 { _ =\u0026gt; ... } ã‚ˆã‚Šã¯ directive0 { } ã¨æ›¸ã‘ãŸã»ã†ãŒè‰¯ã„çš„ãªã€‚\nã¾ãŸDirective1ã«ã¯implicit conversionã§mapã¨flatMapãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã®ã§forå¼ã§æ‰±ã†ã“ã¨ãŒã§ãã‚‹ãŒã€Directive0ã«ã¯ãã®2ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯å­˜åœ¨ã—ãªã„ï¼ˆä»£ã‚ã‚Šã«tmapã¨tflatMapã¯ã‚ã‚‹ï¼‰ã¤ã¾ã‚Šä¸¡æ–¹ã‚’åŒæ™‚ã«forå¼ã§å‡¦ç†ã™ã‚‹ã“ã¨ãŒã§ããªã„ã¨ã„ã†å•é¡ŒãŒç™ºç”Ÿã™ã‚‹ã€‚\næ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã¯å‹•ã‹ãªã„ã€‚\nfor { value1 \u0026lt;- directive1A _ \u0026lt;- directive0A value2 \u0026lt;- directive1B } yield (value1, value2) Directive0ã¯ãã‚“ãªã«åˆ©ç”¨é »åº¦ã¯é«˜ããªã„ã®ã ã‘ã©ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚„èªå¯ãªã©å€¤ã‚’è¿”ã•ãšã«å‡¦ç†ã‚’é€šã™ã‹é€šã•ãªã„ã‹ã ã‘ã‚’åˆ¤æ–­ã™ã‚‹ã¨ã“ã‚ã§ã¯ä½¿ã†ã®ã§ã€ã“ã‚Œã§ã¯ã¡ã‚‡ã£ã¨å›°ã‚‹ã€‚Akka HTTPçš„ã«ã¯forå¼ãªã©ä½¿ã‚ãšã«ã²ãŸã™ã‚‰ãƒã‚¹ãƒˆã•ã›ã¦ã„ãã®ã‚’æ¨å¥¨ã—ã¦ã„ã‚‹ã®ã‹ã‚‚ã—ã‚Œãªã„ã‘ã©ã€‚ã€‚ã€‚ã§ã‚‚forå¼ã‚‚ä½¿ã„ãŸã„ï¼\nã¨ã„ã†ã‚ã‘ã§implicit conversionã§Directive0ã«mapã¨flatMapã‚’ç”Ÿã‚„ã™ã€‚ã¤ã„ã§ã«Directive1[Unit]ã¨ã—ã¦ã‚‚æŒ¯ã‚‹èˆãˆã‚‹ã‚ˆã†ã«å‹å¤‰æ›ã‚‚ã—ã¦ãŠãã€‚\nimplicit class Directive0ForComprehensionSupport(directive0: Directive0) { def map[T](f: Unit =\u0026gt; T): Directive1[T] = directive0.tmap(f) def flatMap[T](f: Unit =\u0026gt; Directive1[T]): Directive1[T] = directive0.tflatMap(f) } implicit def directive0ToDirective1(directive0: Directive0): Directive1[Unit] = directive0.tflatMap(provide) ã¡ã‚‡ã£ã¨ãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰ã£ã½ã„ã‚„ã‚Šæ–¹ã ã‘ã©ã‚„ã‚ŠãŸã„äº‹ã¯å®Ÿç¾ã§ãã‚‹ã€‚ã”åˆ©ç”¨ã¯è¨ˆç”»çš„ã«ğŸ‘»\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2017/01/03/asset-allocation-2016.html",
                "title": "2016å¹´12æœˆæœ«ã®è³‡ç”£åˆ†é…",
                "section": "post",
                "date" : "2017.01.03",
                "body": "å®Ÿã¯æ•°å¹´å‰ã‹ã‚‰ç´°ã€…ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æŠ•è³‡ã‚’å®Ÿè·µã—ã¦ã„ã‚‹ã€‚ãã®å‰ã¯å€‹åˆ¥éŠ˜æŸ„ï¼ˆæ—¥æœ¬æ ªå¼ã®ç¾ç‰©ï¼‰ã‚’è²·ã„æ¼ã£ã¦ã‚¹ã‚¤ãƒ³ã‚°ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚’ã—ã¦ã€ã¾ãç¨‹ã€…ã«åˆ©ç›Šã¯å‡ºã›ã¦ã„ãŸã®ã ã‘ã©ã€ä»•äº‹ä¸­ã«æ ªä¾¡ãŒæ°—ã«ãªã‚‰ãªã„ã‹ã¨è¨€ã‚ã‚Œã‚‹ã¨å˜˜ã«ãªã‚‹ã€‚ç²¾ç¥è¡›ç”Ÿä¸Šè‰¯ããªã„ã—ã€ãã‚‚ãã‚‚ã‚ã¶ãéŠ­ã‚’å¾—ã‚‹ãŸã‚ã«ã‚„ã£ã¦ã‚‹è¨³ã§ã‚‚ç„¡ã‹ã£ãŸã®ã§ã€æ¯æœˆæ·¡ã€…ã¨ç©ç«‹ãŒã§ãã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æŠ•è³‡ã®ã»ã†ãŒè‡ªåˆ†ã«ã¯åˆã£ã¦ã„ãŸã€‚\nã‚ãŸã—ã®å ´åˆã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æŠ•è³‡ã®ã‚»ã‚ªãƒªãƒ¼ã«å‰‡ã‚Šã€æ—¥æœ¬æ ªå¼ã€å…ˆé€²å›½æ ªå¼ã€æ–°èˆˆå›½æ ªå¼ã€æ—¥æœ¬å‚µæ¨©ã€å¤–å›½å‚µæ¨©ã€REITã«åˆ†æ•£æŠ•è³‡ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã«ã—ã¦ã„ã‚‹ã€‚å¹´ã«2å›ç¨‹åº¦ã€æ¯”ç‡ã‚’ç¢ºèªã—ã¦ãƒªãƒãƒ©ãƒ³ã‚¹ã‚’è¡Œã£ã¦ã„ã‚‹ã®ã§ã€ã›ã£ã‹ãã ã—ãƒ–ãƒ­ã‚°ã«çµæœã‚’æ®‹ã—ã¦ãŠã“ã†ã¨æ€ã†ã€‚\nå½“ç„¶ã§ã™ãŒã€æŠ•è³‡ã¯è‡ªå·±è²¬ä»»ã§ã™ã€‚ã‚ã¾ã‚Šä»–äººã®ã¯å‚è€ƒã«ã—ãªã„ã»ã†ãŒè‰¯ã„ã¨æ€ã‚ã‚Œã¾ã™ã€‚\n2016å¹´12æœˆæœ« è³‡ç”£åˆ†é…ï¼ˆã‚¢ã‚»ãƒƒãƒˆã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰   2016å¹´12æœˆæœ« è³‡ç”£åˆ†é…   ã‚¢ãƒ¡ãƒªã‚«å¤§çµ±é ˜é¸æŒ™ã®å½±éŸ¿ã§æ—¥æœ¬æ ªå¼ã¨å…ˆé€²å›½æ ªå¼ãŒå¾ŒåŠã«ã‹ã‘ã¦ä¼¸ã³ã€æ—¥æœ¬å‚µæ¨©ãŒ30%ã‚’åˆ‡ã£ã¦ã—ã¾ã£ãŸã€‚å€‹äººçš„ã«ã¯æ—¥æœ¬å‚µæ¨©ã®æ¯”ç‡=å¹´é½¢ãã‚‰ã„ã«ã—ã¦ãŠããŸã„ã®ã§ã€ãƒªãƒãƒ©ãƒ³ã‚¹ã‚’è¨ˆç”»ä¸­ã€‚2017å¹´ã¯å›½å¤–ã®æ”¿æ²»çµŒæ¸ˆãŒæµå‹•çš„ã«ãªã‚Šãã†ã ã‘ã©ã€ç„¦ã‚‰ãšã«ã¾ã£ãŸã‚Šã‚„ã£ã¦ã„ãã€‚\nç¾åœ¨ç©ç«‹ä¸­ã®å•†å“\n æ—¥æœ¬æ ªå¼ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï½… å¤–å›½æ ªå¼ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï½… ï½…ï¼­ï¼¡ï¼¸ï¼©ï¼³ã€€æ–°èˆˆå›½æ ªå¼ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ æ—¥æœ¬å‚µåˆ¸ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï½… å¤–å›½å‚µåˆ¸ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï½… ï½…ï¼­ï¼¡ï¼¸ï¼©ï¼³ã€€å›½å†…ãƒªãƒ¼ãƒˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ ãƒ‹ãƒƒã‚»ã‚¤ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒªãƒ¼ãƒˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼¦  2016å¹´12æœˆæœ« è³‡ç”£å†…è¨³   2016å¹´12æœˆæœ« è³‡ç”£å†…è¨³   è²¯è“„å…¨ã¦ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æŠ•è³‡ã«çªã£è¾¼ã‚“ã§ã„ã‚‹ã‹ã¨ã„ã†ã¨ãã†ã§ã¯ãªãã€ç¾é é‡‘ã‚‚ä¸€å¿œãã‚Œãªã‚Šã«ç¢ºä¿ã—ã¦ã„ã‚‹ã€‚å»å¹´ã¯ã‚«ãƒ¡ãƒ©ã‚„æ´—æ¿¯æ©Ÿã‚’è²·ã£ã¦ç¾é‡‘ã‚’æ¸›ã‚‰ã—ã¦ã—ã¾ã£ãŸã®ã§ã€ä»Šå¹´ã¯è‡ªé‡ã—ã¦ç¾é‡‘ã‚‚å¢—ã‚„ã—ã¦ãŠããŸã„ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2017/01/01/bought-in-2016.html",
                "title": "2016å¹´ã«è²·ã£ã¦ã‚ˆã‹ã£ãŸã‚‚ã®",
                "section": "post",
                "date" : "2017.01.01",
                "body": "ã‚ã‘ã¾ã—ã¦ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€‚å»å¹´ã®ã†ã¡ã«æ›¸ãã®ã‚’ã™ã£ã‹ã‚Šå¿˜ã‚Œã¦ã„ã¾ã—ãŸãŒã€æµè¡Œã‚Šï¼Ÿã«ä¹—ã£ã¦è²·ã£ã¦ã‚ˆã‹ã£ãŸã‚‚ã®ã‚’ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚ã‚ã¾ã‚Šäººã«ã™ã™ã‚ã‚‰ã‚Œã‚‹ã‚‚ã®ã§ã¯ãªã„ã®ã§å®Œå…¨ã«ãƒãƒ©ã‚·ã®è£ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚\næ›¸ã„ã¦ã¦æ°—ä»˜ã„ãŸã®ã ã‘ã©æ•£è²¡ã—ã™ããªã®ã§ä»Šå¹´ã¯ç¯€ç´„ã‚’å¿ƒãŒã‘ã‚‹æ‰€å­˜ã€‚\nCanon EOS M2ã¨FUJIFILM X-E2ã¨RICOH GRã‚’æŒã£ã¦ã„ãŸã®ã ã‘ã©ã€å½“ç„¶ã®ã‚ˆã†ã«ãã‚“ãªã«æŒã£ã¦ã„ã¦ã‚‚ä½¿ã„ã“ãªã›ã‚‹ã‚ã‘ãŒãªã‹ã£ãŸã€‚ãã“ã§FUJINONãƒ¬ãƒ³ã‚ºã‚’æ®‹ã—ã¦å…¨ã¦å£²å´ã€‚2æœˆã«æ–°ç™ºå£²ã—ãŸFUJIFILM X-Pro2ã‚’è³¼å…¥ã—ã¦ä¸€æœ¬åŒ–ã—ã¾ã—ãŸã€‚\næ—…è¡ŒãŒå¥½ããªã®ã§æ—…å…ˆã§å†™çœŸã‚’ãŸãã•ã‚“æ’®ã£ãŸã‚Šã—ã¦æ´»èºä¸­ã€‚2016å¹´å¾ŒåŠã¯ä»•äº‹ãŒå¿™ã—ãã¦é˜²æ¹¿åº«ã§çœ ã‚Šã£ã±ãªã—ã«ãªã£ã¦ã„ãŸã®ã§ã€ã‚‚ã†å°‘ã—ç¨¼åƒç‡ã‚’ä¸Šã’ãŸã„ã¨ã“ã‚ã€‚\nX-Pro2è²·ã£ã¦ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰è³¼å…¥ã€‚å…ƒã€…XF35mm F1.4ã®ã»ã†ã‚’æŒã£ã¦ã„ãŸã‘ã©ã“ã®å°ã•ã•ã«æƒ¹ã‹ã‚ŒãŸã€‚è¦‹ãŸç›®çš„ã«ã‚‚X-Pro2ã«ã¨ã¦ã‚‚ä¼¼åˆã†ã€‚\næˆ‘ãŒå®¶ã®æ´—æ¿¯äº‹æƒ…ã«é©å‘½ãŒèµ·ããŸã€‚çµå©šã—ãŸæ™‚ã«è²·ã£ãŸæ´—æ¿¯æ©ŸãŒå£Šã‚ŒãŸã®ã§ä»•æ–¹ãªãè²·ã„æ›¿ãˆã¨ã„ã†æ„Ÿã˜ãªã®ã ã‘ã©ã€ã‚‚ã£ã¨æ—©ãè²·ã„æ›¿ãˆã¦ãŠã‘ã°è‰¯ã‹ã£ãŸã¨å¾Œæ‚”ã€‚ã“ã‚Œã¯ä¾¿åˆ©ã ã€‚\nä¼šç¤¾ã§è–¦ã‚ã‚‰ã‚Œã¦åŠã°è¡å‹•è²·ã„ã—ãŸã€‚ä¼šç¤¾å†…ã§ã‚‚è‡ªåˆ†ã¨åŒã˜ã‚ˆã†ã«è¡å‹•è²·ã„ã—ãŸäººãŒæ•°åã„ã‚‹ãã‚‰ã„ã«ã¯è©•åˆ¤ãŒè‰¯ã„ã€‚éŸ³è³ªé¢ã§ã¯ä»Šä¸€æ­©ã¨æ„Ÿã˜ã‚‹ã¨ã“ã¯ã‚ã‚‹ã‘ã‚Œã©ã€ä»•äº‹ã«é›†ä¸­ã—ãŸã„æ™‚ã‚„æ–°å¹¹ç·šã€é£›è¡Œæ©Ÿãªã©ã§ã‚†ã£ãã‚ŠéŸ³æ¥½ã‚’èããŸã„ã¨ã„ã†äººã«ã¯æœ€é«˜ãªã‚¢ã‚¤ãƒ†ãƒ ã ã¨æ€ã†ã€‚\nã‚‚ã¨ã‚‚ã¨ä¼šç¤¾ã«ç½®ã„ã¦ã‚ã£ãŸã‚‚ã®ãŒå£Šã‚ŒãŸã®ã§åŒã˜æ©Ÿç¨®ã‚’å†åº¦è²·ã£ãŸã€‚ã‚ˆãæŠ•ã’ã‚‹ãƒ¡ãƒ³ãƒãƒ¼ã§å‡ºã—åˆã£ã¦è²·ã£ãŸã®ã§å…±åŒæ‰€æœ‰ã£ã¦æ„Ÿã˜ã ã‘ã©ã€Scalaã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„CIå¾…ã£ã¦ã‚‹é–“ã®å¾®å¦™ãªæ™‚é–“ã‚’æ½°ã™ã®ã«æœ€é©ã§ã™ã€‚èº«ä½“ã‚’å‹•ã‹ã™ã¨ã¾ã§ã¯ã„ã‹ãªã„ã‘ã©ã€å¸­ã‚’ç«‹ã¤ã®ã§è¶³è…°ã‚„è¡€æµã«ã‚‚è‰¯ãã¦é ­ã‚‚ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã™ã‚‹ã®ã§å€‹äººçš„ã«ã¯â—\næ˜ ç”»ã€Œã‚ªãƒ‡ãƒƒã‚»ã‚¤ã€ã®åŸä½œã€‚ã™ã‚‰ã™ã‚‰èª­ã‚ã‚‹ã®ã§æ˜ ç”»ã‚’è¦³ãŸäººã‚‚è¦³ã¦ã„ãªã„äººã«ã‚‚ãŠã™ã™ã‚ã€‚ã¨ã‹è¨€ã£ã¦ãŠã„ã¦è‡ªåˆ†ã¯æ˜ ç”»è¦³ã¦ãªã„ã§ã™ãŒã€‚ã€‚ã€‚\nå°‘å¹´ã®é’æ˜¥æ™‚ä»£ã€ä¸»ã«å¤ä¼‘ã¿ã®å‡ºæ¥äº‹ãŒæ›¸ã‹ã‚ŒãŸçŸ­ç·¨å°èª¬â€¦ã¨ã„ã†ä½“ã‚’ã—ãŸãƒŸã‚¹ãƒ†ãƒªãƒ¼å°èª¬ã§ã™ã€‚\nãƒã‚±ãƒ¢ãƒ³ã¯å®‰å®šã—ã¦é¢ç™½ã„ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2016/12/05/akka-http-authentication.html",
                "title": "Akka HTTPã§èªè¨¼æ©Ÿèƒ½ã‚’æ‰‹è»½ã«å®Ÿè£…ã™ã‚‹æ–¹æ³•",
                "section": "post",
                "date" : "2016.12.05",
                "body": "ã“ã‚Œã¯Scala Advent Calendar 2016ã®5æ—¥ç›®ã§ã™ã€‚åŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§1æ—¥é…ã‚Œã§ã—ã‚Œã£ã¨æ›¸ãã‚ˆã€‚\nAkka HTTPã«ã¯ AuthenticationDirective ã¨ã„ã†èªè¨¼ã®ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ãŒæ¨™æº–ã§ç”¨æ„ã•ã‚Œã¦ã„ã¦ã€Bearer Token ã‚’è‡ªå‰ã§èªè¨¼ã—ãŸã„ã‚±ãƒ¼ã‚¹ã§ä½¿ãˆã‚‹ã€‚ä½¿ã„ã‹ãŸã¯ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ãŸã»ã†ãŒåˆ†ã‹ã‚Šã‚„ã™ã„ã¨æ€ã†ã®ã§ã‚µãƒ³ãƒ—ãƒ«ã‚’ä¹—ã›ãŸã€‚\nimport akka.actor.ActorSystem import akka.http.scaladsl.Http import akka.http.scaladsl.model.headers.{HttpChallenge, OAuth2BearerToken} import akka.http.scaladsl.server.directives.{AuthenticationDirective, AuthenticationResult} import akka.http.scaladsl.server.Directives._ import akka.stream.ActorMaterializer import scala.concurrent.Future case class Account(name: String) object Main extends App { implicit val system = ActorSystem() implicit val materializer = ActorMaterializer() val route = pathEndOrSingleSlash { authenticate { account =\u0026gt; complete(account.name) } } Http().bindAndHandle(route, \u0026#34;\u0026#34;, 8080) private def authenticate: AuthenticationDirective[Account] = { authenticateOrRejectWithChallenge[OAuth2BearerToken, Account] { case Some(OAuth2BearerToken(token)) if token == \u0026#34;123456789\u0026#34; =\u0026gt; Future.successful(AuthenticationResult.success(Account(\u0026#34;user\u0026#34;))) case _ =\u0026gt; Future.successful(AuthenticationResult.failWithChallenge( HttpChallenge(\u0026#34;bearer\u0026#34;, None, Map(\u0026#34;error\u0026#34; -\u0026gt; \u0026#34;invalid_token\u0026#34;))) ) } } } sbt run ã—ã¦ curl ã§å‹•ä½œç¢ºèªã‚’ã—ã¦ã¿ã‚‹ã€‚æ­£ã—ã„ãƒˆãƒ¼ã‚¯ãƒ³ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ complete(account.name) ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ãŒç¢ºèªã§ãã‚‹ã€‚\n$ curl -H \u0026quot;Authorization: Bearer 123456789\u0026quot; --dump-header - http://localhost:8080/ HTTP/1.1 200 OK Server: akka-http/10.0.0 Date: Tue, 06 Dec 2016 02:28:29 GMT Content-Type: text/plain; charset=UTF-8 Content-Length: 4 user ãƒˆãƒ¼ã‚¯ãƒ³ãŒé–“é•ã£ã¦ã„ãŸå ´åˆ\n$ curl -H \u0026quot;Authorization: Bearer invalid\u0026quot; --dump-header - http://localhost:8080/ HTTP/1.1 401 Unauthorized WWW-Authenticate: bearer,error=invalid_token Server: akka-http/10.0.0 Date: Tue, 06 Dec 2016 02:31:10 GMT Content-Type: text/plain; charset=UTF-8 Content-Length: 38 The supplied authentication is invalid Authorizationãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ä»˜ã‘ãªã‹ã£ãŸå ´åˆ\n$ curl --dump-header - http://localhost:8080/ HTTP/1.1 401 Unauthorized WWW-Authenticate: bearer,error=invalid_token Server: akka-http/10.0.0 Date: Tue, 06 Dec 2016 02:32:42 GMT Content-Type: text/plain; charset=UTF-8 Content-Length: 77 The resource requires authentication, which was not supplied with the request ã¡ãªã¿ã« AuthenticationDirective[T] ã®ã‚ˆã†ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯ç°¡å˜ã«ä½œã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ã‚ˆãä½¿ã†ã®ã¯ Directive0 ã¨ Directive1[T] ã®2ã¤ã§ã€AuthenticationDirectiveã‚‚Directive1[T]ãŒå…ƒã«ãªã£ã¦ã„ã‚‹ã€‚å‰è€…ã¯å€¤ã‚’è¿”ã•ãªã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã§å¾Œè€…ã¯æ¬¡ã®å‡¦ç†ã«å€¤ã‚’æ¸¡ã™ã€‚\nDirective0ã¯passã‹rejectã§ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã™ã‚‹ã€‚Directive1ã¯provideã§è¿”ã™å€¤ã‚’åŒ…ã‚€ã€‚æ±ç”¨çš„ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’ä½œã£ã¦ãŠã‘ã°ã€Railsã®ActionControllerã®filterã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã‚‹ã®ã§æ´»ç”¨ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\ndef directive0(str: String): Directive0 = if (str == ????) pass else reject() def directive1(str: String): Directive1[String] = if (str == ????) provide(str.toUpperCase) else reject() val routes = path(\u0026#34;users\u0026#34; / Segment) { str =\u0026gt; directive0(str) { directive1(str) { result =\u0026gt; complete(result) } } } "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2016/02/22/ocaml-luhn.html",
                "title": "OCamlã§Luhnã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æ›¸ã„ã¦ã¿ã‚‹",
                "section": "post",
                "date" : "2016.02.22",
                "body": "OCamlã«æ…£ã‚Œã‚‹ãŸã‚ã«ä½•ã‹æ›¸ã“ã†ã¨æ€ã£ãŸã‘ã©ã€ã‚ã¾ã‚Šã„ã„ãƒã‚¿ãŒæ€ã„æµ®ã‹ã°ãªã‹ã£ãŸã®ã§Luhnã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æ›¸ã„ã¦ã¿ãŸã€‚ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã®ç•ªå·ãªã©ã‚’æ¤œè¨¼ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚\n#load \u0026#34;str.cma\u0026#34;;; let check_number number = let calculate i x = if i mod 2 = 0 then int_of_string x else let d = int_of_string x * 2 in d mod 10 + d / 10 in Str.split (Str.regexp \u0026#34;\u0026#34;) number |\u0026gt; List.rev |\u0026gt; List.mapi calculate |\u0026gt; List.fold_left (fun x y -\u0026gt; x + y) 0 |\u0026gt; fun i -\u0026gt; i mod 10 = 0 let _ = (* ãƒ†ã‚¹ãƒˆç”¨ã®ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå· *) let numbers = [ \u0026#34;5555555555554444\u0026#34;; \u0026#34;5105105105105100\u0026#34;; \u0026#34;4111111111111111\u0026#34;; \u0026#34;4012888888881881\u0026#34;; \u0026#34;3530111333300000\u0026#34;; \u0026#34;3566002020360505\u0026#34;; \u0026#34;30569309025904\u0026#34;; \u0026#34;38520000023237\u0026#34;; \u0026#34;378282246310005\u0026#34;; \u0026#34;371449635398431\u0026#34;; \u0026#34;378734493671000\u0026#34;; \u0026#34;6011111111111117\u0026#34;; \u0026#34;6011000990139424\u0026#34;; ] in List.iter (fun n -\u0026gt; n |\u0026gt; check_number |\u0026gt; string_of_bool |\u0026gt; print_string) numbers å‚è€ƒæ–‡çŒ®  ãƒã‚§ãƒƒã‚¯ãƒ‡ã‚£ã‚¸ãƒƒãƒˆ - Wikipedia Luhnã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  - Wikipedia ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã«ã¤ã„ã¦ã®ãƒ¡ãƒ¢ at softelãƒ¡ãƒ¢  è¿½è¨˜ æœ‰ç›Šãªæƒ…å ±ã‚’ã„ãŸã ãã¾ã—ãŸã€‚æ¼”ç®—å­æ°—ã‚’ã¤ã‘ã‚ˆã†\n@d_akatsuka == ã˜ã‚ƒãªãã¦ = ã‚’ä½¿ã£ãŸã»ã†ãŒè‰¯ã„ã§ã™ã€‚ãã®ã‚³ãƒ¼ãƒ‰ã§ã¯å•é¡Œãªã„ã‚“ã§ã™ã‘ã©ã‚‚ã€ãƒã‚¤ãƒ³ã‚¿æ¯”è¼ƒã‚’é–“é•ã£ã¦ä½¿ã£ã¦ãƒãƒã‚‹äººå¤šã„ã®ã§\n\u0026mdash; Jun Furuse ğŸ«ğŸŒ´ (@camloeba) February 22, 2016  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2016/01/31/setup-ocaml.html",
                "title": "OCamlã®é–‹ç™ºç’°å¢ƒã‚’æ•´ãˆãŸ",
                "section": "post",
                "date" : "2016.01.31",
                "body": "æœ¬å½“ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã®Mac OS Xä¸Šã«é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã—ãŸã®ã ã‘ã©ã€ãƒ¡ãƒ¢ã‚’å–ã‚Šå¿˜ã‚Œã¦ã„ãŸã®ã§ã€æ”¹ã‚ã¦Vagrantã§èµ·å‹•ã—ãŸUbuntu 15.10ä¸Šã§é–‹ç™ºç’°å¢ƒã‚’æ•´ãˆã¦ã¿ãŸã€‚\nã¾ãšã‚·ã‚¹ãƒ†ãƒ ã«Ocamlã¨OPAMã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚2016å¹´1æœˆæ™‚ç‚¹ã§ã¯OCaml 4.02.3ãŒå…¥ã£ãŸã€‚\n$ sudo add-apt-repository ppa:avsm/ppa $ sudo apt-get update $ sudo apt-get install ocaml ocaml-native-compilers camlp4-extra opam m4 git mercurial darcs ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã€‚\n$ ocaml -version The OCaml toplevel, version 4.02.3 $ opam --version 1.2.2 OPAMã‚’ä½¿ã†ãŸã‚ã«ã¯åˆæœŸåŒ–ãŒå¿…è¦ã€‚ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ ~/.opam ãŒä½œã‚‰ã‚Œã‚‹ã€‚\n$ opam init åˆæœŸåŒ–ãŒçµ‚ã‚ã‚‹ã¨ä¸‹è¨˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã¦ãã‚‹ã®ã§æŒ‡ç¤ºã«å¾“ã†ã€‚\n1. To configure OPAM in the current shell session, you need to run: eval `opam config env` 2. To correctly configure OPAM for subsequent use, add the following line to your profile file (for instance ~/.profile): . /home/vagrant/.opam/opam-init/init.sh \u0026gt; /dev/null 2\u0026gt; /dev/null || true 3. To avoid issues related to non-system installations of `ocamlfind` add the following lines to ~/.ocamlinit (create it if necessary): let () = try Topdirs.dir_directory (Sys.getenv \u0026quot;OCAML_TOPLEVEL_PATH\u0026quot;) with Not_found -\u0026gt; () ;; ã‚·ã‚¹ãƒ†ãƒ ãƒ¯ã‚¤ãƒ‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸOcamlç’°å¢ƒã¯ã‚¯ãƒªãƒ¼ãƒ³ã«ä¿ã£ã¦ãŠããŸã„ã®ã§ã€é–‹ç™ºç”¨ã«æ–°ã—ã„ç’°å¢ƒã‚’ç”¨æ„ã—ã‚ˆã†ã€‚opam switchã‚³ãƒãƒ³ãƒ‰ã§ç’°å¢ƒã®ä½œæˆã‚„åˆ‡ã‚Šæ›¿ãˆãªã©ãŒè¡Œãˆã‚‹ã€‚OPAMã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã¨ç’°å¢ƒç®¡ç†ãŒã‚»ãƒƒãƒˆã«ãªã£ãŸã‚‚ã®ã¨æ€ã£ã¦ãŠã‘ã°è‰¯ã„ã ã‚ã† 1\n$ opam switch install dev --alias-of 4.02.3 OCamlã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¾ã§ã‚„ã£ã¦ãã‚Œã‚‹ã€‚å°‘ã—æ™‚é–“ãŒã‹ã‹ã‚‹ãŒã€æ˜¨ä»Šã®PCãªã‚‰æ•°åˆ†ç¨‹åº¦ã§çµ‚ã‚ã‚‹ã¯ãšã€‚\n=-=- Installing compiler 4.02.3 -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= [default.comp] http://caml.inria.fr/pub/distrib/ocaml-4.02/ocaml-4.02.3.tar.gz downloaded Now compiling OCaml. This may take a while, please bear with us... Done. =-=- Gathering sources =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= =-=- Processing actions -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= âˆ— installed base-bigarray.base âˆ— installed base-ocamlbuild.base âˆ— installed base-threads.base âˆ— installed base-unix.base Done. # To setup the new switch in the current shell, you need to run: eval `opam config env` evalã—ã¦ç’°å¢ƒã‚’é©ç”¨ã™ã‚‹ã€‚ocamlã‚³ãƒãƒ³ãƒ‰ã‚„opamã‚³ãƒãƒ³ãƒ‰ã®ãƒ‘ã‚¹ãŒå¤‰ã‚ã£ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã‚‹ã€‚\n$ eval `opam config env` $ which ocaml /home/vagrant/.opam/dev/bin/ocaml Vimã‚„Emacsãªã©ã®ã‚¨ãƒ‡ã‚£ã‚¿ã§è£œå®Œã‚’æœ‰åŠ¹ã«ã™ã‚‹ãŸã‚ã«merlinã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å…¥ã‚Œã‚‹ã€‚\n$ opam install merlin .vimrc ã«ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚Œã° .merlin ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã‚ªãƒ ãƒ‹è£œå®ŒãŒåƒãã‚ˆã†ã«ãªã‚‹ã€‚ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¾å­˜ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æŒ‡å®šã—ãªã„ã¨é§„ç›®ãªã®ã§ã¡ã‚‡ã£ã¨é¢å€’ãã•ã„ã€‚\nsyntax onfiletype plugin onlet g:opamshare = substitute(system(\u0026#39;opam config var share\u0026#39;),\u0026#39;\\n$\u0026#39;,\u0026#39;\u0026#39;,\u0026#39;\u0026#39;\u0026#39;\u0026#39;)execute \u0026#34;set rtp+=\u0026#34; . g:opamshare . \u0026#34;/merlin/vim\u0026#34;ã‚ã¨ã¯utopã‚„oasisãªã©ã‚’OPAMã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã‘ã°é–‹ç™ºã«å–ã‚Šæ›ã‹ã‚Œã‚‹ã¨æ€ã†ã€‚ãªãŠã€utopã§æ—¥æœ¬èªã®æ‰±ã„ãŒæ®‹å¿µãªã®ã§~/.ocamlinitãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ãŠãã¨è‰¯ã„ã€‚\nlet printer ppf = Format.fprintf ppf \u0026#34;\\\u0026#34;%s\\\u0026#34;\u0026#34;;; #install_printer printer   Rubyã§ã„ã†ã¨ã“ã‚ã®Gem + Bundler + rbenvãŒã²ã¨ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã«é›†ç´„ã•ã‚ŒãŸæ„Ÿã˜ \u0026#x21a9;\u0026#xfe0e;\n   "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/12/30/lookback.html",
                "title": "2015å¹´æŒ¯ã‚Šè¿”ã‚Š",
                "section": "post",
                "date" : "2015.12.30",
                "body": "ä»•äº‹å…¨èˆ¬ 2013å¹´ã«Aç¤¾ã‚’é€€è·ã—ãŸã‚ã¨ã€ã—ã°ã‚‰ããƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã‚’ã‚„ã£ã¦ã„ãŸã®ã ã‘ã©ã€ç´†ä½™æ›²æŠ˜ã‚ã£ã¦2014å¹´ã®é€”ä¸­ã‹ã‚‰å¤å·£ã«æˆ»ã£ã¦ã€ç¾å ´ã§ã‚³ãƒ¼ãƒ‰ã‚‚æ›¸ãã¤ã¤çµŒå–¶ã«ã‚‚ã‚³ãƒŸãƒƒãƒˆã—ã¦ã¾ã—ãŸã€‚è‰¯ã„ã“ã¨ã‚‚ã‚ã£ãŸã—ç››å¤§ã«å¤±æ•—ã—ãŸã“ã¨ã‚‚ã‚ã£ãŸã‘ã©ã€ãã“ãã“å……å®Ÿã—ã¦ãŸ1å¹´ã ã£ãŸæ°—ãŒã™ã‚‹ã€‚\n  æ¯æ—¥ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãâ€¦ã¨ã„ã†ã®ã¯æ®‹å¿µãªãŒã‚‰ç„¡ç†ã ã£ãŸã€‚ãŒã€è‡ªåˆ†ãŒæ›¸ã‹ãªãã¦ã‚‚ä»•äº‹ãŒã¾ã‚ã‚‹çŠ¶æ³ã«ãªã£ã¦ããŸã¨ã„ã†æ„å‘³ã§ã¯æ­£ã—ã„ã‹ãŸã¡ãªã®ã‹ã‚‚ã—ã‚Œãªã„ã€‚\næ¥å¹´ã¯ã‚‚ã†å°‘ã—ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã§ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãæ©Ÿä¼šã‚’å¢—ã‚„ã—ãŸã„ã€‚\nScala ä»•äº‹é¢ã§ã¯ã€å»å¹´ã‹ã‚‰é–‹ç™ºãŒç¶šã„ã¦ã„ã‚‹Scalaãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ2æœ¬ã‚ã‚Šã€ç„¡äº‹ã«ãƒ­ãƒ¼ãƒ³ãƒã™ã‚‹ã“ã¨ãŒã§ããŸã€‚å®‰å®šã—ã¦é‹ç”¨ã‚‚ã§ãã¦ã„ã‚‹ã€‚ã©ã¡ã‚‰ã‚‚ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³å‘ã‘ã‚²ãƒ¼ãƒ ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã ã£ãŸã®ã§ã€ã²ãŸã™ã‚‰JSONã‚’è¿”ã™APIã®å®Ÿè£…ã ã£ãŸã€‚\nè‡ªåˆ†ã¯é–‹ç™ºåˆæœŸã®åŸºç›¤è¨­è¨ˆã‚„é–‹ç™ºæ–¹é‡ãƒ»ç’°å¢ƒæ•´å‚™ãƒ»ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã‚’æ•´ãˆã‚‹ãªã©ã®ä½œæ¥­ãŒä¸­å¿ƒã§ã€å®Ÿéš›ã®å®Ÿè£…ã¯ãƒãƒ¼ãƒ ã«ä»»ã›ã£ãã‚Šã ã£ãŸã€‚ä¸€éƒ¨è¨­è¨ˆãŒã‚¤ã‚±ã¦ãªãã¦è¿·æƒ‘ã‚’æ›ã‘ãŸã‹ã‚‚ã—ã‚Œãªã„ã€‚\né–‹ç™ºæ–¹é‡ã¯ã€é–¢æ•°å‹ã®å´é¢ã¯ã‚ã¾ã‚Šå‡ºã•ãšPlay + ScalikeJDBCã§DDDã¨ã„ã†æ–¹é‡ã«ã—ãŸã€‚æ··ä¹±ã‚‚ãªãæ¦‚ã­ã†ã¾ãã„ã£ãŸã¨æ€ã£ã¦ã„ã‚‹ãŒã€ãƒªãƒã‚¸ãƒˆãƒªã«å®Ÿè£…ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã®æˆ»ã‚Šå‹ãŒã»ã¨ã‚“ã©Try[A]ã«ãªã£ã¦ã„ã¦ã€å¼•ããšã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã‚µãƒ¼ãƒ“ã‚¹ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚‚Tryã ã‚‰ã‘ã«ãªã£ã¦ã„ãŸæ°—ãŒã™ã‚‹ã€‚ã“ã‚Œã§è‰¯ã„ã®ã‹ã¨è‹¥å¹²ã®ä¸å®‰ã¯æ®‹ã‚‹ã€‚\nãªãŠã€é–‹ç™ºå¾ŒæœŸã¯ãšã£ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã®é…ã•ã¨ãƒ†ã‚¹ãƒˆã®é…ã•ã«æ‚©ã¾ã•ã‚Œã‚‹æ—¥ã€…ã ã£ãŸ 1\nãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã§ã¯Scalaz, Finagle, Finch, http4sãªã©ã‚’å¼„ã£ã¦éŠã‚“ã§ã„ãŸã€‚http4sã«ã¯ã—ã‚‡ã†ã‚‚ãªã„PRã‚’é€ã£ãŸã‚Šã™ã‚‹ãªã©ã—ã¦ã„ãŸã€‚æ¥å¹´ã‚‚å¼•ãç¶šãScalaã¯ä½¿ã£ã¦ã„ããŸã„ã€‚\nPython Pythonã§ç›´æ¥ä½•ã‹ã‚’é–‹ç™ºã—ã¦ã„ãŸè¨³ã§ã¯ãªã„ãŒã€Scalaã®ä»•äº‹ã‚’ã—ã¦ã„ã‚‹ã¨ãã«ã€sbtã®ã‚¿ã‚¹ã‚¯ãŒã‚ã¾ã‚Šã«ã‚‚ä½¿ã„ã«ããã¦Invokeã¨ã„ã†Pythonè£½ãƒ„ãƒ¼ãƒ«ã§ä»£ç”¨ã—ã¦ã„ãŸã€‚Invokeã§æ›¸ã„ãŸã‚¿ã‚¹ã‚¯ã¯ã®ã¡ã«Fabricã«å…¨é¢ç§»è¡Œã—ãŸã‘ã©ã€ä»Šå¹´ã¯é–“æ¥çš„ã«Pythonã‚’ã‚ˆãèª­ã¿æ›¸ãã—ãŸæ°—ãŒã™ã‚‹ã€‚ã‚ã‚ã€Ansibleã‚‚Pythonã ã£ãŸã€‚\nRuby APIã‚„ç®¡ç†ç”»é¢ã®é–‹ç™ºã«ä½¿ã£ãŸã€‚ã‚‚ã†Rubyï¼ˆã¨Ruby on Railsï¼‰ã¯é•·ã„ã“ã¨ä½¿ã£ã¦ã„ã‚‹ã®ã ã‘ã©ã€é™ã‚‰ã‚ŒãŸæ™‚é–“ã®ãªã‹ã§ã™ãå½¢ã«ã—ã¦å‡ºã™ã¨ã„ã†è¦æ±‚ã«ã¯å¼·ã„ãªã¨æ”¹ã‚ã¦æ€ã£ãŸ 2\nã‚ã¨RakeãŒä½•ã ã‹ã‚“ã ã„ã£ã¦ä¾¿åˆ©ã€‚\nRubyã¯æ¥å¹´ã‚‚å¤‰ã‚ã‚‰ãšæ‰‹ã«é¦´æŸ“ã‚€ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ä½¿ã£ã¦ã‚‹ã¨æ€ã†ã€‚\nGolang ç¤¾å†…ã§ã‚‚ä½¿ã‚ã‚Œã¦ã„ã‚‹è¨€èªãªã®ã§æŠŠæ¡ãã‚‰ã„ã¯ã—ã¦ãŠã“ã†ã¨æ€ã„ã¤ã¤ã€å…¨ç„¶ã§ãã¦ã„ãªã„ã€‚\nHaskell ã™ã”ã„Hæœ¬ã‚’èª­ã¿ãªãŒã‚‰ç´°ã€…ã¨å®¶ã§ã‚³ãƒ¼ãƒ‰æ›¸ã„ãŸã‚Šã—ã¦ã„ã‚‹ã€‚ãƒ¢ãƒŠâ—¯ã‚„å‹ã‚¯ãƒ©ã‚¹ãªã©ã®æ¦‚å¿µã¯Scalaã§æŠŠæ¡ã—ã¦ã„ãŸã®ã§ãã“ã§èº“ãã“ã¨ã¯ç„¡ã•ãã†ã€‚ãŸã ç‹¬ç‰¹ã®æ§‹æ–‡ã«æ…£ã‚Œã‚‹ã«ã¯æ›¸ãé »åº¦ã‚’å¢—ã‚„ã•ãªã„ã¨ãƒ€ãƒ¡ã ã€‚\nOCaml Haskellã‚’ã‚„ã‚Šã¤ã¤æœ€è¿‘ã¯OCamlã«æµ®æ°—ã—ã¦ã„ã‚‹ã€‚Real World OCamlèª­ã‚“ã§å¹´è¶Šã—äºˆå®šã€‚ã¾ã ã‹ã˜ã£ãŸç¨‹åº¦ã ã‘ã©æ‚ªããªã•ãã†ã€‚\nC++ è‡ªåˆ†ãŒC++ã‚’æ›¸ãã“ã¨ãŒå½“é¢ç„¡ã•ãã†ã€‚ãŸã ä»•äº‹ã§C++ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å°‘ã—ã ã‘é–¢ã‚ã‚‹é›°å›²æ°—ãŒå‡ºã¦ããŸã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šãªã©ã‚’èª¿ã¹ã¦ãŸã€‚Bazelè‰¯ã•ãã†ã€‚\nAnsible ä»Šå¹´ã¯ã‚ˆãAnsibleã®YAMLã‚’æ›¸ã„ã¦ã„ãŸæ°—ãŒã™ã‚‹ã€‚æ…£ã‚Œã¦ã„ãªã„åˆæœŸã¯æ›¸ã„ã¦ã¯å®Ÿè¡Œã—ã€å¤±æ•—ã—ã€ã®ç¹°ã‚Šè¿”ã—ã§æ­£ç›´å«Œã„ã«ãªã‚Šã‹ã‘ãŸã€‚\nç¤¾å†…ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯å…¨ã¦CircleCIã‹ã‚‰è‡ªå‹•çš„ã«ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ãŸã‘ã©ã€CircleCIã‹ã‚‰ã®å¤šæ®µSSHãŒã¨ã¦ã‚‚ä¸å®‰å®šã§ã€ä¸€éƒ¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯CircleCIã‹ã‚‰Ansibleã‚’å®Ÿè¡Œã™ã‚‹ã®ã¯æ­¢ã‚ãŸã‚ˆã†ã ï¼ˆç›´è¿‘é–¢ã‚ã£ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯å¤šæ®µSSHã§ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã—ã¦ã„ã‚‹ãŒå®‰å®šã¯ã—ã¦ã‚‹ã€‚ãŸã ã—é…ã„ï¼‰\nã¾ãæ–‡å¥ã°ã‹ã‚Šè¨€ã£ã¦ã‚‹ãŒChefã‚ˆã‚Šã¯ä½¿ã„ã‚„ã™ã„ã¨æ€ã£ã¦ã„ã‚‹ã®ã§ã€ãã£ã¨æ¥å¹´ã‚‚ä½¿ã£ã¦ã„ã‚‹ã¨æ€ã†ã€‚\nDocker æœ¬ç•ªç’°å¢ƒã§é‹ç”¨ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¤ã¤ã€å‡ºæ¥ãšã«ã„ã‚‹ã€‚\né–‹ç™ºã«å¿…è¦ãªãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®æä¾›ã‚„ãƒ†ã‚¹ãƒˆç’°å¢ƒã®å†ç¾ã‚’ã™ã‚‹ãŸã‚ã«ä¸€éƒ¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§åˆ©ç”¨ã—ã¦ã‚‹ç¨‹åº¦ã«ãªã£ã¦ç•™ã¾ã£ã¦ã—ã¾ã£ã¦ã„ã‚‹ã€‚æ¥å¹´ã¯ã‚‚ã†å°‘ã—æ´»ç”¨ã®å¹…ã‚’åºƒã’ãŸã„ãªãã€‚\nElectron çœºã‚ã¦ã„ãŸã ã‘ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®æŠ€è¡“ã«ã¯ç½®ã„ã¦è¡Œã‹ã‚Œã¦ã„ã‚‹æ„ŸãŒã‚ã‚‹ã€‚ã‚„ã°ã„\nå¥åº· æ¦‚ã­å¥åº·ä½“ã‚’ç¶­æŒã§ãã¦ã„ã‚‹ãŒã€æ˜”ã‚ˆã‚Šç–²åŠ´ã‚’è¦šãˆã‚‹ã“ã¨ãŒå¤šããªã£ã¦ããŸã€‚å˜ã«é‹å‹•ä¸è¶³ã ã‚ã£ã¦æ°—ã‚‚ã™ã‚‹ãŒã€ãªã‚‹ã»ã©ã“ã‚ŒãŒè€ã„ã‹ã€‚\nã‚ã¨å¤©çš‡èª•ç”Ÿæ—¥ã«ã‚¦ã‚¤ãƒ«ã‚¹æ€§èƒƒè…¸ç‚ã¨ã„ã†ä¸€è¶³æ—©ã„ã‚¹ãƒ†ã‚­ãªã‚¯ãƒªã‚¹ãƒã‚¹ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’é ‚ã„ãŸã€‚ãŠã‹ã’ã§ä»Šå¹´ã®æœ€çµ‚å‡ºç¤¾æ—¥ãŒ22æ—¥ã«ãªã£ã¦ã—ã¾ã„ã€å¹´æœ«å¹´å§‹ã®ä¼‘æ—¥æ•°ã ã‘ã¯éå»æœ€é«˜ã«ãªã£ãŸæ°—ãŒã™ã‚‹ã€‚\nå­¦å• é–¢æ•°å‹è¨€èªã‚’æœ¬æ ¼çš„ã«è§¦ã‚Šå§‹ã‚ãŸå½±éŸ¿ã§ã€æ•°å­¦ã‚„è«–ç†å­¦ã‚’å†å‹‰å¼·ã—ã¯ã˜ã‚ã¦ã„ã‚‹ã€‚ã‚ã¾ã‚Šæ—ã£ã¦ã„ãªã„ã‘ã©ã€ã“ã‚Œã‹ã‚‰ã‚‚å°‘ã—ãšã¤å‹‰å¼·ã—ã¦ã„ãã¨æ€ã†ã€‚\n  çµå±€CircleCIã‚’æ¨ã¦ã¦ã€AWSã«c4.2xlargeã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å€Ÿã‚Šã¦Droneã‚’å‹•ã‹ã™æ„Ÿã˜ã«ã—ã¦ã—ã¾ã£ãŸã€‚ \u0026#x21a9;\u0026#xfe0e;\n 4äººã§åŠå¹´ãã‚‰ã„ã‹ã‘ã¦1ã‚µãƒ¼ãƒ“ã‚¹ãŒãƒ­ãƒ¼ãƒ³ãƒã§ããŸ \u0026#x21a9;\u0026#xfe0e;\n   "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/12/27/numeric-typeclass.html",
                "title": "Scalaã§Numericå‹ã‚¯ãƒ©ã‚¹ã‚’ã¤ã‹ã†",
                "section": "post",
                "date" : "2015.12.27",
                "body": "ã™ã”ã„Haskellæœ¬ã®åºç›¤ã«æ¬¡ã®ã‚ˆã†ãªé–¢æ•°ãŒå‡ºã¦ãã‚‹ã€‚ã“ã®é–¢æ•°ã¯xãŒæ•´æ•°ã§ã‚‚æµ®å‹•å°æ•°ç‚¹æ•°ã§ã‚‚å‹•ãã€‚\ndoubleMe x = x + x Scalaã§ã‚‚Numericå‹ã‚¯ãƒ©ã‚¹ã‚’ã¤ã‹ã†ã“ã¨ã§åŒã˜ã‚ˆã†ã«æŒ¯ã‚‹èˆãˆã‚‹ã€‚\ndef doubleMe[A](x: A)(implicit num: Numeric[A]): A = num.plus(x, x) å‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã—ã¦ã—ã¾ãˆã°ã©ã‚“ãªå‹ã«ã‚‚å¯¾å¿œã§ãã‚‹ã€‚ãŸã¨ãˆã°â€¦\nimplicit val numericString = new Numeric[String] { def plus(x: String, y: String): String = x + y def minus(x: String, y: String): String = x - y def times(x: String, y: String): String = x * y def negate(x: String): String = s\u0026#34;-$x\u0026#34; def toInt(x: String): Int = 0 def toLong(x: String): Long = 0 def toFloat(x: String): Float = 0 def toDouble(x: String): Double = 0 def fromInt(x: Int): String = x.toString def compare(x: String, y: String): Int = x compare y } doubleMe(\u0026#34;a\u0026#34;) // String = \u0026#34;aa\u0026#34; "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/12/15/finagle-mysql-readert.html",
                "title": "finagle-mysqlã®Client (IO Context) ã‚’ReaderTã§å—ã‘å–ã‚‹",
                "section": "post",
                "date" : "2015.12.15",
                "body": "ä¸‹æº–å‚™ã¨ã—ã¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚ãŸã‚Šã«ä»¥ä¸‹ã®ãŠã¾ã˜ãªã„ã‚’æ›¸ã„ã¦ãŠã1 ã“ã®æ™‚ç‚¹ã§ã™ã§ã«é¢å€’ã ï¼\nimport com.twitter.util.Future import scalaz._ import Scalaz._ implicit def FutureFunctor: Functor[Future] = new Functor[Future] { def map[A, B](f: Future[A])(map: A =\u0026gt; B): Future[B] = f.map(map(_)) } implicit def FutureMonad: Monad[Future] = new Monad[Future] { def point[A](a: =\u0026gt; A) = Future.value(a) def bind[A, B](f: Future[A])(fmap: A =\u0026gt; Future[B]) = f.flatMap(fmap(_)) } type ReaderTFuture[A, B] = ReaderT[Future, A, B] object ReaderTFuture extends KleisliInstances with KleisliFunctions { def apply[A, B](f: A =\u0026gt; Future[B]): ReaderTFuture[A, B] = kleisli(f) } Finch + MySQLã§REST APIã‚µãƒ¼ãƒã‚’æ§‹ç¯‰ã™ã‚‹ã§æ›¸ã„ãŸUserãŒimplicit parameterã‚’ä½¿ã£ã¦Clientã‚’å—ã‘å–ã£ã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã‚’ReaderTã«ç½®ãæ›ãˆã¦ã¿ãŸã€‚\nimport com.twitter.finagle.exp.mysql._ case class User(id: Long, email: String, screen_name: String) object User { def find(id: Long): ReaderTFuture[Client, Option[User]] = ReaderTFuture { client =\u0026gt; client.prepare(\u0026#34;SELECT * FROM users WHERE id = ?\u0026#34;)(id) map { result =\u0026gt; result.asInstanceOf[ResultSet].rows.map(convertToEntity).headOption } } def create(email: String, screen_name: String): ReaderTFuture[Client, Long] = ReaderTFuture { client =\u0026gt; client.prepare(\u0026#34;INSERT INTO users (email, screen_name) VALUES(?, ?)\u0026#34;)(email, screen_name) map { result =\u0026gt; result.asInstanceOf[OK].insertId } } def convertToEntity(row: Row): User = { val LongValue(id) = row(\u0026#34;id\u0026#34;).get val StringValue(email) = row(\u0026#34;email\u0026#34;).get val StringValue(screen_name) = row(\u0026#34;screen_name\u0026#34;).get User(id, email, screen_name) } } ã“ã‚“ãªæ„Ÿã˜ã§ä½¿ã†ã“ã¨ãŒã§ãã‚‹ã€‚\nval client = Mysql.client .withCredentials(\u0026#34;user\u0026#34;, \u0026#34;password\u0026#34;) .withDatabase(\u0026#34;database\u0026#34;) .newRichClient(\u0026#34;127.0.0.1:3306\u0026#34;) (for { id \u0026lt;- User.create(\u0026#34;user1@example.com\u0026#34;, \u0026#34;user1\u0026#34;) user \u0026lt;- User.find(id) } yield user match { case Some(v) =\u0026gt; Created(v) case _ =\u0026gt; NotFound(new Exception(\u0026#34;xxxxx\u0026#34;)) }).run(client) ä¸Šè¨˜ã®ã‚ˆã†ã«.runã§ã¾ã¨ã‚ã¦æ¸¡ã™ã“ã¨ã‚‚å‡ºæ¥ã‚‹ã—val user = User.find(id)(client)ã¨ç›´æ¥æ¸¡ã™ã“ã¨ã‚‚å‡ºæ¥ã‚‹ã®ã§ã€ä½¿ã„ã‚„ã™ã„ã»ã†ã‚’é¸ã¹ã°è‰¯ã•ãã†ã€‚\nå‚è€ƒæ–‡çŒ®  ç‹¬ç¿’ Scalaz â€” ãƒ¢ãƒŠãƒ‰å¤‰æ›å­ Scala ã«ãŠã‘ã‚‹ Repository ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è€ƒãˆã‚‹ -æ¨¡ç´¢ç¯‡- - sandbox Scala ã§ IO ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®å…±æœ‰ã‚’ implicit ä»¥å¤–ã§è§£æ±ºã™ã‚‹æ–¹æ³• (0) - sandbox Scalaã«ãŠã‘ã‚‹æœ€é©ãªDependency Injectionã®æ–¹æ³•ã‚’è€ƒå¯Ÿã™ã‚‹ ã€œãªãœãƒ‰ãƒ¯ãƒ³ã‚´ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®ç”Ÿç”£æ€§ã¯é«˜ã„ã®ã‹ã€œ - Qiita ã€Scala Days 2014ã€‘The Reader Monad for Dependency Injection ã‚’è§£èª¬ã—ã¦ã¿ãŸ | Scala Tech Blog    Futureã‚’Functorã¨Monadã®å‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã€‚ReaderTã§ã¯ãªãReaderä½¿ã†å ´åˆã¯ä¸è¦ã€‚ \u0026#x21a9;\u0026#xfe0e;\n   "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/12/13/finch-endpoint-test.html",
                "title": "Finchã®Endpointã®ãƒ†ã‚¹ãƒˆæ–¹æ³•ã‚’èª¿ã¹ãŸ",
                "section": "post",
                "date" : "2015.12.13",
                "body": "Finchã¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ä½œã‚‹ã¨ãã«æˆ»ã‚Šå€¤ã‚’å‹ã§ç¸›ã‚Œã‚‹ã®ã§ã€æ­£å¸¸ç³»ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«é–¢ã—ã¦ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’ä¿¡ç”¨ã—ã¦å¤§ä¸ˆå¤«ã ã‚ã†ã€‚ãŸã ã—ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã¾ã§ã¯æ¤œè¨¼å‡ºæ¥ãªã„ã®ã§ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚ˆã£ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒå¤‰ã‚ã‚‹å ´åˆãªã©ã¯ã—ã£ã‹ã‚Šã¨ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦ãŠããŸã„ã€‚\nFinchã®Endpointå‹ã¯toServiceé–¢æ•°ã§com.twitter.finagle.Serviceå‹ã«å¤‰ã‚ã‚Šã€ã“ã‚Œã«Requestã‚’æ¸¡ã›ã°Responseå‹ãŒè¿”ã£ã¦ãã‚‹ã‚‰ã—ã„ã€‚REPLã§ç¢ºèªã—ã¦ã¿ãŸã€‚\nscala\u0026gt; import io.finch._ import io.finch._ scala\u0026gt; import com.twitter.finagle.http._ import com.twitter.finagle.http._ scala\u0026gt; import com.twitter.util.Await import com.twitter.util.Await scala\u0026gt; val endpoint: Endpoint[String] = get(\u0026quot;foo\u0026quot; / string) { s: String =\u0026gt; Ok(s) } endpoint: io.finch.Endpoint[String] = GET /foo/:string scala\u0026gt; val service = endpoint.toService service: com.twitter.finagle.Service[com.twitter.finagle.http.Request,com.twitter.finagle.http.Response] = \u0026lt;function1\u0026gt; scala\u0026gt; service(Request(\u0026quot;/foo/bar\u0026quot;)) res0: com.twitter.util.Future[com.twitter.finagle.http.Response] = Promise@886121853(state=Done(Return(Response(\u0026quot;HTTP/1.1 Status(200)\u0026quot;)))) scala\u0026gt; val response = Await.result(service(Request(\u0026quot;/foo/bar\u0026quot;))) response: com.twitter.finagle.http.Response = Response(\u0026quot;HTTP/1.1 Status(200)\u0026quot;) scala\u0026gt; response.status res1: com.twitter.finagle.http.Status = Status(200) scala\u0026gt; response.contentString res2: String = bar ã¡ã‚ƒã‚“ã¨è¿”ã£ã¦ããŸã€‚å•é¡Œãªã•ãã†ã€‚\nå‚è€ƒæ–‡çŒ®  finch/EndToEndSpec.scala Â· finagle/finch  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/12/10/luaj.html",
                "title": "Scalaã§Luaã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å‹•ã‹ã—ã¦éŠã¶",
                "section": "post",
                "date" : "2015.12.10",
                "body": "ã“ã‚Œã¯Scala Advent Calendar 2015ï¼ˆAdventarç‰ˆï¼‰10æ—¥ç›®ã§ã™ã€‚9æ—¥ç›®ã¯Shinpeimã•ã‚“ã®æ—¢å­˜ã®ã‚¯ãƒ©ã‚¹ã‚’Scalazã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹å‹ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã™ã‚‹ã®å·»ã§ã—ãŸã€‚\nã•ã¦ã€Scalaã§Luaã§ã™ã€‚ã¿ã‚“ãªScalaä¸Šã§Luaå‹•ã‹ã—ãŸã„ã§ã™ã‚ˆã­ï¼ï¼Ÿ1\nluaj 2ã‚’å…¥ã‚Œã¾ã—ã‚‡ã†\nlibraryDependencies += \u0026#34;org.luaj\u0026#34; % \u0026#34;luaj-jse\u0026#34; % \u0026#34;3.0.1\u0026#34; ãŸã å®Ÿè¡Œã™ã‚‹ã ã‘ãªã‚‰JsePlatform.standardGlobals().loadã‚’ä½¿ã„ã¾ã™ã€‚ã¾ãŸloadFileãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚æŒ‡å®šã§ãã‚‹ã‚ˆã†ã§ã™ã€‚\nimport org.luaj.vm2.lib.jse._ val globals = JsePlatform.standardGlobals() val chunk = globals.load(\u0026#34;print \u0026#39;hello, world\u0026#39;\u0026#34;) chunk.call $ sbt run [info] Set current project to (...) [info] Compiling 1 Scala source to ... [info] Running Main hello, world Scalaã‹ã‚‰Luaã«å€¤ã‚’æ¸¡ã—ãŸã‚Šã€é€†ã«Luaã‹ã‚‰å€¤ã‚’å—ã‘ã¨ã‚ŠãŸããªã‚Šã¾ã™ã‚ˆã­ã€‚ã‚‚ã¡ã‚ã‚“å¯èƒ½ã§ã™ã€‚\nimport javax.script.ScriptEngineManager val manager = new ScriptEngineManager() val engine = manager.getEngineByName(\u0026#34;luaj\u0026#34;) engine.put(\u0026#34;x\u0026#34;, 10) engine.put(\u0026#34;y\u0026#34;, 20) engine.eval(\u0026#34;z = x + y\u0026#34;) val result = engine.get(\u0026#34;z\u0026#34;) println(result) // =\u0026gt; 30 èª¿å­ã«ä¹—ã£ã¦Luaã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’éåŒæœŸã§å®Ÿè¡Œã—ã¦ã¿ã¾ã—ãŸã€‚\nimport javax.script.ScriptEngineManager import scala.concurrent.duration.Duration import scala.concurrent.{Await, Future} import scala.concurrent.ExecutionContext.Implicits.global object Main { def executeLua[T](script: String, returnVariable: String, binds: Map[String, Any]): Future[T] = Future { val manager = new ScriptEngineManager() val engine = manager.getEngineByName(\u0026#34;luaj\u0026#34;) binds.foreach { bind =\u0026gt; engine.put(bind._1, bind._2) } engine.eval(script) engine.get(returnVariable).asInstanceOf[T] } def main(args: Array[String]): Unit = { val luaScript = \u0026#34;\u0026#34;\u0026#34; |function fib(n) | if n \u0026lt; 2 then return n end | return fib(n - 2) + fib(n - 1) |end | |result = fib(x) \u0026#34;\u0026#34;\u0026#34;.stripMargin val f1 = executeLua[Int](luaScript, \u0026#34;result\u0026#34;, Map(\u0026#34;x\u0026#34; -\u0026gt; 10)) val f2 = executeLua[Int](luaScript, \u0026#34;result\u0026#34;, Map(\u0026#34;x\u0026#34; -\u0026gt; 38)) val f3 = executeLua[Int](luaScript, \u0026#34;result\u0026#34;, Map(\u0026#34;x\u0026#34; -\u0026gt; 10)) f1.onSuccess { case r: Int =\u0026gt; println(r) } f2.onSuccess { case r: Int =\u0026gt; println(r) } f3.onSuccess { case r: Int =\u0026gt; println(r) } Await.ready(f1, Duration.Inf) Await.ready(f2, Duration.Inf) Await.ready(f3, Duration.Inf) } } $ ./sbt run [info] Set current project to (...) [info] Compiling 1 Scala source to ... [info] Running Main 55 55 39088169 [success] Total time: 26 s, completed 2015/12/09 3:14:23   ãƒã‚¿ã£ã½ã„æ„Ÿã˜ã§ã™ãŒã€ã‚²ãƒ¼ãƒ æ¥­ç•Œã ã¨Luaã®éœ€è¦ãŒãã‚Œãªã‚Šã«ã‚ã‚‹ã®ã§ã€ç¾å ´ã«ã‚ˆã£ã¦ã¯æ„å¤–ã¨ä½¿ãˆã‚‹ã‹ã‚‚ï¼Ÿã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹ã«å½±éŸ¿ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’Luaã«åˆ‡ã‚Šå‡ºã—ã¦ãŠãã¨é–‹ç™ºçµ‚ç›¤ã«ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ãŒå¹¸ã›ã«ãªã‚Œã‚‹ã‹ã‚‚ã—ã‚Œãªã„ \u0026#x21a9;\u0026#xfe0e;\n Javaãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã®ã§Scalaä»¥å¤–ã§ã‚‚ä½¿ãˆã¾ã™ \u0026#x21a9;\u0026#xfe0e;\n   "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/12/07/finch.html",
                "title": "Finch + MySQLã§REST APIã‚µãƒ¼ãƒã‚’æ§‹ç¯‰ã™ã‚‹",
                "section": "post",
                "date" : "2015.12.07",
                "body": "ã“ã‚Œã¯Scala Advent Calendar 2015ï¼ˆAdventarç‰ˆï¼‰7æ—¥ç›®ã§ã™ã€‚6æ—¥ç›®ã¯Hiroyuki-Nagataã•ã‚“ã®Scalatraã¨non-blocking APIã«ã¤ã„ã¦ãƒ¡ãƒ¢ - ãªã‚“ã¨ãªï½ãã—ã‚ã‚ã›ï¼Ÿã®æ—¥è¨˜ã§ã—ãŸã€‚\nã•ã¦ã€7æ—¥ç›®ã¯Finchã¨ã„ã†Finagleãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚ã‚ˆãã‚ã‚‹Sinatraãƒ©ã‚¤ã‚¯ãªãƒã‚¤ã‚¯ãƒ­ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ã²ã¨ã¤ã§ã™ã€‚Hello Wordã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã«å‡ºåŠ›ã—ã¦ã¯ã„çµ‚ã‚ã‚Šã¨ã„ã†ã®ã‚‚å‘³æ°—ãªã„ã®ã§ã€MySQLã«æ¥ç¶šã—ã¦ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’å–ã‚Šå‡ºã—ãŸã‚Šç™»éŒ²å‡ºæ¥ã‚‹ã¨ã“ã‚ã¾ã§æŒã£ã¦ã„ãã¾ã™ã€‚\nã¯ã˜ã‚ã« ä»Šå›ã¯ä»¥ä¸‹ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ä½œã‚‹ã“ã¨ã«ã—ã¾ã™ï¼ˆæ›´æ–°ã¨å‰Šé™¤ã¯é¢å€’ã«ãªã£ãŸã®ã§ç„¡ã—ï¼ã”ã‚ã‚“ãªã•ã„ï¼‰\nGET /users GET /users/:id POST /users ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãå‰ã«MySQLã«ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œã£ã¦ãŠãã¾ã—ã‚‡ã†ã€‚\nCREATE TABLE `users` ( `id` BIGINT NOT NULL AUTO_INCREMENT, `email` VARCHAR(255) NOT NULL, `screen_name` VARCHAR(255) NOT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB; ä¾å­˜é–¢ä¿‚ é–‹ç™ºç‰ˆã®0.9.2-SNAPSHOTã‚’åˆ©ç”¨ã—ã¾ã™ã€‚ã¾ãŸMySQLã«ç¹‹ããŸã‚ã«finagle-mysqlã‚‚å…¥ã‚Œã¾ã™ã€‚\nbuild.sbtã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nname := \u0026#34;finchtest\u0026#34; version := \u0026#34;0.1.0\u0026#34; scalaVersion := \u0026#34;2.11.7\u0026#34; resolvers += Resolver.sonatypeRepo(\u0026#34;snapshots\u0026#34;) libraryDependencies ++= Seq( \u0026#34;com.twitter\u0026#34; %% \u0026#34;finagle-mysql\u0026#34; % \u0026#34;6.30.0\u0026#34;, \u0026#34;com.github.finagle\u0026#34; %% \u0026#34;finch-core\u0026#34; % \u0026#34;0.9.2-SNAPSHOT\u0026#34; changing(), \u0026#34;com.github.finagle\u0026#34; %% \u0026#34;finch-argonaut\u0026#34; % \u0026#34;0.9.2-SNAPSHOT\u0026#34; changing() ) å®Ÿè£… æ—¥æœ¬èªã®æƒ…å ±ãŒã»ã¨ã‚“ã©ãªã„ã“ã¨ã‚„å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒã‚„ã‚„åˆ†ã‹ã‚Šã¥ã‚‰ã„ã“ã¨ã‚’é™¤ã‘ã°1Finchè‡ªä½“ã®ä½¿ã„ã‹ãŸã¯ãã‚“ãªã«é›£ã—ããªã„ã§ã™ã€‚Finchã‚ˆã‚Šã‚‚finagle-mysqlã®ä½¿ã„ã‹ãŸã‚’èª¿ã¹ã‚‹ã®ã«è‹¦åŠ´ã—ãŸã®ã¯å†…ç·’ã§ã™ã€‚\nä»Šå›ã¯DBã®CRUDæ“ä½œã‚’ã™ã‚‹User.scalaã¨Main.scalaã®2ãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãã¾ã—ãŸã€‚\npackage jp.dakatsuka.finch import argonaut.Argonaut._ import argonaut.CodecJson import com.twitter.finagle.exp.mysql._ import com.twitter.util.Future case class User(id: Long, email: String, screen_name: String) object User { implicit val userCodec: CodecJson[User] = casecodec3(User.apply, User.unapply)(\u0026#34;id\u0026#34;, \u0026#34;email\u0026#34;, \u0026#34;screen_name\u0026#34;) def all()(implicit client: Client): Future[Seq[User]] = client.select(\u0026#34;SELECT * FROM users\u0026#34;)(convertToEntity) def find(id: Long)(implicit client: Client): Future[Option[User]] = client.prepare(\u0026#34;SELECT * FROM users WHERE id = ?\u0026#34;)(id) map { result =\u0026gt; result.asInstanceOf[ResultSet].rows.map(convertToEntity).headOption } def create(email: String, screen_name: String)(implicit client: Client): Future[Long] = client.prepare(\u0026#34;INSERT INTO users (email, screen_name) VALUES(?, ?)\u0026#34;)(email, screen_name) map { result =\u0026gt; result.asInstanceOf[OK].insertId } def convertToEntity(row: Row): User = { val LongValue(id) = row(\u0026#34;id\u0026#34;).get val StringValue(email) = row(\u0026#34;email\u0026#34;).get val StringValue(screen_name) = row(\u0026#34;screen_name\u0026#34;).get User(id, email, screen_name) } } package jp.dakatsuka.finch import com.twitter.finagle.Http import com.twitter.finagle.exp.Mysql import com.twitter.util.Await import io.finch._ import io.finch.argonaut._ object Main { implicit val client = Mysql.client .withCredentials(\u0026#34;user\u0026#34;, \u0026#34;password\u0026#34;) .withDatabase(\u0026#34;database\u0026#34;) .newRichClient(\u0026#34;127.0.0.1:3306\u0026#34;) case class UserParams(email: String, screen_name: String) val userParams: RequestReader[UserParams] = for { email \u0026lt;- param(\u0026#34;email\u0026#34;) screen_name \u0026lt;- param(\u0026#34;screen_name\u0026#34;) } yield UserParams(email, screen_name) val listUser: Endpoint[Seq[User]] = get(\u0026#34;users\u0026#34;) { Ok(User.all) } val showUser: Endpoint[User] = get(\u0026#34;users\u0026#34; / long) { id: Long =\u0026gt; User.find(id).map { case Some(user) =\u0026gt; Ok(user) case _ =\u0026gt; NotFound(new Exception(\u0026#34;Record Not Found\u0026#34;)) } } val createUser: Endpoint[User] = post(\u0026#34;users\u0026#34; ? userParams) { p: UserParams =\u0026gt; (for { id \u0026lt;- User.create(p.email, p.screen_name) user \u0026lt;- User.find(id) } yield user) map { case Some(user) =\u0026gt; Created(user) case _ =\u0026gt; NotFound(new Exception(\u0026#34;Record Not Found\u0026#34;)) } } val userService = (listUser :+: showUser :+: createUser).toService def main(args: Array[String]): Unit = { Await.ready(Http.serve(\u0026#34;:8080\u0026#34;, userService)) } } å‹•ã‹ã—ã¦ã¿ã‚ˆã† ã„ã¤ã‚‚ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚µãƒ¼ãƒãŒèµ·å‹•ã—ã¾ã™ã€‚\n$ sbt run [info] Set current project to finchtest (in build file:/path/to/project/) [info] Compiling 1 Scala source to /path/to/project/target/scala-2.11/classes... [info] Running jp.dakatsuka.finch.Main 12 05, 2015 11:30:49 åˆå¾Œ com.twitter.finagle.Init$$anonfun$1 apply$mcV$sp æƒ…å ±: Finagle version 6.30.0 (rev=745578b931893c432e51da623287144e548cc489) built at 20151015-163818 curlã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n$ curl http://localhost:8080/users [] $ curl http://localhost:8080/users/1 Record Not Found $ curl -X POST http://localhost:8080/users Required param 'email' not present in the request. $ curl -X POST -d \u0026quot;email=user1@example.com\u0026quot; http://localhost:8080/users Required param 'screen_name' not present in the request. $ curl -X POST -d \u0026quot;email=user1@example.com\u0026quot; -d \u0026quot;screen_name=user1\u0026quot; http://localhost:8080/users {\u0026quot;id\u0026quot;:1,\u0026quot;email\u0026quot;:\u0026quot;user1@example.com\u0026quot;,\u0026quot;screen_name\u0026quot;:\u0026quot;user1\u0026quot;} $ curl -X POST -d \u0026quot;email=user2@example.com\u0026quot; -d \u0026quot;screen_name=user2\u0026quot; http://localhost:8080/users {\u0026quot;id\u0026quot;:2,\u0026quot;email\u0026quot;:\u0026quot;user2@example.com\u0026quot;,\u0026quot;screen_name\u0026quot;:\u0026quot;user2\u0026quot;} $ curl http://localhost:8080/users [{\u0026quot;id\u0026quot;:1,\u0026quot;email\u0026quot;:\u0026quot;user1@example.com\u0026quot;,\u0026quot;screen_name\u0026quot;:\u0026quot;user1\u0026quot;},{\u0026quot;id\u0026quot;:2,\u0026quot;email\u0026quot;:\u0026quot;user2@example.com\u0026quot;,\u0026quot;screen_name\u0026quot;:\u0026quot;user2\u0026quot;}] $ curl http://localhost:8080/users/1 {\u0026quot;id\u0026quot;:1,\u0026quot;email\u0026quot;:\u0026quot;user1@example.com\u0026quot;,\u0026quot;screen_name\u0026quot;:\u0026quot;user1\u0026quot;} æœŸå¾…é€šã‚Šã®å‹•ãã§ã™ã­ ğŸ˜\nã¾ã¨ã‚ Finchã¯ã„ã‹ãŒã§ã—ãŸã‹ï¼Ÿ\nFinagleã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ä¸Šã«ä¹—ã£ã¦ã„ã‚‹ã®ã§ã€Finagleã«æ…£ã‚Œã¦ã„ã‚‹äººãŒã‚µã‚¯ãƒƒã¨REST APIã‚’å®Ÿè£…ã™ã‚‹ã«ã¯è‰¯ã„é¸æŠè‚¢ã ã¨æ€ã„ã¾ã™ã€‚finagle-*ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚å½“ç„¶ä½¿ãˆã¾ã™ã€‚Finagleä½¿ã£ãŸã“ã¨ãªã„äººã«ã‚‚ã€é™çš„å‹ä»˜ã‘ã®æ©æµã‚’å—ã‘ãªãŒã‚‰Sinatraãƒ©ã‚¤ã‚¯ã«é–‹ç™ºå‡ºæ¥ã‚‹ã¨ã„ã†ã®ã¯é­…åŠ›çš„ã«æ˜ ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã­ã€‚\nå€‹äººçš„ã«ã¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æˆ»ã‚Šå€¤ãŒå‹ã§ä¿è¨¼å‡ºæ¥ã‚‹ã®ãŒé«˜ãƒã‚¤ãƒ³ãƒˆã§ã™ï¼\nã¡ãªã¿ã«ã€ä¼¼ãŸã‚ˆã†ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦Finagle, Akka HTTP, Scalatra, http4sãªã©ãŒã‚ã‚Šã¾ã™ã€‚http4sã¯Scalaã®HTTPã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ http4s è¶…å…¥é–€ã§é›‘ã«ç´¹ä»‹ã—ã¦ã„ã‚‹ã®ã§ã€èˆˆå‘³ã‚ã‚‹æ–¹ã¯ã©ã†ãã€‚\n  Scalaãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¯ã‚ˆãã‚ã‚‹ã“ã¨ãªã®ã§é ‘å¼µã£ã¦è²¢çŒ®ã—ãŸã„â€¦ \u0026#x21a9;\u0026#xfe0e;\n   "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/12/01/https.html",
                "title": "HTTPSã«ç§»è¡Œã—ãŸ",
                "section": "post",
                "date" : "2015.12.01",
                "body": "ã•ãã‚‰ã®SSL1ã§RapidSSLãŒ1å¹´åˆ†ç„¡æ–™ã«ãªã‚‹ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚’ã‚„ã£ã¦ã„ãŸã®ã§ã€ã“ã®ãƒ–ãƒ­ã‚°ã‚’æ€ã„åˆ‡ã£ã¦HTTPSã«ç§»è¡Œã—ãŸã€‚æœ€åˆã¯CloudFlareã‚’ä½¿ãŠã†ã‹ã¨è€ƒãˆã¦ã„ãŸã®ã ã‘ã©ã€ã©ã†ã›ãªã‚‰HTTP/2ã«ã—ãŸã„ã¨æ€ã„ã€ã•ãã‚‰ã®VPSã«nginx 1.9.7ã‚’å…¥ã‚Œã¦é‹ç”¨ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ãŸã€‚\næ¦‚ã­å•é¡Œãªãç§»è¡Œå‡ºæ¥ãŸæ°—ãŒã™ã‚‹ã‘ã©ã€ã¾ãã¶ã£ã¡ã‚ƒã‘ãŸè©±ã€å€‹äººã‚µã‚¤ãƒˆã§HTTPS, HTTP/2ã«æ€¥ã„ã§ç§»è¡Œã™ã‚‹ãƒ¡ãƒªãƒƒãƒˆã¯ç„¡ã•ãã†ã ã€‚ç”»åƒã‚„JavaScript, CSSãŒå¤§é‡ã«ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚µã‚¤ãƒˆãªã‚‰åŠ¹æœå‡ºã‚‹ã‹ã‚‚ã—ã‚Œãªã„ï¼Ÿ\nä½œæ¥­å†…å®¹ã¯ä¸»ã«ä¸‹è¨˜4ç‚¹ã€‚ã“ã‚Œã¨ã„ã£ã¦é›£ã—ã„ã“ã¨ã¯ã—ã¦ã„ãªã„ã€‚\n nginxã‚’æœ€æ–°ã®1.9.7ã«ä¸Šã’ãŸ2 Strict-Transport-Securityãƒ˜ãƒƒãƒ€ã‚’è¿”ã™ã‚ˆã†ã«ã—ãŸ HTTPã¯HTTPSã«301ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹ã‚ˆã†ã«ã—ãŸ ã‚µã‚¤ãƒˆå†…ã®ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯ä¿®æ­£  ã¾ãŸã€ãšã£ã¨æ”¾ç½®ã—ã¦ã„ãŸæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³å‘ã‘ã®å¯¾å¿œã‚‚ã¤ã„ã§ã«è¡Œã£ãŸã€‚\n robots.txtç”¨æ„ã—ãŸ sitemap.xmlç”¨æ„ã—ãŸ  å‚è€ƒã«ã—ãŸã‚µã‚¤ãƒˆ  HTTPSã¸ - Weblog - Hail2u.net nginxã§HTTP2æ¥ç¶š(not spdy3.1)ã®æ¤œè¨¼ - Qiita Nginx 1.9.5 ã§HTTP2ã‚’è©¦ãã†ï¼ - ã‚ã™ã®ã‹ãœ    SSLã®è¨¼æ˜æ›¸ã‚’è²©å£²ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ãŒHTTPã®ã¾ã¾ãªã®ã§ã¨ã¦ã‚‚ã‚·ãƒ¥ãƒ¼ãƒ« \u0026#x21a9;\u0026#xfe0e;\n http://nginx.org/en/download.html \u0026#x21a9;\u0026#xfe0e;\n   "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/11/22/http4s-with-ssl.html",
                "title": "http4sã§HTTPSã‚’æœ‰åŠ¹ã«ã™ã‚‹",
                "section": "post",
                "date" : "2015.11.22",
                "body": "SSLSupportãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦BlazeBuilderã®.withSSLã«KeyStoreã®æƒ…å ±ã‚’æ¸¡ã›ã°HTTPSãŒæœ‰åŠ¹ã«ãªã‚‹ã€‚ä»£ã‚ã‚Šã«HTTPã¯ç„¡åŠ¹ã«ãªã£ã¦ã—ã¾ã†ã®ã§æ³¨æ„ã€‚\nimport org.http4s.server.blaze.BlazeBuilder import org.http4s.server.SSLSupport._ BlazeBuilder .bindHttp(8080) .withSSL( keyStore = StoreInfo(\u0026#34;/path/to/keystore\u0026#34;, \u0026#34;password\u0026#34;), keyManagerPassword = \u0026#34;password\u0026#34; ) .mountService(servie) .run .awaitShutdown() OpenSSLã§ç”Ÿæˆã—ãŸéµã‚„è¨¼æ˜æ›¸ã‹ã‚‰KeyStoreãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹æ–¹æ³•ã€æ¯å›ã‚°ã‚°ã£ã¦ã‚‹æ°—ãŒã™ã‚‹ã®ã§ãƒ¡ãƒ¢ã£ã¦ãŠãã€‚\n$ openssl pkcs12 -inkey server.key -in server.crt -export -out server.pkcs12 $ keytool -importkeystore -srckeystore ./server.pkcs12 -srcstoretype PKCS12 -destkeystore server.keystore $ keytool -keystore ./server.keystore -import -alias ServerChain -file ./server.ca -trustcacerts ã¡ãªã¿ã«BlazeBuilderã§.enableHttp2(true)ã‚’æ›¸ã‘ã°HTTP/2ãŒæœ‰åŠ¹ã«ãªã‚‹ã‚‰ã—ã„ãŒã€æ‰‹å…ƒã§ã¯ã†ã¾ãå‹•ã‹ãªã‹ã£ãŸã€‚ãªã«ã‹è¨­å®šãŒè¶³ã‚Šãªã„ã®ã‹ã‚‚ã—ã‚Œãªã„ã€‚ã€‚ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/11/21/2007.html",
                "title": "2007å¹´é ƒã«æ›¸ã„ã¦ã„ãŸæŠ€è¡“ãƒ–ãƒ­ã‚°ã®ã‚¨ãƒ³ãƒˆãƒªã‚’ãƒªã‚«ãƒãƒªãƒ¼ã—ãŸ",
                "section": "post",
                "date" : "2015.11.21",
                "body": "ãã®æ˜” http://d.hatena.ne.jp/CLA ã¨ã„ã†æŠ€è¡“ãƒ–ãƒ­ã‚°ã‚’æ›¸ã„ã¦ã„ãŸã€‚ãªãœæ¶ˆã—ãŸã®ã‹æœ€æ—©è¨˜æ†¶ã«ã¯ãªã„ãŒã€ç‰¹ã«éš ã™å†…å®¹ã®ã‚‚ã®ã§ã‚‚ç„¡ã•ãã†ã ã£ãŸã®ã§ã€ã“ã®ãƒ–ãƒ­ã‚°ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã«ã—ãŸã€‚ã›ã£ã‹ãæ›¸ã„ãŸè¨³ã ã—è‡ªèº«ã®è¨˜éŒ²ã¨ã—ã¦æ®‹ã—ã¦ãŠã“ã†ã‹ã¨ã€‚\nã¡ãªã¿ã«è‚å¿ƒã®å†…å®¹ã ãŒã€Ubuntu 7.04ï¼ˆFeistyï¼‰ã‚’å¼„ãã£ã¦ã©ã†ã“ã†ã™ã‚‹ã¨ã„ã†ã‚¨ãƒ³ãƒˆãƒªãŒã»ã¨ã‚“ã©ã§ã€ä»Šã¨ãªã£ã¦ã¯å…¨ãå½¹ã«ç«‹ãŸãªã„ã ã‚ã†ã€‚æ™‚ä»£ã‚’æ„Ÿã˜ã‚‹ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/11/18/activerecord-import.html",
                "title": "activerecord-importã¨elasticsearch-railsã§ãƒ¡ã‚½ãƒƒãƒ‰ãŒè¢«ã‚‹å•é¡Œ",
                "section": "post",
                "date" : "2015.11.18",
                "body": "ã©ã¡ã‚‰ã®gemã‚‚ActiveRecordãƒ¢ãƒ‡ãƒ«ã«importãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”Ÿã‚„ãã†ã¨ã™ã‚‹ã€‚\nã„ã„æ„Ÿã˜ã«å…±å­˜ã•ã›ã‚‹æ–¹æ³•ã‚’ã‚°ã‚°ã£ã¦ã„ãŸã‚‰åŒã˜ã“ã¨ã‚’Issueã§è³ªå•ã—ã¦ã„ã‚‹äººãŒã„ã¦ã€è§£æ±ºæ–¹æ³•ãŒæ›¸ã„ã¦ã‚ã£ãŸã®ã§åŠ©ã‹ã£ãŸã€‚config/application.rbã§activerecord-importå´ã®ãƒ¡ã‚½ãƒƒãƒ‰åã‚’å¤‰æ›´ã™ã‚‹ã€‚\nrequire File.expand_path(\u0026#39;../boot\u0026#39;, __FILE__) require \u0026#39;rails/all\u0026#39; # https://github.com/zdennis/activerecord-import/issues/149 require \u0026#39;activerecord-import/base\u0026#39; class ActiveRecord::Base class \u0026lt;\u0026lt; self alias :bulk_insert :import remove_method :import end end Bundler.require(*Rails.groups) .... å‚è€ƒæ–‡çŒ®  elasticsearch-rails activerecord-import Name clash with the elasticsearch gem Â· Issue #149 Â· zdennis/activerecord-import  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/11/15/diary.html",
                "title": "é€€ç¤¾å¾Œã®è»½ã„é‹å‹•",
                "section": "post",
                "date" : "2015.11.15",
                "body": "ã“ã®2å¹´é–“ã§6ã‚­ãƒ­ãã‚‰ã„å¤ªã£ãŸã€‚é£Ÿã¹ã‚‹é‡ã¯å¤‰ã‚ã£ã¦ã„ãªã„ã®ã§å˜ç´”ã«é‹å‹•ä¸è¶³ã ã¨æ€ã†ã€‚ã¾ãã‚¹ãƒˆãƒ¬ã‚¹ã‚‚å¤šå°‘å½±éŸ¿ã—ã¦ã„ã‚‹ã‹ã‚‚ã€‚\næœ€è¿‘ã¯é€€ç¤¾å¾Œã«ã€è¥¿æ–°å®¿äº”ä¸ç›®ã«ã‚ã‚‹ã‚ªãƒ•ã‚£ã‚¹ã‹ã‚‰ä¸­é‡é§…ã¾ã§æ­©ã„ãŸã‚Šã—ã¦ã„ã‚‹ãŒï¼ˆèª¿å­ãŒè‰¯ããªã„ã¨ä¸­é‡å‚ä¸Šé§…ã‚„æ±ä¸­é‡é§…ãŒã‚´ãƒ¼ãƒ«ã«ãªã‚‹ï¼‰æ®‹å¿µãªãŒã‚‰ã¾ã ä½“é‡ä½ä¸‹ã«ã¯ç¹‹ãŒã£ã¦ã„ãªã„ã€‚ã¶ã£ã¡ã‚ƒã‘è»½ã„é‹å‹•ã«ã‚‚ãªã£ã¦ã„ãªã„ã®ã§ã¯â€¦ã¨è–„ã€…æ€ã„å§‹ã‚ã¦ã„ã‚‹ãŒã€ã“ã†ã„ã†ã®ã¯ç¶™ç¶šãŒå¤§äº‹ã¨ã„ã†ã“ã¨ãªã®ã§ã‚‚ã†æš«ãç¶šã‘ã¦ã¿ã‚‹ã¤ã‚‚ã‚Šã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/11/14/http4s.html",
                "title": "Scalaã®HTTPã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ http4s è¶…å…¥é–€",
                "section": "post",
                "date" : "2015.11.14",
                "body": "What\u0026rsquo;s http4s Rackã‚„WSGIã®Scalaç‰ˆã¨ã„ã£ãŸã¨ã“ã‚ã€‚å…¬å¼ã‚µã‚¤ãƒˆã®èª¬æ˜ã‚‚æ¬¡ã®ã‚ˆã†ã«æ›¸ã„ã¦ã‚ã‚‹ã€‚\n http4s is a minimal, idiomatic Scala interface for HTTP. http4s is Scala\u0026rsquo;s answer to Ruby\u0026rsquo;s Rack, Python\u0026rsquo;s WSGI, Haskell\u0026rsquo;s WAI, and Java\u0026rsquo;s Servlets.\n ã¾ã ã¾ã é–‹ç™ºé€”ä¸­ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãªã©ã¯ã‚ã¾ã‚Šæ•´å‚™ã•ã‚Œã¦ã„ãªãã¦ã€ã¾ã¨ã‚‚ã«ä½¿ãŠã†ã¨æ€ã£ãŸã‚‰ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€å¿…è¦ãŒå‡ºã¦ããã†ã€‚æ¬¡æœŸScalatraã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«ãªã‚‹ã¨ã‹ãªã‚‰ãªã„ã¨ã‹å™‚ã•ã‚Œã¦ã„ã‚‹ã‘ã©ã¯ã¦ã•ã¦ï¼Ÿã‚‚ã—ã‹ã—ãŸã‚‰Akkaã‚„Finagleã«æŠ¼ã•ã‚Œã¦æµè¡Œã‚‰ãšã«çµ‚ã‚ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ã€‚\nã¡ãªã¿ã«scalaz-streamãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã€‚\nInstall æœ€å°æ§‹æˆã§ä½¿ã†å ´åˆã¯ http4s-server ã¨ http4s-blaze-server ã ã‘ã§è‰¯ã„ã€‚\nresolvers += \u0026#34;Scalaz Bintray Repo\u0026#34; at \u0026#34;http://dl.bintray.com/scalaz/releases\u0026#34; libraryDependencies ++= Seq( \u0026#34;org.http4s\u0026#34; %% \u0026#34;http4s-server\u0026#34; % \u0026#34;0.10.1\u0026#34;, \u0026#34;org.http4s\u0026#34; %% \u0026#34;http4s-blaze-server\u0026#34; % \u0026#34;0.10.1\u0026#34; ) Specification http4sã®ä»•æ§˜ã«æº–æ‹ ã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆhttp4sã§ã¯ã‚µãƒ¼ãƒ“ã‚¹ã¨ã„ã†ï¼‰ã¨ã—ã¦æœ€ä½é™å¿…è¦ãªã“ã¨ã¯æ¬¡ã®é€šã‚Šã€‚\n org.http4s.server.HttpService å‹ã§ã‚ã‚‹ã“ã¨  ä»¥ä¸Šï¼ã‚ã¡ã‚ƒãã¡ã‚ƒã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã­ã€‚HttpServiceã®å®šç¾©ã‚’è¦—ã„ã¦ã¿ã‚‹ã¨ã“ã†æ›¸ã„ã¦ã‚ã‚‹ã€‚\ntype Service[A, B] = Kleisli[Task, A, B] type HttpService = Service[Request, Response] å®Ÿéš›ã¯HttpServiceã‚’ä½œã‚‹ãŸã‚ã®é–¢æ•°ãŒ HttpService.apply ã¨ã—ã¦ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã“ã‚Œã‚’ä½¿ã£ã¦ã„ãã€‚ã“ã®é–¢æ•°ã¯Requestå‹ã‚’å—ã‘å–ã£ã¦Task[Response]å‹ã‚’è¿”ã™PartialFunctionã‚’å¼•æ•°ã«å–ã‚‹ã€‚\nobject HttpService { def apply(pf: PartialFunction[Request, Task[Response]], default: HttpService = empty): HttpService } Rackãªã©ã‚’è§¦ã£ãŸã“ã¨ãŒã‚ã‚‹äººãªã‚‰ãƒ”ãƒ³ã¨æ¥ã‚‹ã¯ãšã€‚\nIntroduction ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ç”»é¢ã«Hello Worldã¨QueryStringã‚’è¡¨ç¤ºã™ã‚‹ç°¡å˜ãªã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½œã£ã¦ã¿ã‚‹ã€‚\n// src/main/scala/jp/dakatsuka/http4stest/Bootstrap.scala package jp.dakatsuka.http4stest import org.http4s.{Status, Response} import org.http4s.server.HttpService import org.http4s.server.blaze.BlazeBuilder object Bootstrap { val service = HttpService { case req =\u0026gt; Response() .withStatus(Status.Ok) .withBody(s\u0026#34;Hello World!! ${req.queryString}\u0026#34;) } def main(args: Array[String]): Unit = BlazeBuilder .bindHttp(8080) .mountService(service) .run .awaitShutdown() } sbt runã‚’å®Ÿè¡Œã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:8080/?foo=bar\u0026amp;fizz=buzz ã«ã‚¢ã‚¯ã‚»ã‚¹ã€‚æ¬¡ã®ã‚ˆã†ãªæ–‡å­—ãŒãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã«è¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã€‚\nHello World!! foo=bar\u0026amp;fizz=buzz Middleware ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚‚ç°¡å˜ã«ã¤ãã‚Œã‚‹ã€‚ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¯æ—¢å­˜ã®HttpServiceã«çµ„ã¿è¾¼ã‚“ã§ï¼ˆåˆæˆã—ã¦ï¼‰ä½¿ã†ã€‚è©¦ã—ã«X-HTTP4S-MESSAGEã¨ã„ã†ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ä»˜ä¸ã™ã‚‹ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä½œã£ã¦ã¿ã‚‹ã€‚\n// src/main/scala/jp/dakatsuka/http4stest/MessageMiddleware.scala package jp.dakatsuka.http4stest import org.http4s.Header import org.http4s.server.HttpService object MessageMiddleware { def apply(service: HttpService, message: String): HttpService = HttpService.lift { req =\u0026gt; service.map { res =\u0026gt; res.putHeaders(Header(\u0026#34;X-HTTP4S-MESSAGE\u0026#34;, message)) }.apply(req) } } çµ„ã¿è¾¼ã¿æ–¹ã¯ã“ã†ã€‚\ndef main(args: Array[String]): Unit = BlazeBuilder .bindHttp(8080) .mountService(MessageMiddleware(service, \u0026#34;Hello!!!!!\u0026#34;)) .run .awaitShutdown() ã¡ã‚ƒã‚“ã¨ãƒ˜ãƒƒãƒ€ãƒ¼ã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã€‚\n$ curl --dump-header - http://localhost:8080 HTTP/1.1 200 OK Content-Length: 14 Content-Type: text/plain; charset=UTF-8 X-HTTP4S-MESSAGE: Hello!!!!! Date: Sat, 14 Nov 2015 13:30:32 GMT Hello World!! http4s-dsl http4s-dslã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã™ã‚Œã°Sinatraã®ã‚ˆã†ã«DSLã‚’ä½¿ã£ã¦ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’å®šç¾©ã§ãã‚‹ã€‚\nbuild.sbtã«ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã™ã‚‹ã€‚\nlibraryDependencies ++= Seq( \u0026#34;org.http4s\u0026#34; %% \u0026#34;http4s-server\u0026#34; % \u0026#34;0.10.1\u0026#34;, \u0026#34;org.http4s\u0026#34; %% \u0026#34;http4s-dsl\u0026#34; % \u0026#34;0.10.1\u0026#34;, \u0026#34;org.http4s\u0026#34; %% \u0026#34;http4s-blaze-server\u0026#34; % \u0026#34;0.10.1\u0026#34; ) DSLã‚’ä½¿ã†ã¨æ¬¡ã®ã‚ˆã†ã«ç›´æ„Ÿçš„ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚ã¡ã‚‡ã£ã¨ã—ãŸãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½œã‚ŠãŸã„ã¨ãã«ã¯ã“ã‚Œã§ååˆ†ãªæ°—ãŒã™ã‚‹ã€‚\nimport org.http4s._ import org.http4s.dsl._ import org.http4s.server.HttpService import jp.dakatsuka.http4stest.model.User val service = HttpService { case GET -\u0026gt; Root =\u0026gt; Ok(\u0026#34;Document Root\u0026#34;) case GET -\u0026gt; Root / \u0026#34;users\u0026#34; =\u0026gt; Ok(User.all) case GET -\u0026gt; Root / \u0026#34;users\u0026#34; / LongVar(id) =\u0026gt; User.find(id) match { case Some(user) =\u0026gt; Ok(user) case _ =\u0026gt; NotFound() } case GET -\u0026gt; Root / \u0026#34;users\u0026#34; / screen_name =\u0026gt; User.findOneByScreenName(screen_name) match { case Some(user) =\u0026gt; Ok(user) case _ =\u0026gt; NotFound() } case req @ POST -\u0026gt; Root / \u0026#34;users\u0026#34; =\u0026gt; req.decode[UrlForm] { data =\u0026gt; val UserParams = for { email \u0026lt;- data.getFirst(\u0026#34;email\u0026#34;) screen_name \u0026lt;- data.getFirst(\u0026#34;screen_name\u0026#34;) } yield UserParams(email, screen_name) ??? } } JSON ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã—ãŸã„ å³å¯†ã«ã¯case classã‚’Okã‚„NotFoundã«æ¸¡ã—ãŸã‚‰JSONæ–‡å­—åˆ—ã«å¤‰æ›ã—ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã—ã¦æ¬²ã—ã„ã€‚ã«ãªã‚‹ã€‚\nhttp4sã¯ EntityEncoder[T] ã‚’å®šç¾©ã—ã¦ãŠã‘ã°ã©ã‚“ãªå‹ã§ã‚‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦è¿”ã›ã‚‹ã¨ã„ã†ä»•çµ„ã¿ãŒã‚ã‚‹ï¼ˆé€†ã®EntityDecoderã‚‚ã‚ã‚‹ï¼‰JSONã«é–¢ã—ã¦ã¯ http4s-argonaut ã¨ã„ã†å…¬å¼ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ãã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã®ãŒè‰¯ã„ã ã‚ã†ã€‚ArgonautãŒå«Œãªäººã¯Json4sç”¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ãã¡ã‚‰ã‚’ã€‚\nlibraryDependencies ++= Seq( \u0026#34;org.http4s\u0026#34; %% \u0026#34;http4s-server\u0026#34; % \u0026#34;0.10.1\u0026#34;, \u0026#34;org.http4s\u0026#34; %% \u0026#34;http4s-dsl\u0026#34; % \u0026#34;0.10.1\u0026#34;, \u0026#34;org.http4s\u0026#34; %% \u0026#34;http4s-blaze-server\u0026#34; % \u0026#34;0.10.1\u0026#34;, \u0026#34;org.http4s\u0026#34; %% \u0026#34;http4s-argonaut\u0026#34; % \u0026#34;0.10.1\u0026#34; ) // src/main/scala/jp/dakatsuka/http4stest/model/User.scala package jp.dakatsuka.http4s.model import argonaut.Argonaut._ import argonaut.CodecJson import org.http4s.argonaut._ import org.http4s.EntityEncoder case class User(id: Long, email: String, screen_name: String) object User { implicit val userCodec: CodecJson[User] = casecodec3(User.apply, User.unapply)(\u0026#34;id\u0026#34;, \u0026#34;email\u0026#34;, \u0026#34;screen_name\u0026#34;) implicit val userEntityEncoder: EntityEncoder[User] = jsonEncoderOf[User] implicit val usersEntityEncoder: EntityEncoder[List[User]] = jsonEncoderOf[List[User]] def all(): List[User] = ??? def find(id: Long): Option[User] = ??? def findOneByScreenName(screen_name: String): Option[User] = ??? } ã¾ã¨ã‚ é§†ã‘è¶³ã§http4sã‚’ç´¹ä»‹ã—ã¦ã¿ãŸã‘ã©ã€å€‹äººçš„ã«ã¯ã‹ãªã‚Šä½¿ã„å‹æ‰‹ãŒè‰¯ã„ã¨æ€ã†ã€‚Akka, Playframeworkã®ã‚ˆã†ãªé‡åšæ„Ÿã‚‚ãªã„ã— http4s-dsl ã‚’ä½¿ãˆã°ç°¡å˜ã«APIã®å®Ÿè£…ã‚‚å‡ºæ¥ã‚‹ã ã‚ã†ã€‚ãŠæ‰‹è»½æ„Ÿã£ã¦å¤§äº‹ã ã¨æ€ã†ã€‚ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚„ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å‹å®‰å…¨ã«æ›¸ã‘ã‚‹ã®ã‚‚ãƒã‚¤ãƒ³ãƒˆãŒé«˜ã„ã€‚\næ‡¸å¿µç‚¹ã¨ã—ã¦ã¯æœ€åˆã«ã‚‚æ›¸ã„ãŸã‚ˆã†ã«ãƒ©ã‚¤ãƒãƒ«ãŒå¤šãã¦æ¶ˆãˆã¦ã—ã¾ã†ã®ã§ã¯â€¦ã£ã¦ã¨ã“ã‚ã€‚http4sã¯Servletã§ã‚‚å‹•ãã®ã§é ‘å¼µã£ã¦æ¬²ã—ã„ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/11/07/future-to-task-transformer.html",
                "title": "scala.concurrent.Futureã‚’scalaz.concurrent.Taskã«å¤‰æ›ã™ã‚‹æ–¹æ³•",
                "section": "post",
                "date" : "2015.11.07",
                "body": "ã‚ã¾ã‚Šè‰¯ã„æ–¹æ³•ã§ã¯ç„¡ã•ãã†ã ã‘ã©ä»–ã«æ€ã„ã¤ã‹ãªã‹ã£ãŸ\nimport scala.concurrent.Future import scala.concurrent.ExecutionContext.Implicits.global import scala.util.{Success, Failure} import scalaz.concurrent.Task import scalaz.syntax.either._ implicit class FutureToTaskTransformer[+A](future: Future[A]) { def toTask: Task[A] = { Task.async { register =\u0026gt; future.onComplete { case Success(v) =\u0026gt; register(v.right) case Failure(e) =\u0026gt; register(e.left) } } } } Futureå‹ã‚’è¿”ã—ã¦ãã‚‹ä½•ã‹ã‚’http4sã§ä½¿ã„ãŸã„ã¨ãã«ä½¿ãˆã‚‹ã‹ã‚‚ï¼Ÿ\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/08/22/elasticsearch-on-circleci.html",
                "title": "CircleCIã§Elasticsearchã‚’ä½¿ã†ãªã‚‰DockerãŒã‚ˆã•ãã†",
                "section": "post",
                "date" : "2015.08.22",
                "body": "CircleCIã§Elasticsearchã®æœ€æ–°ç‰ˆã¨Kuromojiã‚’ä½¿ã†ãªã‚‰DockerãŒä¾¿åˆ©ã ã£ãŸã€‚circle.ymlã§wgetã—ã¦é ‘å¼µã‚‹ã‚ˆã‚Šã¯1ã“ã¡ã‚‰ã®ã»ã†ãŒã‚¹ãƒãƒ¼ãƒˆã ã—ã€ã“ã“ã§ç”¨æ„ã—ãŸDockerfileã¯CIä»¥å¤–ã§ã‚‚ä½¿ãˆã‚‹ã€‚\nä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’containers/elasticsearch/Dockerfileã«ä¿å­˜ã™ã‚‹ã€‚\nFROMelasticsearch:1.7.1RUN plugin install mobz/elasticsearch-headRUN plugin install elasticsearch/elasticsearch-analysis-kuromoji/2.7.0circle.ymlã§Dockerã‚’æœ‰åŠ¹åŒ–ã—ã¦ã€dependenciesã§ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã™ã‚‹ã ã‘ã€‚\nmachine: services: - docker dependencies: override: - docker build -t foobar/elasticsearch:1.7.1 ./containers/elasticsearch - docker run -d -p 9200:9200 -p 9300:9300 foobar/elasticsearch:1.7.1 ã§ã€ã“ã®ã‚¨ãƒ³ãƒˆãƒªã‚’æ›¸ã„ã¦ã„ã‚‹æœ€ä¸­ã« https://github.com/circleci/docker-elasticsearch ãã®ã‚‚ã®ã‚ºãƒãƒªã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ç™ºè¦‹ã—ãŸã€‚ã“ã¡ã‚‰ã®ã»ã†ãŒã‚¤ãƒ¡ãƒ¼ã‚¸ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¾ã§ã—ã¦ã„ã‚‹ã®ã§å‚è€ƒã«ãªã‚‹ã¨æ€ã†ã€‚\n  Install a custom version of Elasticsearch \u0026#x21a9;\u0026#xfe0e;\n   "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/06/11/play-multiple-project.html",
                "title": "Play Framework 2.x ã§ãƒãƒ«ãƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆã«ã™ã‚‹ã«ã¯",
                "section": "post",
                "date" : "2015.06.11",
                "body": "ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ï¼ˆæ™®é€šã®Scalaãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ï¼ˆPlayï¼‰ã§sbtãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ†ã‘ãŸã„å ´åˆã¯ã€sbtã®ãƒãƒ«ãƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ã†ã¨è‰¯ã„ã€‚\nå®Œå…¨ã«ãƒªãƒã‚¸ãƒˆãƒªã”ã¨ã«åˆ†ã‘ã¦ã‚‚è‰¯ã„ã®ã ã‘ã©ã€IDEã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ãªã©ã®ä¾¿åˆ©æ©Ÿèƒ½ã®æ©æµã‚’å—ã‘ãŸã„ã¨ã‹ã€é–‹ç™ºåˆæœŸã§ãƒ‰ãƒ¡ã‚¤ãƒ³ã®æ›´æ–°ãŒé »ç¹ã«ã‚ã‚‹ãªã‚‰ã€åŒä¸€ãƒªãƒã‚¸ãƒˆãƒªã§ãƒãƒ«ãƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆã®ã»ã†ãŒãŠã™ã™ã‚ã€‚\nãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã™ã‚‹ã€‚\nsbtã¯ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®projectãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç„¡è¦–ã™ã‚‹ã®ã§ã€Playã®sbt-pluginãªã©ã¯ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§èª­ã¿è¾¼ã‚€ã€‚\nproject/pugin.sbt\nresolvers += \u0026#34;Typesafe repository\u0026#34; at \u0026#34;http://repo.typesafe.com/typesafe/releases/\u0026#34; addSbtPlugin(\u0026#34;com.typesafe.play\u0026#34; % \u0026#34;sbt-plugin\u0026#34; % \u0026#34;2.4.0\u0026#34;) ã¾ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¾å­˜é–¢ä¿‚ã¯ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®build.sbtã§ã¯è¡Œã‚ãšã€å…¨ã¦ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®build.sbtã«è¨˜è¿°ã—ã¦ã„ãã€‚commonSettingsã§å…±é€šã®è¨­å®šã‚„ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å®šç¾©ã—ã¦ãŠãã¨ä¾¿åˆ©ã€‚\nbuild.sbt\nname := \u0026#34;myapplication\u0026#34; lazy val commonSettings = scalariformSettings ++ Seq( organization := \u0026#34;org.example\u0026#34;, scalaVersion := \u0026#34;2.11.6\u0026#34;, resolvers += \u0026#34;scalaz-bintray\u0026#34; at \u0026#34;https://dl.bintray.com/scalaz/releases\u0026#34;, libraryDependencies ++= Seq( \u0026#34;org.specs2\u0026#34; %% \u0026#34;specs2-core\u0026#34; % \u0026#34;3.6.1\u0026#34; % \u0026#34;test\u0026#34;, \u0026#34;org.specs2\u0026#34; %% \u0026#34;specs2-mock\u0026#34; % \u0026#34;3.6.1\u0026#34; % \u0026#34;test\u0026#34;, \u0026#34;org.specs2\u0026#34; %% \u0026#34;specs2-junit\u0026#34; % \u0026#34;3.6.1\u0026#34; % \u0026#34;test\u0026#34;, \u0026#34;ch.qos.logback\u0026#34; % \u0026#34;logback-classic\u0026#34; % \u0026#34;1.1.+\u0026#34; ) ) lazy val domain = project.in(file(\u0026#34;domain\u0026#34;)) .settings(commonSettings: _*) .settings( libraryDependencies ++= Seq( \u0026#34;mysql\u0026#34; % \u0026#34;mysql-connector-java\u0026#34; % \u0026#34;5.1.31\u0026#34;, \u0026#34;org.scalikejdbc\u0026#34; %% \u0026#34;scalikejdbc\u0026#34; % \u0026#34;2.2.+\u0026#34;, \u0026#34;org.scalikejdbc\u0026#34; %% \u0026#34;scalikejdbc-config\u0026#34; % \u0026#34;2.2.+\u0026#34;, \u0026#34;org.scalikejdbc\u0026#34; %% \u0026#34;scalikejdbc-test\u0026#34; % \u0026#34;2.2.+\u0026#34; % \u0026#34;test\u0026#34; ) ) lazy val api = (project.in(file(\u0026#34;api\u0026#34;))) .enablePlugins(PlayScala) .settings(commonSettings: _*) .settings( libraryDependencies ++= Seq( jdbc, cache, ws, \u0026#34;com.typesafe.play\u0026#34; %% \u0026#34;play-specs2\u0026#34; % \u0026#34;2.4.0\u0026#34; % \u0026#34;test\u0026#34;, \u0026#34;org.scalikejdbc\u0026#34; %% \u0026#34;scalikejdbc-play-initializer\u0026#34; % \u0026#34;2.4.0.RC1\u0026#34;, \u0026#34;org.scalikejdbc\u0026#34; %% \u0026#34;scalikejdbc-play-fixture\u0026#34; % \u0026#34;2.4.0.RC1\u0026#34;, ) ) .dependsOn(domain) ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®build.sbtã«ã¯name version javaOptionsãªã©ã‚’å€‹åˆ¥ã«å®šç¾©ã—ã¦ã„ãã€‚\nPlayã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹å ´åˆã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã€‚ãƒ†ã‚¹ãƒˆã‚’ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå˜ä½ã§å®Ÿè¡Œã™ã‚‹å ´åˆã‚‚åŒæ§˜ã€‚\n$ sbt \u0026quot;project api\u0026quot; run $ sbt \u0026quot;project api\u0026quot; test $ sbt \u0026quot;project domain\u0026quot; test $ sbt test // all test "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/06/10/horrible-code.html",
                "title": "ä»Šå¹´ã«å…¥ã£ã¦ç”Ÿã¿å‡ºã—ãŸç³ã‚³ãƒ¼ãƒ‰",
                "section": "post",
                "date" : "2015.06.10",
                "body": "Packerã®ãƒ­ã‚°ã‹ã‚‰AMI IDã‚’å–å¾—ã™ã‚‹ã‚³ãƒ¼ãƒ‰ãŒInvokeã®ã‚¿ã‚¹ã‚¯ã«æ›¸ã‹ã‚Œã¦ã„ãŸã€‚å…¨ç„¶æ›¸ã„ãŸè¨˜æ†¶ãŒãªã„ã®ã ã‘ã©ï¼ˆã™ã”ã„å¿™ã—ã‹ã£ãŸã¨ã„ã†è¨˜æ†¶ã ã‘ã¯ã‚ã‚‹ï¼‰blameã—ã¦ã¿ã‚‹ã¨è‡ªåˆ†ãªã®ã§ãã£ã¨å¦–ç²¾ã•ã‚“ãŒæ›¸ã„ãŸã®ã ã‚ã†ã€‚ã€‚ã€‚\nami_id = commands.getoutput(\u0026#34;ruby -e \u0026#39;puts `tail -n1 /tmp/packer.log`.split(\\\u0026#34;: \\\u0026#34;).last\u0026#39;\u0026#34;) æ›¸ããªãŠã™ã¨ã—ãŸã‚‰ã“ã†ã‹ãªã€‚Pythonã¯ãŸã¾ã«ã—ã‹æ›¸ã‹ãªã„ã®ã§ã‚‚ã£ã¨è‰¯ã„æ›¸ãæ–¹ãŒã‚ã‚‹æ°—ãŒã™ã‚‹ã€‚\nwith open(\u0026#34;/tmp/packer.log\u0026#34;, \u0026#34;r\u0026#34;) as file: xs = file.read().split(\u0026#34;\\n\u0026#34;) ami_id = [x for x in xs if x][-1].split(\u0026#34;: \u0026#34;)[-1] åˆ¥ã«tailã‚³ãƒãƒ³ãƒ‰ä½¿ã†ã®ã¯è‰¯ã„æ°—ãŒã—ã¦ããŸã€‚\nami_id = commands.getoutput(\u0026#34;tail -n1 /tmp/packer.log\u0026#34;).split(\u0026#34;: \u0026#34;)[-1] è¿½è¨˜ï¼šã“ã‚Œã \nami_id = commands.getoutput(\u0026#34;tail -n1 /tmp/packer.log | sed -e \u0026#39;s/^ami: //\u0026#39;\u0026#34;) "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/05/16/sbt-publish-to-s3.html",
                "title": "sbtã§Amazon S3ã‚’Mavenãƒªãƒã‚¸ãƒˆãƒªã¨ã—ã¦æ‰±ã†æ–¹æ³•",
                "section": "post",
                "date" : "2015.05.16",
                "body": "fm-sbt-s3-resolverã¨ã„ã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å…¥ã‚Œã‚‹ã“ã¨ã§S3ã‚’Maven Repositoryã¨ã—ã¦æ‰±ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ç¤¾å†…ã®ã‚µãƒ¼ãƒã«ãƒªãƒã‚¸ãƒˆãƒªã‚’æ§‹ç¯‰ã™ã‚‹ã‚ˆã‚ŠãŠæ‰‹è»½ã§ã™ã€‚\nSetup project/plugin.sbt:\naddSbtPlugin(\u0026#34;com.frugalmechanic\u0026#34; % \u0026#34;fm-sbt-s3-resolver\u0026#34; % \u0026#34;0.5.0\u0026#34;) äº‹å‰ã«AWS_ACCESS_KEY_IDã¨AWS_SECRET_ACCESS_KEYã‚’ç’°å¢ƒå¤‰æ•°ã§å®šç¾©ã—ã¦ãŠãã“ã¨ã€‚ã¾ãŸã¯Property Fileã‚’$HOME/.sbtä»¥ä¸‹ã«ä½œæˆã—ã¦ãŠãã€‚\n$ export AWS_ACCESS_KEY_ID=xxxxxx $ export AWS_SECRET_ACCESS_KEY=xxxxx or $ cat ~/.sbt/.bucket-name_s3credentials accessKey = xxxxxx secretKey = xxxxxx Publish build.sbtã«Publishå…ˆã‚’è¨­å®šã™ã‚‹ã€‚\npublishTo := Some(\u0026#34;Hoge Snapshots\u0026#34; at \u0026#34;s3://hoge-maven.s3-ap-northeast-1.amazonaws.com/hoge/snapshots\u0026#34;) ã“ã‚Œã§sbt publishã‚³ãƒãƒ³ãƒ‰ã§S3ã«Publishã§ãã‚‹ã€‚\nUsage resolversã«S3ã«ç½®ã„ãŸMavenãƒªãƒã‚¸ãƒˆãƒªã‚’è¿½åŠ ã™ã‚‹ã€‚\nresolvers += \u0026#34;Hoge Snapshots\u0026#34; at \u0026#34;s3://hoge-maven.s3-ap-northeast-1.amazonaws.com/hoge/snapshots\u0026#34; ã‚ã¨ã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨åŒæ§˜ã«libraryDependenciesã«ä¾å­˜é–¢ä¿‚ã‚’æ›¸ã„ã¦ã„ãã ã‘ã€‚\nlibraryDependencies ++= Seq( \u0026#34;foo.bar\u0026#34; %% \u0026#34;hoge-project\u0026#34; % \u0026#34;1.0-SNAPSHOT\u0026#34; ) "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/03/24/amazon-sns-to-slack.html",
                "title": "CloudWatchã‚„Auto Scalingã®ã‚¢ãƒ©ãƒ¼ãƒ ã‚’Slackã«é€šçŸ¥ã™ã‚‹ã‚ˆã†ã«ã—ãŸ",
                "section": "post",
                "date" : "2015.03.24",
                "body": "CloudWatchã‚„Auto Scalingã®ã‚¢ãƒ©ãƒ¼ãƒ ã¯ã€Amazon SNSã®Topicã«Publishã™ã‚‹ä»•çµ„ã¿ã«ãªã£ã¦ã„ã¦ã€é€šå¸¸ã¯ã“ã®Topicã«é€šçŸ¥å…ˆã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒå¤šã„ã¨æ€ã†ã€‚\nãƒ¡ãƒ¼ãƒ«ã§ã‚‚ã‚ã¾ã‚Šå›°ã‚‰ãªã„ã‚“ã ã‘ã©ã€ç¤¾å†…ã§ã¯ChatOpsã‚’é€²ã‚ã¦ã„ã¦ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ã«Slackã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã€ã»ã¨ã‚“ã©ãƒ¡ãƒ¼ãƒ«ã®å‡ºç•ªãŒãªã„ã€‚å¿…ç„¶çš„ã«ãƒ¡ãƒ¼ãƒ©ãƒ¼ã‚ˆã‚ŠSlackã‚’ç«‹ã¡ä¸Šã’ã¦ã„ã‚‹æ™‚é–“ãŒé•·ã„ã®ã§ã€é€šçŸ¥ç³»ã¯Slackã«é›†ç´„ã—ãŸããªã£ãŸã€‚\nã“ã‚“ãªæ„Ÿã˜ã§ãƒãƒ£ãƒƒãƒˆã«æµã‚Œã¦ãã‚‹ã‚ˆã†ã«ãªã£ã¦æº€è¶³åº¦é«˜ã„ã€‚\n    å¿µã®ãŸã‚ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã‚‚é€šçŸ¥ã™ã‚‹ã‚ˆã†ã«ã¯ã—ã¦ã„ã‚‹ã‘ã©ã€ä»Šã®ã¨ã“ã‚Slackã«é€šçŸ¥ãŒæ¥ãªã‹ã£ãŸã‚Šé…ã‚Œã¦ãã‚‹ã“ã¨ã¯ãªã„ã€‚ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã‚‚Slackä»»ã›ã«ã—ã¦ã„ã‚‹ã€‚\nä»•çµ„ã¿ Amazon SNSã‹ã‚‰ç›´æ¥Slackã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹ã“ã¨ã¯å‡ºæ¥ãªã„ã®ã§ã€ä¸­ç¶™ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ä»Šå›ã¯Sinatraã§ã‚µã‚¯ãƒƒã¨å®Ÿè£…ã—ã¦Herokuã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ä½¿ã£ã¦ã¾ã™ã€‚ä¸­ç¶™ã‚µãƒ¼ãƒãŒæ­»ã‚“ã å ´åˆã¯å½“ç„¶é€šçŸ¥ã¯æ¥ãªã„ã®ã§ã€ã“ã®è¾ºã¯ãã®ã†ã¡è€ƒãˆãŸã„ã€‚\nã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ã—ã¦GitHubã«å…¬é–‹ã—ãŸã®ã§ã”è‡ªç”±ã«ä½¿ã£ã¦ãã ã•ã„ã€‚CloudWatchã¨Auto Scalingä»¥å¤–ã«å¯¾å¿œã—ãŸã„å ´åˆã‚‚ç°¡å˜ã«è¿½åŠ ã§ãã‚‹ä»•çµ„ã¿ã«ã¯ãªã£ã¦ã¾ã™ã€‚PRã‚‚ãŠå¾…ã¡ã—ã¦ã¾ã™ã€‚\ndakatsuka/amazon-sns-to-slack\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/02/19/rbenv-sudo.html",
                "title": "rbenv-sudoãŒä¾¿åˆ©",
                "section": "post",
                "date" : "2015.02.19",
                "body": "ç†æƒ³\n$ sudo bundle exec rake ç¾å®Ÿ\n$ sudo bundle exec rake sudo: bundle: command not found sudoã§å®Ÿè¡Œã™ã‚‹ã¨ç’°å¢ƒå¤‰æ•°ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã®ã§å½“ç„¶ã®æŒ™å‹•ã§ã™ãŒã€ã‚·ã‚¹ãƒ†ãƒ ãƒ¯ã‚¤ãƒ‰ã«å…¥ã‚Œã¦ã„ãªã„rbenvç’°å¢ƒä¸‹ã§ã‚‚rootæ¨©é™ã§å®Ÿè¡Œã—ãŸã„ã“ã¨ãŒç¨€ã«ã‚ã‚Šã¾ã™ï¼ˆdocker-apiä½¿ã„ãŸã„ã¨ã‹\nãã†ã„ã†æ™‚ã¯rbenv-sudoã‚’ä½¿ã†ã¨è§£æ±ºã—ã¾ã™ã€‚è‡ªåˆ†ã§ãƒ‘ã‚¹ã‚’å¼„ã£ãŸã‚Šã—ãªãã¦ã‚‚è‰¯ã„ã®ã§ãŠæ‰‹è»½ã€‚rbenvã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãªã®ã§~/.rbenv/pluginsã«cloneã™ã‚‹ã ã‘ã§ä½¿ãˆã¾ã™ã€‚\n$ rbenv sudo bundle exec rake "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2015/01/28/use-packer-on-circleci.html",
                "title": "CircleCIã§Packerã‚’ä½¿ã†",
                "section": "post",
                "date" : "2015.01.28",
                "body": "ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•å¾Œã«Linuxç‰ˆPackerã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ãƒ‘ã‚¹ã®é€šã£ã¦ã„ã‚‹å ´æ‰€ã«é…ç½®ã™ã‚Œã°å‹•ãã€‚æ¯å›Packerã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã®ã¯ç„¡é§„ãªã®ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦ãŠãã€‚\n# circle.yml machine: post: - \u0026#34;if [[ ! -e ~/packer ]]; then cd ~ \u0026amp;\u0026amp; wget --no-check-certificate https://dl.bintray.com/mitchellh/packer/packer_0.7.5_linux_amd64.zip \u0026amp;\u0026amp; unzip -d packer packer_0.7.5_linux_amd64.zip ;fi\u0026#34; - \u0026#34;if [[ ! -e ~/bin/packer ]]; then ln -s ~/packer/packer ~/bin/packer ;fi\u0026#34; dependencies: cache_directories: - ~/packer deployment: production: branch: deployment/production commands: - packer build amazon-ebs.json timeout: 600 AMIã®ä½œæˆã¯æ™‚é–“ãŒã‹ã‹ã‚‹ã®ã§ã€å¿µã®ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã®é–¾å€¤ã¯ä¸Šã’ã¦ãŠã„ãŸã»ã†ãŒå®‰å¿ƒã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2014/08/28/symfony2-subdomain.html",
                "title": "Symfony2ã§ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å¯¾å¿œã—ãŸã‚µã‚¤ãƒˆã‚’ä½œã‚‹",
                "section": "post",
                "date" : "2014.08.28",
                "body": "Symfony2ã§ã¯ç‰¹å®šã®Bundleã‚’ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã«åˆ‡ã‚Šå‡ºã™ã“ã¨ãŒã§ãã‚‹ã€‚æ­£ã—ãã¯Bundleæ¯ã«ä»»æ„ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ã‚‚ã¡ã‚ã‚“é–‹ç™ºç”¨ã®ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã‚µãƒ¼ãƒã§ã‚‚ä½¿ã†ã“ã¨ãŒå¯èƒ½ã€‚\nå°†æ¥çš„ã«ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ã†æƒ³å®šãŒã‚ã‚‹ãªã‚‰ã°ã€äº‹å‰ã«Bundleã¯åˆ†å‰²ã—ã¦ãŠãã¨è‰¯ã„ã€‚\nExample AcmeWebBundleã¯ www.example.com ã¸ã€AcmeSmartphoneBundleã¯ sp.example.com ã«å‰²ã‚Šå½“ã¦ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚\nã¾ãšapp/config/parameters.yml ã«ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ›¸ã„ã¦ãŠãã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åã¯è‡ªç”±ã«æ±ºã‚ã‚‰ã‚Œã‚‹ãŒã€ä»Šå›ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ãŸã€‚\nparameters: acme.www.host: www.example.com acme.smartphone.host: sp.example.com app/config/routing.ymlã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã™ã‚‹ã€‚é€šå¸¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¨­å®šã«hosté …ç›®ã‚’å¢—ã‚„ã™ã ã‘ãªã®ã§ç°¡å˜ã§ã™ã­ã€‚ã©ã¡ã‚‰ã‚‚prefixã¯ / ã«ã—ã¦ãŠãã“ã¨ã€‚\nacme_web: resource: \u0026#34;@AcmeWebBundle/Controller\u0026#34; type: annotation prefix: / host: \u0026#34;%acme.www.host%\u0026#34; acme_smartphone: resource: \u0026#34;@AcmeSmartphoneBundle/Controller\u0026#34; type: annotation prefix: / host: \u0026#34;%acme.smartphone.host%\u0026#34; ã“ã‚Œã§AcmeWebBundleã¨AcmeSmartphoneBundleå†…ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã«ã¯æŒ‡å®šã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ä»¥å¤–ã§ã¯ã‚¢ã‚¯ã‚»ã‚¹å‡ºæ¥ãªããªã‚‹ã€‚ã¾ãŸ Twig ã® path é–¢æ•°ã‚‚ã‚ˆã—ãªã«ã‚„ã£ã¦ãã‚Œã‚‹ã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ä½œç¢ºèªã‚’ã—ãŸã„å ´åˆã¯/etc/hostsã‚„DNSã‚’æ›¸ãæ›ãˆã¦127.0.0.1ã«å‘ã‘ã‚ˆã†ã€‚\nãŸã ã—ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã§ã¯ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã¯ãªãhttp://localhost:8000/sp/ ã§ã‚¢ã‚¯ã‚»ã‚¹å‡ºæ¥ã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¨é–‹ç™ºã—ã‚„ã™ã„ã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚‹ã¨æ€ã†ã®ã§ã€ãã®å ´åˆã¯ routing_dev.yml ã‚’æ¬¡ã®ã‚ˆã†ã«ã™ã‚‹ã€‚\n_main: resource: routing.yml acme_web: resource: \u0026#34;@AcmeWebBundle/Controller\u0026#34; type: annotation prefix: / acme_smartphone: resource: \u0026#34;@AcmeSmartphoneBundle/Controller\u0026#34; type: annotation prefix: /sp "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2014/08/24/play2-on-circleci.html",
                "title": "Play framework ã‚’ CircleCI ã§ãƒ†ã‚¹ãƒˆã™ã‚‹",
                "section": "post",
                "date" : "2014.08.24",
                "body": "Play framework 2.3 (Scalaç‰ˆï¼‰ã§é–‹ç™ºã—ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚’Travis Proã§CIã—ã¦ã„ãŸã®ã ã‘ã©ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒãƒãƒƒã‚¯ã«ãªã£ã¦ããŸã®ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ€§èƒ½ãŒé«˜ã„ã¨å™‚ã®CircleCIã«ç§»è¡Œã™ã‚‹ã“ã¨ã«ã—ãŸã€‚\nCircleCIã®å¯¾å¿œè¨€èªã®ä¸­ã«Scalaã¯å…¥ã£ã¦ã„ãªã„ãŒã€JavaãŒä½¿ãˆã‚‹ã®ã§ç‰¹ã«å•é¡Œã¯ãªã„ï¼ˆä½•æ•…ã‹ã¡ã‚‡ã£ã¨å¤ã„sbtãŒå…¥ã£ã¦ã„ãŸã®ã§experimentalæ‰±ã„ãªã®ã‹ãªï¼Ÿï¼‰\ncircle.ymlã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¦ã‚‹ã€‚\ndependencies: cache_directories: - ~/.m2 - ~/.ivy2 - ~/.sbt override: - \u0026#34;./activator update\u0026#34; database: override: - cp ./conf/test.conf.circleci ./conf/test.conf test: override: - \u0026#34;./activator clean test\u0026#34; deployment: development: branch: master commands: - pip install -r requirements.txt - fab dev deploy Travis Proã‹ã‚‰CircleCIã«ç§»è¡Œã—ã¦ã€CIã«ã‹ã‹ã‚‹æ™‚é–“ãŒ4åˆ†ã®1ã«çŸ­ç¸®ã•ã‚Œã¦æº€è¶³åº¦é«˜ã„ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2014/08/01/play2-scaldi.html",
                "title": "Play framework 2.3.x ã¨ Scaldi ã§ Dependency Injection",
                "section": "post",
                "date" : "2014.08.01",
                "body": "Play2ã§DIã‚’ã©ã†ã—ã‚ˆã†ã‹æ‚©ã‚“ã§ã„ãŸã¨ã“ã‚scaldiã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒç›®ã«æ­¢ã¾ã£ãŸã€‚Playã«çµ„ã¿è¾¼ã‚€ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚ã‚‹ã—ã€å…¬å¼ã‚µã‚¤ãƒˆã‚‚ä½œã‚Šè¾¼ã¾ã‚Œã¦ã„ã‚‹ã—ã€ã“ã‚Œã¯è©¦ã™ã—ã‹ãªã„ã€‚\nãŸã ã—æ—¥æœ¬èªã®æƒ…å ±ã¯ç„¡ã„ã«ç­‰ã—ã„ã€‚Guiceã»ã©ãƒ¡ã‚¸ãƒ£ãƒ¼ã§ã‚‚ãªã„ã—äººæŸ±æ„Ÿè¦šã§ä½¿ã†å¿…è¦ãŒã‚ã‚Šãã†ã ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« build.sbtã®libraryDependenciesã«scaldiã‚’è¿½åŠ ã™ã‚‹ã€‚\nlibraryDependencies ++= Seq( \u0026#34;org.scaldi\u0026#34; %% \u0026#34;scaldi-play\u0026#34; % \u0026#34;0.4.1\u0026#34; ) ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã®ç¨®é¡ ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ»ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã¨ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã®2ç¨®é¡ãŒã‚ã‚‹ã‚ˆã†ã ã€‚\nã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ»ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ åå‰ã®é€šã‚Šã€ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ä¾å­˜ã‚’å—ã‘å–ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚scaldiã«å…¨ãä¾å­˜ã—ãªã„ã®ã§é€šå¸¸ã¯ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã®ãŒè‰¯ã„ã¨æ€ã†ã€‚\npackage services import repositories.AccountRepository class AccountManager(accountRepository: AccountRepository) ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ Scaldiã®Injectorï¼ˆã‚³ãƒ³ãƒ†ãƒŠï¼‰ã‚’æš—é»™ã®å¼•æ•°ã§æ¸¡ã™ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãªã©ã¯ã“ã¡ã‚‰ã‚’ä½¿ã†ã€‚\npackage controllers import scaldi.{Injectable, Injector} class Application(implicit inj: Injector) extends Controller with Injectable { val accountManager = inject [AccountManager] } ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä½œæˆ Injectorï¼ˆã‚³ãƒ³ãƒ†ãƒŠï¼‰ã«ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç™»éŒ²ã™ã‚‹ã«ã¯ Module ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ç½®ãå ´æ‰€ã¯ã©ã“ã§ã‚‚è‰¯ã„ã®ã ãŒPlayãªã‚‰app/modulesã‚ãŸã‚Šã«å…¥ã‚Œã¦ãŠãã®ãŒåˆ†ã‹ã‚Šã‚„ã™ã„ã¨æ€ã†ã€‚Moduleã¯è¤‡æ•°å®šç¾©ã—ã¦çµåˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã®ã§ã€ã†ã¾ãåˆ†å‰²ã—ã¦ãŠã‘ã°ãƒ†ã‚¹ãƒˆã®æ™‚ã ã‘åˆ¥ã®Moduleã«å·®ã—æ›¿ãˆã‚‹ã¨ã„ã£ãŸã“ã¨ãŒå¯èƒ½ã«ãªã‚‹ã€‚\npackage modules import scaldi.Module import repositories._ import services._ class ServiceModule extends Module { bind [AccountRepository] to new AccountRepository bind [AccountManager] to new AccountManager(inject[AccountRepository]) } class ControllerInjector extends Module { binding to new Application binding to new FooController binding to new BarController } bindã§å‹ã‚’æŒ‡å®šã—ã¦toä»¥é™ã«åŒä¸€å‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ã¦ã„ãæ„Ÿã˜ã€‚inject[å‹]ã§bindã§ç™»éŒ²ã—ãŸã‚‚ã®ãŒå–ã‚Šå‡ºã›ã‚‹ã®ã§å„ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«æ¸¡ã™ã“ã¨ãŒå‡ºæ¥ã‚‹ã€‚\nInjectorã‚’æš—é»™ã®å¼•æ•°ã§å—ã‘å–ã‚‹ã‚¯ãƒ©ã‚¹ã¯binding toã§æŒ‡å®šã—ã¦ã„ãã€‚\nã¾ãŸä¸‹è¨˜ã®ã‚ˆã†ã«bindã§ç™»éŒ²ã™ã‚‹æ™‚ã«ã‚·ãƒ³ãƒœãƒ«ã§åå‰ã‚’ä»˜ã‘ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã€‚Configurationã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ç™»éŒ²ã—ã¦ãŠãæ™‚ã«ä¾¿åˆ©ã ã‚ã†ã€‚\nbind [String] identifiedBy \u0026#39;secret to Configuration(ConfigFactory.load()).getString(\u0026#34;secret\u0026#34;).getOrElse(\u0026#34;hoge\u0026#34;) åå‰ã‚’ã¤ã‘ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’å–ã‚Šå‡ºã™æ™‚ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã™ã‚‹ã€‚\nval secret = inject[String](\u0026#39;secret) ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’Playã«ç™»éŒ² scaldi-playã¯ä¸‹è¨˜ã®ã‚ˆã†ã«Globalã«æ›¸ã„ã¦ãŠãã“ã¨ã§ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæ¥ãŸéš›ã«ä¾å­˜é–¢ä¿‚ã‚’è‡ªå‹•ã§è§£æ±ºã—ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚\napp/Global.scal\nimport modules._ import play.api.GlobalSetting import scaldi.play.ScaldiSupport object Global extends GlobalSettings with ScaldiSupport { def applicationModule = new ControllerInjector :: new ServiceModule } ã¾ã¨ã‚ Scaldiæ‚ªããªã„ã¨æ€ã†ã€‚ã¾ã ä½¿ã„å‡ºã—ã¦æ—¥ãŒæµ…ã„ã®ã§ç½ ãŒå¾…ã£ã¦ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã‘ã©ã€ä»Šã®ã¨ã“ã‚å•é¡Œãªãä½¿ãˆã¦ã‚‹ã€‚DIã®é¸æŠè‚¢ã®ã²ã¨ã¤ã¨ã—ã¦ã©ã†ã§ã™ã‹ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2014/04/24/vagrant-hdd-resize.html",
                "title": "Vagrant VMã®ãƒ‡ã‚£ã‚¹ã‚¯ã‚µã‚¤ã‚ºã‚’å¾Œã‹ã‚‰æ‹¡å¼µã™ã‚‹æ–¹æ³•",
                "section": "post",
                "date" : "2014.04.24",
                "body": "å‰ææ¡ä»¶ Vagrant BoxãŒãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«LVM + ext3/4ã‚’ä½¿ã£ã¦ã„ã‚‹ã“ã¨ã€‚ä»Šå›ã¯Vagrantbox.esã§é…å¸ƒã•ã‚Œã¦ã„ã‚‹Debian Wheezyã‚’åˆ©ç”¨ã—ãŸã€‚\nä»®æƒ³ãƒ‡ã‚£ã‚¹ã‚¯ã‚’æ‹¡å¼µã™ã‚‹ VMDKå½¢å¼ã ã¨ã‚µã‚¤ã‚ºã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ãªã„ã®ã§VDIå½¢å¼ã«å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ãƒªã‚µã‚¤ã‚ºãŒå®Œäº†ã—ãŸã‚‰VirtualBoxã®VMã®è¨­å®šç”»é¢ã§HDDã‚’VDIã®ã»ã†ã«å·®ã—æ›¿ãˆã¦ãŠãã€‚\n$ cd ~/VirtualBox\\ VMs/vagrant_default_xxxxx_xxxxx $ VBoxManage clonehd box-disk1.vmdk box-disk1.vdi --format VDI $ VBoxManage modifyhd box-disk1.vdi --resize 20480 ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å¤‰æ›´ã™ã‚‹ ã“ã“ã‹ã‚‰ã¯ã‚²ã‚¹ãƒˆå´ã§ã®æ“ä½œã€‚\nfdiskã§/dev/sdaã®å®¹é‡ãŒå¢—ãˆã¦ã„ã‚‹äº‹ã‚’ç¢ºèªã™ã‚‹ã€‚\n$ sudo fdisk -l Disk /dev/sda: 21.5 GB, 21474836480 bytes 255 heads, 63 sectors/track, 2610 cylinders, total 41943040 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk identifier: 0x000e1fac Device Boot Start End Blocks Id System /dev/sda1 * 2048 499711 248832 83 Linux /dev/sda2 501758 20764671 10131457 5 Extended /dev/sda5 501760 20764671 10131456 8e Linux LVM /dev/sda2ã¨/dev/sda5ã®æƒ…å ±ã‚’ä¸€åº¦å‰Šé™¤ã—ã¦å†å®šç¾©ã™ã‚‹ã€‚\n$ sudo fdisk /dev/sda Command (m for help): d Partition number (1-5): 5 Command (m for help): d Partition number (1-5): 2 Command (m for help): n Partition type: p primary (1 primary, 0 extended, 3 free) e extended Select (default p): e Partition number (1-4, default 2): First sector (499712-41943039, default 499712): Using default value 499712 Last sector, +sectors or +size{K,M,G} (499712-41943039, default 41943039): Using default value 41943039 Command (m for help): n Partition type: p primary (1 primary, 1 extended, 2 free) l logical (numbered from 5) Select (default p): l Adding logical partition 5 First sector (501760-41943039, default 501760): Using default value 501760 Last sector, +sectors or +size{K,M,G} (501760-41943039, default 41943039): Using default value 41943039 å†å®šç¾©ã§ãã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ã€‚\nCommand (m for help): p Disk /dev/sda: 21.5 GB, 21474836480 bytes 255 heads, 63 sectors/track, 2610 cylinders, total 41943040 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk identifier: 0x000e1fac Device Boot Start End Blocks Id System /dev/sda1 * 2048 499711 248832 83 Linux /dev/sda2 499712 41943039 20721664 5 Extended /dev/sda5 501760 41943039 20720640 83 Linux /dev/sda5ã‚’Linux LVMã«å¤‰æ›´ã™ã‚‹ã€‚\nCommand (m for help): t Partition number (1-5): 5 Hex code (type L to list codes): 8e Changed system type of partition 5 to 8e (Linux LVM) Command (m for help): p Disk /dev/sda: 21.5 GB, 21474836480 bytes 255 heads, 63 sectors/track, 2610 cylinders, total 41943040 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk identifier: 0x000e1fac Device Boot Start End Blocks Id System /dev/sda1 * 2048 499711 248832 83 Linux /dev/sda2 499712 41943039 20721664 5 Extended /dev/sda5 501760 41943039 20720640 8e Linux LVM å¤‰æ›´ã‚’ä¿å­˜ã™ã‚‹ã—ã¦å†èµ·å‹•ã™ã‚‹ã€‚\nCommand (m for help): wq The partition table has been altered! Calling ioctl() to re-read partition table. WARNING: Re-reading the partition table failed with error 16: Device or resource busy. The kernel still uses the old table. The new table will be used at the next reboot or after you run partprobe(8) or kpartx(8) Syncing disks. $ sudo shutdown -r now LVMã®è¨­å®šã‚’ã™ã‚‹ pvresizeã§ç‰©ç†ãƒœãƒªãƒ¥ãƒ¼ãƒ  /dev/sda5 ã‚’ãƒªã‚µã‚¤ã‚ºã™ã‚‹ã€‚pvscanã§ã¡ã‚ƒã‚“ã¨å®¹é‡ãŒå¢—ãˆã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚\n$ sudo pvresize /dev/sda5 Physical volume \u0026quot;/dev/sda5\u0026quot; changed 1 physical volume(s) resized / 0 physical volume(s) not resized $ sudo pvscan PV /dev/sda5 VG debian-7 lvm2 [19.76 GiB / 10.10 GiB free] Total: 1 [19.76 GiB] / in use: 1 [19.76 GiB] / in no VG: 0 [0 ] æ¬¡ã«è«–ç†ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’ãƒªã‚µã‚¤ã‚ºã™ã‚‹ã€‚è«–ç†ãƒœãƒªãƒ¥ãƒ¼ãƒ åã¯lvscanã§ç¢ºèªã§ãã‚‹ã€‚\n$ sudo lvscan ACTIVE '/dev/debian-7/root' [9.21 GiB] inherit ACTIVE '/dev/debian-7/swap_1' [456.00 MiB] inherit $ sudo lvresize -l +100%FREE /dev/debian-7/root Extending logical volume root to 19.31 GiB Logical volume root successfully resized å†åº¦lvscanã§å®¹é‡ãŒå¢—ãˆã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ã€‚\n$ sudo lvscan ACTIVE '/dev/debian-7/root' [19.31 GiB] inherit ACTIVE '/dev/debian-7/swap_1' [456.00 MiB] inherit ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒªã‚µã‚¤ã‚ºã™ã‚‹ resize2fsã‚’ä½¿ã£ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒªã‚µã‚¤ã‚ºã™ã‚‹ã€‚\n$ sudo resize2fs /dev/debian-7/root resize2fs 1.42.5 (29-Jul-2012) Filesystem at /dev/debian-7/root is mounted on /; on-line resizing required old_desc_blocks = 1, new_desc_blocks = 2 Performing an on-line resize of /dev/debian-7/root to 5062656 (4k) blocks. The filesystem on /dev/debian-7/root is now 5062656 blocks long. dfã§å®¹é‡ãŒå¢—ãˆã¦ã„ã‚Œã°å®Œäº†ï¼\n$ df Filesystem 1K-blocks Used Available Use% Mounted on rootfs 19932432 7272316 11649560 39% / å‚è€ƒ  How to resize a VirtualBox vmdk file - Stack Overflow virtualbox - How can I increase disk size on a Vagrant VM? - Ask Ubuntu è«–ç†ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®ç®¡ç†  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2014/04/03/symfony2-travis-ci.html",
                "title": "Symfony2ã‚¢ãƒ—ãƒªã‚’Travisã§CIã™ã‚‹",
                "section": "post",
                "date" : "2014.04.03",
                "body": ".travis.ymlã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ãŸã€‚Travisã¯Composerã‚‚PHPUnitã‚‚ãƒ‘ã‚¹ãŒé€šã£ãŸçŠ¶æ…‹ã«ãªã£ã¦ã„ã‚‹ãŸã‚ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚ã–ã‚ã–æ›¸ãå¿…è¦ã¯ãªã„ã€‚\nCIã®çµæœã‚’HipChatã«é€šçŸ¥ã—ãŸã„å ´åˆã¯notificationsã§è¨­å®šã™ã‚‹ã ã‘ã§è‰¯ã„ã€‚\nlanguage: php php: - 5.5 before_script: - composer install --dev - php app/console doctrine:database:create --env=test - php app/console doctrine:schema:create --env=test script: phpunit -c app notifications: hipchat: secret_token@room_name "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2014/03/03/rails-jasmine-timezone.html",
                "title": "Rails + Jasmineã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’å¤‰æ›´ã™ã‚‹",
                "section": "post",
                "date" : "2014.03.03",
                "body": "ã‚ã¾ã‚Šã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã«ä¾å­˜ã™ã‚‹ãƒ†ã‚¹ãƒˆã£ã¦å®œã—ããªã„ã¨æ€ã„ã¾ã™ãŒã€‚ã€‚ã€‚ã¨ã¯ã„ãˆç‰¹å®šã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã§å›ºå®šã—ã¦ãŠããŸã„äº‹ã‚‚ã‚ã‚‹ã®ã§èª¿ã¹ã¦ã¿ãŸã€‚\nPhantomJSã®Issueã‚’ã¿ã‚‹ã¨ã€TZã¨ã„ã†ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’å¤‰æ›´å‡ºæ¥ã‚‹ã‚ˆã†ãªã®ã§ spec/javascripts/support/jasmine_helper.rb ã«ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã€‚\nENV[\u0026#34;TZ\u0026#34;] = \u0026#34;UTC\u0026#34; ã“ã‚Œã§ rake jasmine:ci å®Ÿè¡Œæ™‚ã¯å¸¸ã«UTCã«ãªã‚‹ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2014/02/13/mongo-mapper-diagram.html",
                "title": "MongoMapperã§ERå›³ã£ã½ã„ã‚‚ã®ã‚’ç”Ÿæˆã™ã‚‹gemã‚’ä½œã£ãŸ",
                "section": "post",
                "date" : "2014.02.13",
                "body": "ãƒ¢ãƒ‡ãƒ«ã®æ•°ãŒãã‚Œãªã‚Šã«ã‚ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é€”ä¸­ã‹ã‚‰å‚åŠ ã™ã‚‹ã¨ã€ãƒ¢ãƒ‡ãƒ«åŒå£«ã®é–¢é€£ã‚’æŠŠæ¡ã™ã‚‹ã®ã«çµæ§‹è‹¦åŠ´ã™ã‚‹ã®ã§ã€ERå›³ã®å­˜åœ¨ãŒé‡è¦ã«ãªã£ã¦ãã‚‹ã€‚ActiveRecordãªã‚‰Rails ERDã¨ã„ã†gemã‚’ä½¿ãˆã°ERå›³ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã®ã ãŒã€MongoMapperç”¨ã®ãƒ„ãƒ¼ãƒ«ã¯ç„¡ã•ãã†ã ã£ãŸã®ã§ä½œã£ãŸã€‚\nã“ã‚“ãªæ„Ÿã˜ã®ç”»åƒã‚’ç”Ÿæˆã§ãã‚‹ã€‚\n  ã¾ã  One-To-Many ã ã‘ã§ Many-To-Many ã‚„ Embedded ã«ã¯å¯¾å¿œã—ã¦ã„ãªã„ã®ã ã‘ã©ã€ã²ã¨ã¾ãšå…¨ä½“ã‚’æŠŠæ¡ã™ã‚‹ã®ã«ã¯å½¹ã«ãŸã£ãŸã€‚ä½™è£•ãŒã‚ã‚Œã°å¯¾å¿œã—ã¦ã„ããŸã„ã€‚Pull requestã‚‚å¾…ã£ã¦ã¾ã™ï¼\n dakatsuka/mongo_mapper_diagram - GitHub  ã¡ãªã¿ã«ã‚°ãƒ©ãƒ•ã®ç”Ÿæˆã«ã¯@merborneæ°ã®Gvizã‚’ä½¿ã„ã¾ã—ãŸã€‚Rubyã‹ã‚‰ç°¡å˜ã«GraphvizãŒæ‰±ãˆã¦ä¾¿åˆ©ã ã£ãŸã€‚\nä½¿ã„æ–¹ Gemfileã«è¿½åŠ ã€‚\ngroup :development do gem \u0026#34;mongo_mapper_diagram\u0026#34; end Rakeã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ã¨Rails.rootã«diagram.pngã¨diagram.dotãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚\n$ rake mongo_mapper:diagram "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/12/24/autocheck-js.html",
                "title": "ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¸ã®å…¥åŠ›ã‚’æ¤œå‡ºã—ã¦æ•°ç§’ãŠãã«ã‚µãƒ¼ãƒã«é€ä¿¡ã™ã‚‹",
                "section": "post",
                "date" : "2013.12.24",
                "body": "ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒ•ã‚©ãƒ¼ãƒ ãªã©ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼åãŒå–å¾—å¯èƒ½ã‹ã©ã†ã‹Ajaxã§å•ã„åˆã‚ã›ã‚‹ã‚¢ãƒ¬ã§ã™ã€‚\næ„šç›´ã«å®Ÿè£…ã™ã‚‹ã¨keyupã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚­ãƒ£ãƒƒãƒã—ã¦$.ajax()ã‚’ä½¿ã†ã ã‘ã§ã™ãŒã€ã“ã‚Œã ã¨1æ–‡å­—å…¥åŠ›ã™ã‚‹æ¯ã«ã‚µãƒ¼ãƒã®APIã‚’å©ãã“ã¨ã«ãªã£ã¦ã—ã¾ã†ã®ã§å°‘ã—å·¥å¤«ã€‚\nAjaxé€šä¿¡ã‚’ã—ãŸã„ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ãƒ‡ãƒ¼ã‚¿å±æ€§ã‚’ä½œã£ã¦APIã®URLã‚’æ›¸ã„ã¦ãŠãã€‚\n\u0026lt;input type=\u0026#34;text\u0026#34; id=\u0026#34;user_username\u0026#34; name=\u0026#34;user[username]\u0026#34; data-autocheck=\u0026#34;/autocheck/username\u0026#34;\u0026gt; JavaScriptã¯ä¸‹è¨˜ã®ã‚ˆã†ã«æ›¸ãã€‚\n$(document).on(\u0026#34;keyup\u0026#34;, \u0026#34;input[data-autocheck]\u0026#34;, function() { var elem = $(this); var data = { url: elem.data(\u0026#34;autocheck\u0026#34;), value: elem.val() }; clearTimeout(elem.data(\u0026#34;timer\u0026#34;)); elem.data(\u0026#34;timer\u0026#34;, setTimeout(function() { $.ajax({ type: \u0026#34;POST\u0026#34;, url: data.url, data: { value: data.value } }).done(function(result) { }); }, 400)); }); "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/12/19/resolve-target-entity.html",
                "title": "Symfony2ã§ã¯Relationshipsã«Abstract classã‚„InterfaceãŒæŒ‡å®šã§ãã‚‹",
                "section": "post",
                "date" : "2013.12.19",
                "body": "Doctrine2ã®OneToManyã‚„ManyToManyã®targetEntityã«ã¯Abstract classã‚„Interfaceã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚æ™®é€šã«ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã«ã¯æ›¸ã„ã¦ã‚ã‚‹ã®ã ãŒã€æ—¥æœ¬èªã®æƒ…å ±ã¯ç„¡ã•ãã†ã ã£ãŸã®ã§ç´¹ä»‹ã€‚\nCoreBundle:\n\u0026lt;?php namespace Acme\\CoreBundle\\Entity; use Doctrine\\ORM\\Mapping as ORM; use Acme\\BlogBundle\\Model\\Article as BaseArticle; use Acme\\BlogBundle\\Model\\Comment as BaseComment; /** * @ORM\\Entity * @ORM\\Table(name=\u0026#34;articles\u0026#34;) */ class Article extends BaseArticle {} /** * @ORM\\Entity * @ORM\\Table(name=\u0026#34;comments\u0026#34;) */ class Comment extends BaseComment {} BlogBundle:\n\u0026lt;?php namespace Acme\\BlogBundle\\Model; use Doctrine\\ORM\\Mapping as ORM; use Doctrine\\Common\\Collections\\ArrayCollection; interface ArticleInterface {} interface CommentInterface {} abstract class Article implements ArticleInterface { /** * @ORM\\OneToMany(targetEntity=\u0026#34;Acme\\BlogBundle\\Model\\CommentInterface\u0026#34;, mappedBy=\u0026#34;article\u0026#34;) * @var ArrayCollection */ protected $comments; } abstract class Comment implements CommentInterface { /** * @ORM\\ManyToOne(targetEntity=\u0026#34;Acme\\BlogBundle\\Model\\ArticleInterface\u0026#34;) * @ORM\\JoinColumn(name=\u0026#34;article_id\u0026#34;, referencedColumnName=\u0026#34;id\u0026#34;) * @var ArticleInterface */ protected $article; } app/config/config.yml ã§Interfaceï¼ˆã¾ãŸã¯Abstract classï¼‰ã¨å®Ÿè£…ã—ãŸã‚¯ãƒ©ã‚¹ã‚’ãƒãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹:\ndoctrine: orm: resolve_target_entities: Acme\\BlogBundle\\Model\\ArticleInterface: Acme\\CoreBundle\\Entity\\Article Acme\\BlogBundle\\Model\\CommentInterface: Acme\\CoreBundle\\Entity\\Comment ä½¿ã„ã“ãªã›ã°æŠ½è±¡åº¦ã®é«˜ã„æ±ç”¨çš„ãªBundleã‚’ä½œã‚‹ã“ã¨ãŒã§ããã†ã§ã™ã­ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/12/16/freelance.html",
                "title": "å€‹äººäº‹æ¥­ä¸»ã«ãªã‚Šã¾ã—ãŸ",
                "section": "post",
                "date" : "2013.12.16",
                "body": "ç„¡è·ã‹ã‚‰å€‹äººäº‹æ¥­ä¸»ã«ã‚¸ãƒ§ãƒ–ãƒã‚§ãƒ³ã‚¸ã—ã¾ã—ãŸã€‚\nè‡ªåˆ†ã§ã‚µãƒ¼ãƒ“ã‚¹ã®é–‹ç™ºã‚‚ã—ã¦ã„ããŸã„ã§ã™ãŒã€å½“é¢ã¯å‚­å…µã¨ã—ã¦ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚„ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰ã€ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢çš„ãªã“ã¨ã‚’ã‚„ã£ã¦ã„ãäºˆå®šã§ã™ã€‚ç§ã¯å–¶æ¥­ã‚„ã‚»ãƒ«ãƒ•ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã¯è‹¦æ‰‹ãªæ–¹ã§ã™ãŒã€ã‚ã‚ŠãŒãŸã„äº‹ã«æ•°åã®æ–¹ã€…ã‹ã‚‰ãŠå£°ã‚’æ›ã‘ã¦é ‚ãã€ä½•ã¨ã‹ç„¡äº‹ã«ä»•äº‹ã‚’ã‚¹ã‚¿ãƒ¼ãƒˆã•ã›ã¦ã„ã¾ã™ã€‚\nä»¥ä¸‹ã€ã‚ã¾ã‚Šå½¹ã«ç«‹ãŸãªã„å‚™å¿˜éŒ²ã€‚\néŠ€è¡Œå£åº§ æœ€å¯„ã‚Šã®ä¸‰è±æ±äº¬UFJéŠ€è¡Œã§äº‹æ¥­ç”¨å£åº§ã‚’é–‹è¨­ã—ã¾ã—ãŸã€‚åˆ¥æ”¯åº—ã®å€‹äººç”¨å£åº§ã®ä¸­èº«ã‚’è¦—ã‹ã‚ŒãŸã‚Šã‚„ãŸã‚‰æ™‚é–“ãŒã‹ã‹ã£ãŸã‚Šã—ã¾ã—ãŸãŒã€ç„¡äº‹ã«é–‹è¨­å‡ºæ¥ã¾ã—ãŸã€‚\nã¨ã“ã‚ã§ã€å‰ã€…è·ã§BizSTATIONã¨ã„ã†ãƒãƒƒãƒˆãƒãƒ³ã‚­ãƒ³ã‚°ã«ç™ºç‹‚ã—ãŸçµŒé¨“ãŒã‚ã‚‹ã®ã§ã™ãŒã€å€‹äººç”¨ã‚‚äº‹æ¥­ç”¨ã ã¨BizSTATIONãªã‚“ã§ã™ã­ã€‚ã€‚ã€‚Macã§ä½¿ãˆãªã„ã‹ã‚‰ã¨ã¦ã‚‚æ¸‹ã„ã€‚\nã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ äº‹æ¥­ç”¨å£åº§ã‹ã‚‰å¼•ãè½ã¨ã—å‡ºæ¥ã‚‹ã‚«ãƒ¼ãƒ‰ã¯ã€æ‰‹æŒã¡ã ã¨ãƒ€ã‚¤ãƒŠãƒ¼ã‚¹ã®ãƒ“ã‚¸ãƒã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰ã ã‘ã ã£ãŸã®ã§ã€ã²ã¨ã¾ãšã“ã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚ã—ã‹ã—ãƒ€ã‚¤ãƒŠãƒ¼ã‚¹ãŒåˆ©ç”¨ã§ããªã„ã‚µãƒ¼ãƒ“ã‚¹çµæ§‹å¤šã„ã®ã§ã©ã†ã—ã‚ˆã†ã‹è€ƒãˆä¸­ã§ã™ã€‚\nå›½æ°‘å¥åº·ä¿é™º é€€è·å¾Œã™ãåˆ‡ã‚Šæ›¿ãˆã€‚ã¨ã‚“ã§ã‚‚ãªã„ä¿é™ºæ–™ãŒè«‹æ±‚ã•ã‚Œã¦ç™½ç›®ã«ãªã£ã¦ã„ã¾ã™ã€‚\nè¤‡åˆæ©Ÿ ãƒ–ãƒ©ã‚¶ãƒ¼ã®è¤‡åˆæ©Ÿã‚’ãƒãƒã‚Šã¾ã—ãŸã€‚FAXã¯ä½¿ã†ã‹æ€ªã—ã„ã‘ã©æ›¸é¡ã®å°åˆ·ã¯çµæ§‹ã™ã‚‹ã¨æ€ã£ãŸã®ã§ã€‚\né’è‰²ç”³å‘Š å¹´æœ«ã¨ã„ã†å¾®å¦™ãªæ™‚æœŸã«é€€è·ã—ã¦é–‹æ¥­ã—ãŸã®ã§ã€æ—©é€Ÿæ•°ãƒ¶æœˆå¾Œã«é’è‰²ç”³å‘Šã§ã™ã€‚å¼¥ç”Ÿã‚’ãƒãƒã‚Šã¾ã—ãŸã€‚\nå¼¥ç”Ÿã¯æ˜”ã€ä¼šè¨ˆã‚·ã‚¹ãƒ†ãƒ ã®ä¿å®ˆã‚’ã—ãŸã¨ãã«è‰²ã€…è§¦ã£ãŸã®ã§æ“ä½œã¨ã‹ã¯å•é¡Œç„¡ã•ãã†ã€‚ãŸã ã€å‹˜å®šç§‘ç›®ã®ä»•åˆ†ã¨ã‹å¾®å¦™ã«è‡ªä¿¡ç„¡ã„ã®ã§ã€è¿‘å ´ã§è‰¯ã„ç¨ç†å£«ã•ã‚“ãŒå±…ãªã„ã‹æ¢ã—ã¦ã„ã¾ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/12/07/install-php55-on-mavericks.html",
                "title": "Homebrewã§PHP5.5ã‚’å…¥ã‚Œã‚ˆã†ã¨æ€ã£ãŸã‚‰æ‰‹é–“å–ã£ãŸè©±",
                "section": "post",
                "date" : "2013.12.07",
                "body": "Mavericksã«Homebrewã‚’ä½¿ã£ã¦PHP 5.5ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã‚ˆã†ã¨æ€ã£ãŸã‚‰æ¬¡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ããŸã€‚\nconfigure: error: freetype.h not found. å¯¾å‡¦æ³•ã¯Homebrewã‚’æ›´æ–°ã—ã¦freetypeã‚’æ¶ˆã›ã°è‰¯ã„ã‚ˆã†ã ã€‚åŒã˜Mavericksã§ã‚‚MBAã®ã»ã†ã§ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã‹ã£ãŸã®ã§ã€å¤šåˆ†ãƒã‚°ãŒæ··ã˜ã£ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¸ã‚“ã§ã—ã¾ã£ãŸã‚“ã ã¨æ€ã†ã€‚\n$ brew update $ brew upgrade $ brew unpin freetype \u0026amp;\u0026amp; brew unlink freetype \u0026amp;\u0026amp; brew rm freetype $ brew install php55 å‚è€ƒ\n error freetype.h not found installing php53 Â· Issue #885 Â· josegonzalez/homebrew-php  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/12/05/symfony2-functional-test.html",
                "title": "Symfony2ã§Functional Testã‚’å¿«é©ã«è¡Œã†ã«ã¯",
                "section": "post",
                "date" : "2013.12.05",
                "body": "å‰ç½®ã Symfony2ã‚’æ§‹æˆã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã¯ã»ã¼DIã‚³ãƒ³ãƒ†ãƒŠã®ä¸Šã«ä¹—ã£ã¦ã„ã‚‹ã®ã§ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒãã‚Œãã‚Œç–çµåˆã«ãªã£ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ†ã‚¹ãƒˆã‚’è¡Œã†éš›ã¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®èª­ã¿è¾¼ã¿ã‚„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶šã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä¾å­˜éƒ¨åˆ†ã¯ãƒ¢ãƒƒã‚¯ã«ç½®ãæ›ãˆã¦ã—ã¾ãˆã°è‰¯ã„ã‚ã‘ã§ã™ã€‚\nã¨ã¯ã„ãˆã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã¯å®Ÿéš›ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶šã—ã¦ãƒ†ã‚¹ãƒˆã‚’è¡Œã£ã¦ãŠããŸã„ã®ãŒäººæƒ…ã€‚ãƒ¢ãƒƒã‚¯ã§ç½®ãæ›ãˆã¦ã„ã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã ã¨å‹•ã„ãŸã‘ã©ã€çµåˆã—ã¦ã¿ãŸã‚‰å‹•ã‹ãªã„â€¦ãªã‚“ã¦ã‚ˆãã‚ã‚‹è©±ã§ã™ã‹ã‚‰ã€‚\nãã—ã¦Symfony2ã«ã¯WebTestCaseã¨ã„ã†ãƒ†ã‚¹ãƒˆç”¨ã®ã‚¯ãƒ©ã‚¹ãŒç”¨æ„ã•ã‚Œã¦ã„ã¦ï¼ˆä¸­èº«ã¯PHPUnitã§ã™ï¼‰ã€ã“ã‚Œã‚’ç¶™æ‰¿ã—ãŸã‚¯ãƒ©ã‚¹ã‚’ä½œã‚‹ã“ã¨ã§Symfony2ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸçŠ¶æ…‹ã§ãƒ†ã‚¹ãƒˆã‚’ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ä¸»ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ãƒ“ãƒ¥ãƒ¼ã®ãƒ†ã‚¹ãƒˆã«ä½¿ç”¨ã™ã‚‹ã®ãŒç›®çš„ã®ã‚ˆã†ã§ã™ãŒã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®çµåˆãƒ†ã‚¹ãƒˆã«ã‚‚ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚\nãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥ Doctrine Data Fixtures Extensionã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ãˆã°åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æŠ•å…¥ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ãŸã ã€ã“ã‚Œã¯å¥½ã¿ã®å•é¡Œã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€è‡ªåˆ†ã¯ã‚ã¾ã‚Šä½¿ã„å‹æ‰‹ãŒè‰¯ã„ã¨ã¯æ€ãˆã¾ã›ã‚“ã§ã—ãŸã€‚ãŸã ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ã™ã‚‹ã ã‘ãªã‚‰è‰¯ã„ã®ã§ã™ãŒã€ãƒ†ã‚¹ãƒˆã§ä½¿ãŠã†ã¨æ€ã†ã¨Entityã‚’æ¯å›findã—ã¦ã“ãªã„ã¨ã„ã‘ãªãã¦è¾›ã„æ„Ÿã˜ãŒã—ã¾ã™ã€‚getOrder()ãƒ¡ã‚½ãƒƒãƒ‰ã§èª­ã¿è¾¼ã¿é †ã‚’æ•°å€¤ã§è¨­å®šã™ã‚‹ã®ã‚‚ã©ã†ãªã®çš„ãªã€‚\nãªã®ã§ç§ã¯BlueprintBundleã¨ã„ã†ä»£æ›¿ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œã£ã¦ãã¡ã‚‰ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã—ãŸä¸Šã§ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’å–å¾—å‡ºæ¥ã‚‹ã®ã§ä¸­ã€…ä¾¿åˆ©ã«ä½¿ãˆã¦ã„ã¾ã™ã€‚è‡ªç”»è‡ªè³›ã€‚\n\u0026lt;?php Blueprint::register(\u0026#39;post\u0026#39;, \u0026#39;Acme\\BlogBundle\\Entity\\Post\u0026#39;, function($post, $blueprint) { $post-\u0026gt;setTitle(\u0026#39;Title\u0026#39; . $blueprint-\u0026gt;sequence()); $post-\u0026gt;setBody(\u0026#39;BodyBodyBody\u0026#39;); }); $blueprint = static::$container-\u0026gt;get(\u0026#39;dakatsuka.blueprint\u0026#39;); $post1 = $blueprint-\u0026gt;create(\u0026#39;post\u0026#39;); $post2 = $blueprint-\u0026gt;create(\u0026#39;post\u0026#39;); $post3 = $blueprint-\u0026gt;build(\u0026#39;post\u0026#39;); // DBã«ã¯ä¿å­˜ã—ãªã„ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãŠæƒé™¤ ã²ã¨ã¤å‰ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®å½±éŸ¿ã‚’å—ã‘ãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã€ãƒ†ã‚¹ãƒˆæ¯ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æƒé™¤ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚å‰è¿°ã®Doctrine Data Fixtures Extensionã®ORMPurgerã‚¯ãƒ©ã‚¹ã‚’ä½¿ã†ã“ã¨ã§å®Ÿç¾å‡ºæ¥ã¾ã™ã€‚\nã¡ãªã¿ã«ORMPurgerã¯2ç¨®é¡ã®ãƒ¢ãƒ¼ãƒ‰ãŒã‚ã£ã¦PURGE_MODE_DELETEã‹PURGE_MODE_TRUNCATEã‚’é¸ã¶ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§åˆ¶å¾¡ã—ãŸã„å ´åˆã¯ã€ORMPurgerã¯ä½¿ã‚ãšã«setUpã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹ã—ã¦tearDownã§ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\u0026lt;?php abstract class FunctionalTest extends WebTestCase { /** * @var \\Symfony\\Component\\HttpKernel\\Kernel */ static protected $kernel; /** * @var \\Symfony\\Component\\DependencyInjection\\Container */ static protected $container; protected function setUp() { parent::setUp(); static::$kernel = static::createKernel(); static::$kernel-\u0026gt;boot(); static::$container = static::$kernel-\u0026gt;getContainer(); static::$container-\u0026gt;get(\u0026#39;doctrine\u0026#39;)-\u0026gt;getManager(\u0026#39;default\u0026#39;)-\u0026gt;beginTransaction(); } protected function tearDown() { parent::tearDown(); static::$container-\u0026gt;get(\u0026#39;doctrine\u0026#39;)-\u0026gt;getManager(\u0026#39;default\u0026#39;)-\u0026gt;rollback(); foreach (static::$container-\u0026gt;get(\u0026#39;doctrine\u0026#39;)-\u0026gt;getConnections() as $connection) { $connection-\u0026gt;close(); } } } ãƒ†ã‚¹ãƒˆã®æ•°ãŒå¤šããªã£ã¦ãã‚‹ã¨DELETEã‚‚TRUNCATEã‚‚é…ãã¦ã¤ã‚‰ã„ã®ã§ã€ç§ã¯ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ¯ã«ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹æ–¹æ³•ã‚’å–ã£ã¦ã„ã¾ã™ã€‚ä»Šã®ã¨ã“ã‚ç‰¹ã«å›°ã£ãŸã“ã¨ã«ã¯ãªã£ã¦ã„ã¾ã›ã‚“ã®ã§ã€ãƒ†ã‚¹ãƒˆãŒé…ãã¦å›°ã£ã¦ã‚‹äººã¯è©¦ã—ã¦ã¿ã‚‹ä¾¡å€¤ã¯ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\næœ€å¾Œ Symfony2ã€ã‚ã¾ã‚Šæƒ…å ±ãŒãªãã¦è‡ªåˆ†ã®æ–¹æ³•ãŒæ­£ã—ã„ã®ã‹ä¸å®‰ã«ãªã‚‹ã“ã¨ãŒå¤šã€…ã€‚é–“é•ã£ã¦ã„ãŸã‚Šã‚‚ã£ã¨è‰¯ã„æ–¹æ³•ãŒã‚ã£ãŸã‚‰æ˜¯éæ•™ãˆã¦ãã ã•ã„ï¼\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/12/01/rewrite-html-for-blog.html",
                "title": "ãƒ–ãƒ­ã‚°ã®HTMLã‚’å…¨é¢çš„ã«æ›¸ãç›´ã—ãŸ",
                "section": "post",
                "date" : "2013.12.01",
                "body": "ãƒ˜ãƒƒãƒ€ãƒ¼ã¨ãƒ•ãƒƒã‚¿ãƒ¼ã‚’é™¤ã„ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’mainã‚¿ã‚°ã§æ‹¬ã£ã¦ã¿ãŸã‚Šã€RSSã§é…ä¿¡ã•ã‚Œã‚‹å†…å®¹ã¯articleã‚¿ã‚°ã«ã—ãŸã‚Šã€æŠ•ç¨¿æ—¥ã‚’timeã‚¿ã‚°ã«ç½®ãæ›ãˆãŸã‚Šã—ãŸã€‚asideã¨sectionã©ã¡ã‚‰ã‚’ä½¿ç”¨ã—ã‚ˆã†ã‹è¿·ã£ãŸã¨ã“ã‚ã‚‚ã‚ã£ãŸã‘ã©ã€articleã§æ‹¬ã£ãŸå†…å®¹ã«é–¢é€£ã™ã‚‹ä»˜åŠ è¦ç´ ã‚’asideã«ã—ã¦ã€å³ä¸‹ã«å‡ºã¦ã‚‹ç°¡æ˜“ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã¯sectionã«ã—ã¦ãŠã„ãŸã€‚å¤šåˆ†å•é¡Œãªã„ã ã‚ã†ã€‚\nä»Šã¾ã§Pureã¨ã„ã†è»½é‡CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’åˆ©ç”¨ã—ã¦ã„ãŸã®ã ã‘ã©ã€ä¸€éƒ¨è¦ç´ ã«ã‚°ãƒªãƒƒãƒ‰æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã„ãŸç¨‹åº¦ã ã£ãŸã®ã§ä»Šå›ã‹ã‚‰å¤–ã™ã“ã¨ã«ã—ãŸã€‚ã“ã®æ‰‹ã®ãƒ„ãƒ¼ãƒ«ã¯ã©ã†ã—ã¦ã‚‚ä½™è¨ˆãªdivã‚¿ã‚°ãŒå¢—ãˆã¦ã—ã¾ã†ã®ãŒæ‚©ã¿ã©ã“ã‚ã€‚ä¾¿åˆ©ãªã‚“ã ã‘ã©ã­ã€‚\nãã†ã„ã†æ„å‘³ã§ã¯semantic-uiã¯ã¨ã¦ã‚‚è‰¯ã•ãã†ã«ã¿ãˆã‚‹ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/11/27/rails4-rspec-guard-spring.html",
                "title": "Rails4 + RSpec + Guard + Springã§DEPRECATION WARNINGãŒå‡ºãŸã®ã§å¯¾å‡¦ã—ãŸ",
                "section": "post",
                "date" : "2013.11.27",
                "body": "ã¡ã‚‡ã£ã¨å‰ã¾ã§ã®Railsã®ãƒ†ã‚¹ãƒˆç’°å¢ƒã¨ã„ãˆã°ã€RSpec + Guardã¨ã„ã†æ§‹æˆãŒå®šç•ªã ã£ãŸã‚ˆã†ã«æ€ã†ã€‚æœ€è¿‘ã¯ã“ã‚Œã«Springã‚’åŠ ãˆã‚‹ã®ãŒæµè¡Œã®ã‚ˆã†ã ã€‚\nãã“ãã“æ™‚é–“ã‚‚å‡ºæ¥ãŸã®ã§ã€ã“ã¡ã‚‰ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ã¦ã€ä½œã‚Šã‹ã‘ã¦æ”¾ç½®ã—ã¦ã„ãŸRailsã‚¢ãƒ—ãƒªã«Springã‚’çµ„ã¿è¾¼ã‚“ã§ã¿ãŸã‚‰ã€å‹•ãã«ã¯å‹•ãã®ã ã‘ã©DEPRECATION WARNINGãŒå‡ºã¦ã—ã¾ã£ãŸã€‚\n22:16:29 - WARN - Guard::RSpec DEPRECATION WARNING: The :spring option is deprecated. Please customize the new :cmd option to fit your need. èª¿ã¹ã¦ã¿ã‚‹ã¨Guardfileã®æ›¸ãæ–¹ãŒå°‘ã—å¤‰ã‚ã£ãŸã‚‰ã—ã„ã€‚spring-commands-rspecã¨ã„ã†gemã‚’è¿½åŠ ã—ã¦1è¡Œä¿®æ­£ã™ã‚‹ã ã‘ã€‚\n-guard :rspec, spring: true do +guard :rspec, cmd: \u0026#39;spring rspec\u0026#39; do "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/11/26/resignation.html",
                "title": "æ ªå¼ä¼šç¤¾ã‚ªãƒ«ãƒˆãƒ—ãƒ©ã‚¹ã‚’é€€è·ã—ã¾ã—ãŸ",
                "section": "post",
                "date" : "2013.11.26",
                "body": "Facebookã®ã»ã†ã§ã¯2é€±é–“ç¨‹å‰ã«å‘ŠçŸ¥ã—ã¦ã„ãŸã®ã§ã™ãŒã€2013å¹´11æœˆ22æ—¥ä»˜ã‘ã§æ ªå¼ä¼šç¤¾ã‚ªãƒ«ãƒˆãƒ—ãƒ©ã‚¹ã‚’é€€è·ã™ã‚‹ã“ã¨ã¨ãªã‚Šã¾ã—ãŸã€‚å…ˆé€±ã¾ã§æœ‰çµ¦ä¼‘æš‡ã‚’æ¶ˆåŒ–ã—ã¦ã„ã¦ã€ä»Šé€±ã®æœˆæ›œæ—¥ã‹ã‚‰ã¯æ™´ã‚Œã¦ç„¡è·ã¨ãªã£ã¦ãŠã‚Šã¾ã™ã€‚\nä»Šå¾Œã¯ã¾ã æœªå®šã§ã™ã€‚æ™‚é–“ã¯ãŸã£ã·ã‚Šã‚ã‚‹ã®ã§ã‚†ã£ãã‚Šè€ƒãˆã‚ˆã†ã‹ã¨ã€‚èª°ã‹ãŠèŒ¶ã§ã‚‚ã—ã¾ã›ã‚“ã‹ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/11/24/middleman-build-helper.html",
                "title": "Middlemanã§ãƒ“ãƒ«ãƒ‰æ™‚ã«ã ã‘ç‰¹å®šã®è¦ç´ ã‚’å‡ºåŠ›ã—ãŸã„å ´åˆ",
                "section": "post",
                "date" : "2013.11.24",
                "body": "Livereloadç’°å¢ƒã§ã¯ç‰¹ã«å‡ºåŠ›ã—ãªãã¦ã‚‚è‰¯ã„ã‚‚ã®ã€ã¾ãŸã¯å‡ºåŠ›ã•ã‚Œã‚‹ã¨ãƒã‚ºã„ã‚‚ã®ãŒã‚ã£ãŸã‚Šã™ã‚‹ã€‚ä¾‹ãˆã°ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ç³»ã®ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã‚„Google Analyticsã®ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚³ãƒ¼ãƒ‰ãªã©ã€‚\nãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ã¯Middleman::Applicationã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒä½¿ãˆã‚‹ã‚ˆã†ãªã®ã§build?ãƒ¡ã‚½ãƒƒãƒ‰ã‚’åˆ©ç”¨ã™ã‚‹ã€‚\n- if build? :javascript /** Google Analytics Tracking code */ ç¢ºèªã—ã¦ãªã„ã‘ã©development?ã¯é€†ã®å‹•ãã‚’ã—ãã†ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/11/22/change-from-wordpress-to-middleman.html",
                "title": "WordPressã‹ã‚‰Middlemanã«ç§»è¡Œã—ã¦GitHub Pagesã§é‹ç”¨ã™ã‚‹ã“ã¨ã«ã—ãŸ",
                "section": "post",
                "date" : "2013.11.22",
                "body": "ä»Šã¾ã§æƒ°æ€§ã§WordPressã‚’ä½¿ã„ç¶šã‘ã¦ããŸãŒã€ãµã¨æ€ã„ç«‹ã£ã¦Middlemanã§å…¨é¢çš„ã«ä½œã‚Šç›´ã™ã“ã¨ã«ã—ãŸã€‚æŠ˜è§’ä½œã‚Šç›´ã™ã®ã ã‹ã‚‰ãƒ–ãƒ­ã‚°ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚‚ãŸã¾ã«ã¯è‡ªåˆ†ã§ã‚„ã£ã¦ã¿ã‚ˆã†ã¨æ€ã„ã€æ•°å¹´ã¶ã‚Šã«HTMLã‚„CSSã‚’è¶…æ™‚é–“è§¦ã‚‹ã“ã¨ã«ã€‚æœ€è¿‘ã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã®æ¡ˆä»¶ãŒå¤šãã€JSONã‚’åãä»•äº‹ã°ã‹ã‚Šã ã£ãŸã®ã§ä¸­ã€…åˆºæ¿€çš„ã ã£ãŸã€‚\nMiddleman Middlemanã¯Jekyllã‚„OctopressåŒæ§˜ã€é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆãƒ„ãƒ¼ãƒ«ã®é¡ã„ã ã€‚å€‹äººçš„ã«ã¯Makrdownã§è¨˜äº‹ãŒæ›¸ã‘ã¦Gitã§ç®¡ç†å‡ºæ¥ã‚‹ã®ãŒæ¡ä»¶ã ã£ãŸã®ã§Jekyllã‚„Octopressã§ã‚‚è‰¯ã‹ã£ãŸã®ã ãŒã€ãã‚Œãã‚Œã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§è©¦ç”¨ã—ã¦ã¿ãŸã‚‰MiddlemanãŒä¸€ç•ªã—ã£ãã‚ŠããŸã€‚\nç”¨æ„ã•ã‚Œã¦ã„ã‚‹ãƒ˜ãƒ«ãƒ‘ãƒ¼ãªã©ã¯Railsã«å…±é€šã—ã¦ã„ã‚‹ã¨ã“ã‚ãŒå¤šã„ã—ã€Asset Pipelineãªã©ã®åŒæ§˜ã®æ©Ÿèƒ½ã‚‚ã‚ã‚‹ã®ã§ã€Railsã«æ…£ã‚Œè¦ªã—ã‚“ã§ã„ã‚‹äººãªã‚‰ç°¡å˜ã«ä½¿ã„ã“ãªã›ã‚‹ã¨æ€ã†ã€‚\né€†ã«Rubyã‚„Railsã‚’å…¨ãè§¦ã£ãŸã“ã¨ãªã„äººã‚„Windowsç’°å¢ƒã®äººã«ã¯æ‰±ã„ã¥ã‚‰ã„ã‹ã‚‚ã—ã‚Œãªã„ã€‚ã‚ã¨ä»–ãƒ„ãƒ¼ãƒ«ã«æ¯”ã¹ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒã‚„ã‚„å°‘ãªã„æ°—ã‚‚ã™ã‚‹ã€‚å‡ã£ãŸã“ã¨ã‚’ã—ã‚ˆã†ã¨æ€ã£ãŸã‚‰ã¡ã‚‡ã£ã¨é¢å€’ã‹ã‚‚ã€‚ä¾‹ãˆã°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã¯ãŸãã•ã‚“ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚’åˆ©ç”¨å‡ºæ¥ã‚‹ãŒã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯å…¨ã¦ç´¹ä»‹ã•ã‚Œã¦ã„ãªã„ã€‚\nGitHub Pages username.github.io ã¨ã„ã†ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°å‡ºæ¥ã‚‹ã“ã¨ã¯çŸ¥ã£ã¦ã„ãŸã‘ã©ã€ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã®å‰²ã‚Šå½“ã¦ã‚‚å¯èƒ½ã ã¨ã„ã†ã®ã¯ä»Šå›åˆã‚ã¦çŸ¥ã£ãŸã€‚masterãƒ–ãƒ©ãƒ³ãƒã®ç›´ä¸‹ã«ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’è¨˜è¿°ã—ãŸCNAMEã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­ç½®ã™ã‚‹ã ã‘ã§OKã ã£ãŸã€‚ãŠæ‰‹è»½ã§è‰¯ã„ã­ã€‚\nå°†æ¥çš„ã«ã¯Travis CIã§masterãƒ–ãƒ©ãƒ³ãƒã¸ã®Pushã‚’è‡ªå‹•åŒ–ã—ã‚ˆã†ã¨è€ƒãˆã¦ã‚‹ã‘ã©ã€Travisã¯åæ˜ ã«å°‘ã—ãƒ©ã‚°ãŒå‡ºã‚‹ã—ã€ä»Šã®è‡ªåˆ†ã®ä½¿ã„æ–¹ãªã‚‰å½“é¢ã¯middleman-deployã§äº‹è¶³ã‚Šã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚\nDesign Pureã¨ã„ã†è»½é‡CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’åˆ©ç”¨ã—ã¦ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¡Œã£ãŸã€‚Bootstrapã‚ˆã‚Šã¯å‡ºæ¥ã‚‹ã“ã¨ã¯å°‘ãªã„ã‚“ã ã‘ã©ã€å€‹äººãƒ–ãƒ­ã‚°ç¨‹åº¦ãªã‚‰ä¸åº¦è‰¯ã„ã¨æ€ã†ã€‚\nä¸€å¿œIE10, Firefox, Chromeã§ã¡ã‚ƒã‚“ã¨è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ã„ã‚‹ãŒã€HTML/CSSä¾›ã«æ®´ã‚Šæ›¸ãã«è¿‘ã„ã®ã§è¿½ã€…ç¶ºéº—ã«ã™ã‚‹ã€‚HTML5ã‹ã‚‰ä½¿ãˆã‚‹æ–°ã—ã„ã‚¿ã‚°ã‚’æ´»ç”¨ã—ã¦ã„ããŸã„ã€‚\nã¾ã¨ã‚ ãƒ‰ãƒ¡ã‚¤ãƒ³ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€ãƒ–ãƒ­ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ã‚’å¤‰æ›´ã—ã¦å¿ƒæ©Ÿä¸€è»¢ã€‚è¨˜äº‹ã®èªèª¿ã‚‚ã§ã™ã¾ã™èª¿ã‹ã‚‰ã§ã‚ã‚‹èª¿ã«å¤‰ãˆã¦ã¿ãŸã€‚æœ€è¿‘æ›´æ–°ãƒšãƒ¼ã‚¹ãŒè½ã¡ã¦ã„ãŸã®ã§ã€æ°—ã‚’å–ã‚Šç›´ã—ã¦ã‚‚ã£ã¨æ°—è»½ã«æ›´æ–°ã—ã¦ã„ã“ã†ã¨æ€ã†ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/10/18/monolog-fluentd.html",
                "title": "Monologã®ãƒ­ã‚°å‡ºåŠ›å…ˆã‚’Fluentdã«å¤‰æ›´ã—ã¦ã¿ãŸ",
                "section": "post",
                "date" : "2013.10.18",
                "body": "Symfony2ã«ã‚‚æ¡ç”¨ã•ã‚Œã¦ã„ã‚‹Monologã¯ã€Handlerã‚„Formatterã‚’å·®ã—æ›¿ãˆã‚‹ã“ã¨ã§ãƒ­ã‚°ã®å‡ºåŠ›å…ˆã‚„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’è‡ªç”±ã«å¤‰æ›´ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚PSR3ã«æº–æ‹ ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã®ã§ã€ä»Šå¾Œãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã«ãªã£ã¦ã„ãæ°—ãŒã—ã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã ã¨StreamHandlerã‚’ä½¿ã£ã¦å‡ºåŠ›ã•ã‚Œã¾ã™ãŒã€Handlerã‚’è‡ªä½œã—ã¦Fluentdã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ã¦ã¿ã¾ã™ã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«ã¯fluent-logger-phpã‚’åˆ©ç”¨ã—ã¾ã—ãŸã€‚\nMonologã®Handlerã¯AbstractProcessingHandlerã‚’ç¶™æ‰¿ã—ã¦ä½œã‚Šã¾ã™ã€‚\n\u0026lt;?php namespace Acme\\Handler; use Fluent\\Logger\\FluentLogger; use Monolog\\Handler\\AbstractProcessingHandler; use Monolog\\Logger; class FluentHandler extends AbstractProcessingHandler { protected $logger; public function __construct( $logger = null, $host = FluentLogger::DEFAULT_ADDRESS, $port = FluentLogger::DEFAULT_LISTEN_PORT, $level = Logger::DEBUG, $bubble = true ) { parent::__construct($level, $bubble); if (is_null($logger)) { $logger = new FluentLogger($host, $port); } $this-\u0026gt;logger = $logger; } public function write(array $record) { $tag = $record[\u0026#39;channel\u0026#39;] . \u0026#39;.\u0026#39; . $record[\u0026#39;message\u0026#39;]; $data = $record[\u0026#39;context\u0026#39;]; $data[\u0026#39;level\u0026#39;] = Logger::getLevelName($record[\u0026#39;level\u0026#39;]); $this-\u0026gt;logger-\u0026gt;post($tag, $data); } } ä½¿ã„æ–¹\n\u0026lt;?php use Acme\\Handler\\FluentHandler use Monolog\\Logger; $logger = new Logger(\u0026#39;test\u0026#39;); $logger-\u0026gt;pushHandler(new FluentHandler()); $logger-\u0026gt;debug(\u0026#39;example.monolog\u0026#39;, array(\u0026#39;foo\u0026#39; =\u0026gt; \u0026#39;bar\u0026#39;)); $logger-\u0026gt;info(\u0026#39;example.fluentd\u0026#39;, array(\u0026#39;fizz\u0026#39; =\u0026gt; \u0026#39;buzz\u0026#39;)); åˆ©ç”¨ã—ã‚„ã™ã„ã‚ˆã†ã«GitHubã¨Packagistã«å…¬é–‹ã—ã¦ãŠãã¾ã—ãŸã€‚\n dakatsuka/MonologFluentHandler dakatsuka/monolog-fluent-handler  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/09/03/php-maybe-monad.html",
                "title": "ã¤ã„ã‚«ãƒƒã¨ãªã£ã¦PHPã§Maybeãƒ¢ãƒŠãƒ‰ã‚’å®Ÿè£…ã—ãŸ",
                "section": "post",
                "date" : "2013.09.03",
                "body": "PHPã‚’ä»•äº‹ã§ä½¿ã£ã¦ã„ã‚‹ã¨is_nullã¨ã‹issetã¨ã‹emptyã¨ã‹===ã¨ã‹ã®å­˜åœ¨ã«ã‚¤ãƒ©ã‚¤ãƒ©ã—ã¦ãã‚‹è¨³ã§ã™ã‚ˆã€‚ãã“ã§ãªã‚“ã¡ã‚ƒã£ã¦Maybeãƒ¢ãƒŠãƒ‰ã®ç™»å ´ã§ã™ã€‚\nãªã‚“ã¡ã‚ƒã£ã¦ãƒ¢ãƒŠãƒ‰ãªã®ã§å®Ÿç”¨æ€§ã¯æ€ªã—ã„ã§ã™ãŒã€ä»¥ä¸‹ã®ã‚ˆã†ã«ä½¿ãˆã¾ã™ï¼ˆæ³¨æ„ï¼šãƒã‚¿è¨˜äº‹ãªã®ã§çœŸã«å—ã‘ãªã„ã‚ˆã†ã«ï¼‰\n\u0026lt;?php public function testLookupFunction() { $lookup = function($key) { return function(array $d) use($key) { return isset($d[$key]) ? Maybe::ret($d[$key]) : Maybe::ret(); }; }; $dictionary = [\u0026#39;a\u0026#39; =\u0026gt; [\u0026#39;b\u0026#39; =\u0026gt; [\u0026#39;c\u0026#39; =\u0026gt; 10]]]; $result1 = Maybe::ret($dictionary) [$lookup(\u0026#39;a\u0026#39;)] [$lookup(\u0026#39;b\u0026#39;)] [$lookup(\u0026#39;c\u0026#39;)]; $result2 = Maybe::ret($dictionary) [$lookup(\u0026#39;a\u0026#39;)] [$lookup(\u0026#39;Z\u0026#39;)] [$lookup(\u0026#39;c\u0026#39;)]; $this-\u0026gt;assertInstanceOf(\u0026#39;Just\u0026#39;, $result1); $this-\u0026gt;assertInstanceOf(\u0026#39;Nothing\u0026#39;, $result2); $this-\u0026gt;assertEquals(10, $result1-\u0026gt;get()); $this-\u0026gt;assertEquals(10, $result1-\u0026gt;getOrElse(30)); $this-\u0026gt;assertNull($result2-\u0026gt;get()); $this-\u0026gt;assertEquals(30, $result2-\u0026gt;getOrElse(30)); } ãƒ¢ãƒŠãƒ‰å‰‡ï¼ˆã¡ã‚‡ã£ã¨è‡ªä¿¡ç„¡ã„ã‹ã‚‚ï¼‰ã‚³ãƒ¼ãƒ‰ã‹ã‚‰PHPã£ã½ã•ãŒæ¶ˆãˆãŸæ°—ãŒâ€¦\n\u0026lt;?php /** * return a \u0026gt;\u0026gt;= f â‰¡ f a */ public function testMonadLaw1() { $f = function($a) { return Maybe::ret($a * 3); }; $l = Maybe::ret(5) [$f]; $r = $f(5); $this-\u0026gt;assertEquals($l, $r); } /** * m \u0026gt;\u0026gt;= return â‰¡ m */ public function testMonadLaw2() { $m = Maybe::ret(5); $l = $m [function($x) { return Maybe::ret($x); }]; $this-\u0026gt;assertEquals($l, $m); } /** * (m \u0026gt;\u0026gt;= f) \u0026gt;\u0026gt;= g â‰¡ m \u0026gt;\u0026gt;= (\\x -\u0026gt; f x \u0026gt;\u0026gt;= g) */ public function testMonadLaw3() { $f = function($a) { return Maybe::ret($a * 3); }; $g = function($a) { return Maybe::ret($a * 5); }; $m = Maybe::ret(7); $l = $m [$f] [$g]; $r = $m [function($x) use($f, $g) { return $f($x) [$g]; }]; $this-\u0026gt;assertEquals($l, $r); } å®Ÿè£… ã¾ãšã¯Monadã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚PHPã¯æ¼”ç®—å­ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã‚„æ–°ãŸãªæ¼”ç®—å­ã‚’å®šç¾©å‡ºæ¥ãªã„ã®ã§ã€\u0026gt;\u0026gt;=ã¯offsetGetãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ›¸ãæ›ãˆã¦é…åˆ—ã®ãƒ–ãƒ©ã‚±ãƒƒãƒˆã§ä»£ç”¨ã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚ãƒ–ãƒ©ã‚±ãƒƒãƒˆã®ä¸­ã«function {}ã£ã¦æ›¸ã‘ã‚‹ã®ã§è¶…ã‚­ãƒ¢ã‚¤ã§ã™ã­ã€‚\n\u0026lt;?php abstract class Monad implements \\ArrayAccess { abstract public function bind(callable $f); public function offsetExists($offset) { throw new \\BadMethodCallException(); } public function offsetGet($offset) { return $this-\u0026gt;bind($offset); } public function offsetSet($offset, $value) { throw new \\BadMethodCallException(); } public function offsetUnset($offset) { throw new \\BadMethodCallException(); } } æ¬¡ã¯Maybeã€Justã€Nothingã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚Nothingã¯Nothingã—ã‹å­˜åœ¨ã—ãªã„ã®ã§ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã«ã—ã¦ã¿ã¾ã—ãŸã€‚ã¾ãŸã€Scalaã®Optionå‹ã§ä¾¿åˆ©ã ã£ãŸã„ãã¤ã‹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚\n\u0026lt;?php abstract class Maybe extends Monad { protected $value; public static function ret($value = null) { if (is_null($value)) { return Nothing::ret(); } else { return Just::ret($value); } } public function __construct($value) { $this-\u0026gt;value = $value; } public function bind(callable $f) { if ($this instanceof Just \u0026amp;\u0026amp; is_callable($f)) { return $f($this-\u0026gt;value); } else { return $this; } } abstract public function get(); abstract public function getOrElse($default); abstract public function getOrCall(callable $fn); abstract public function getOrThrow(\\Exception $ex); abstract public function isEmpty(); abstract public function isDefined(); } final class Just extends Maybe { public static function ret($value = null) { return new Just($value); } public function get() { return $this-\u0026gt;value; } public function getOrElse($default) { return $this-\u0026gt;get(); } public function getOrCall(callable $fn) { return $this-\u0026gt;get(); } public function getOrThrow(\\Exception $ex) { return $this-\u0026gt;get(); } public function isEmpty() { return false; } public function isDefined() { return true; } } final class Nothing extends Maybe { private static $instance; public function __construct($value = null) { if (static::$instance) { throw new \\InvalidArgumentException(); } } public static function ret($value = null) { if (is_null(static::$instance)) { return static::$instance = new static(); } else { return static::$instance; } } public function get() { return null; } public function getOrElse($default) { return $default; } public function getOrCall(callable $fn) { return $fn(); } public function getOrThrow(\\Exception $ex) { throw $ex; } public function isEmpty() { return true; } public function isDefined() { return false; } } Enjoy functional PHP!"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/09/02/php-infinite-list.html",
                "title": "PHPã§ç„¡é™ãƒªã‚¹ãƒˆã‚’ä½œã‚‹",
                "section": "post",
                "date" : "2013.09.02",
                "body": "PHPã§ range(0, 10000000); ã¨ã‹ã‚„ã‚‹ã¨ãƒ¡ãƒ¢ãƒªä¸è¶³ã§æ­»ã‚“ã§ã—ã¾ã†ã®ã§ã€ç„¡é™ãƒ«ãƒ¼ãƒ—ã™ã‚‹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n\u0026lt;?php class Stream implements \\Iterator { private $position; private $offset; private $limit; public function __construct($offset, $limit = null) { $this-\u0026gt;position = $offset; $this-\u0026gt;offset = $offset; $this-\u0026gt;limit = $limit; } public function current() { return $this-\u0026gt;position; } public function next() { $this-\u0026gt;position++; } public function valid() { if ($this-\u0026gt;limit \u0026amp;\u0026amp; $this-\u0026gt;position \u0026gt; $this-\u0026gt;limit) { return false; } return true; } public function key() { return $this-\u0026gt;position; } public function rewind() { $this-\u0026gt;position = $this-\u0026gt;offset; } public function take($n) { return new \\LimitIterator($this, 0, $n); } } ç„¡é™ãƒ«ãƒ¼ãƒ—ã•ã›ã‚‹ã€‚\n\u0026lt;?php $stream = new Stream(0); foreach ($stream as $i) { echo $i . \u0026#34;\\n\u0026#34;; } =\u0026gt; // 0 // 1 // 2 // 3 // 4 // . // . ç¯„å›²æŒ‡å®šã—ã¦ã¿ã‚‹ã€‚\n\u0026lt;?php $stream = new Stream(50, 55); foreach ($stream as $i) { echo $i . \u0026#34;\\n\u0026#34;; } =\u0026gt; // 50 // 51 // 52 // 53 // 54 // 54 LimitIteratorã‚’ä½¿ãˆã°ç„¡é™ãƒªã‚¹ãƒˆã‹ã‚‰å¿…è¦ãªæ•°ã ã‘å–ã‚Šå‡ºã™ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ä»Šå›ã¯takeãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒ©ãƒƒãƒ—ã—ã¾ã—ãŸã€‚\n\u0026lt;?php $stream = new Stream(0); foreach ($stream-\u0026gt;take(5) as $i) { echo $i . \u0026#34;\\n\u0026#34;; } =\u0026gt; // 0 // 1 // 2 // 3 // 4 ã—ã‹ã—ã“ã‚Œã ã‘ã ã¨ã‚ã¾ã‚Šä½¿ã„é“ãŒãªã„ã®ã§ã€ã›ã‚ã¦mapæ©Ÿèƒ½ã¯æ¬²ã—ã„æ°—ãŒã—ã¾ã™ã­ã€‚ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¯array_ç³»ã®é–¢æ•°ãŒä½¿ãˆã¾ã›ã‚“ã®ã§ã€LazyMapIteratorã‚’ä½œã£ã¦ã¿ã¾ã™ã€‚\n\u0026lt;?php class LazyMapIterator implements \\Iterator { protected $iterator; protected $callback; public function __construct(\\Iterator $iterator, callable $callback) { $this-\u0026gt;iterator = $iterator; $this-\u0026gt;callback = $callback; } public function getIterator() { return $this-\u0026gt;iterator; } public function current(){ $f = $this-\u0026gt;callback; return $f($this-\u0026gt;iterator-\u0026gt;current()); } public function next() { $this-\u0026gt;iterator-\u0026gt;next(); } public function key() { return $this-\u0026gt;iterator-\u0026gt;key(); } public function valid() { return $this-\u0026gt;iterator-\u0026gt;valid(); } public function rewind() { $this-\u0026gt;iterator-\u0026gt;rewind(); } } Streamã‚¯ãƒ©ã‚¹ã«mapãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”Ÿã‚„ã—ã¾ã™ã€‚\n\u0026lt;?php public function map(callable $f) { return new LazyMapIterator($this, $f); } mapãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ã¿ã¾ã™ã€‚\n\u0026lt;?php $stream = new Stream(1, 5); $result = $stream-\u0026gt;map(function($i) { return $i * 10; }); var_dump(iterator_to_array($result)); array(5) { [1] =\u0026gt; int(10) [2] =\u0026gt; int(20) [3] =\u0026gt; int(30) [4] =\u0026gt; int(40) [5] =\u0026gt; int(50) } ã¡ãªã¿ã«PHPã¯SPLã§è‰²ã€…ãªã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã®ã§ã€PHPã®æ®‹å¿µãªé…åˆ—æ“ä½œã«ã‚¤ãƒ©ã¤ã„ã¦ã„ã‚‹æ–¹ã¯æ˜¯éè¦—ã„ã¦ã¿ã¦ãã ã•ã„ï¼ˆCallbackFilterIteratorã‚’ä½¿ãˆã°filteræ©Ÿèƒ½ã‚‚ã™ãå®Ÿè£…ã§ãã¾ã™ï¼‰\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/08/13/doctrine-enum-bundle.html",
                "title": "Symfony2(Doctrine2)ã§ENUMã‚’ä½¿ã†ãªã‚‰DoctrineEnumBundleãŒä¾¿åˆ©",
                "section": "post",
                "date" : "2013.08.13",
                "body": "DoctrineEnumBundleã¨ã„ã†Bundleã‚’å°å…¥ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€Doctrine2ã§MySQLã®ENUMå‹ã‚’æ‰±ã†ã“ã¨ãŒã§ãã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« composer.jsonã«fresh/doctrine-enum-bundleã‚’è¿½åŠ ã—ã¾ã™ã€‚\n{ \u0026#34;require\u0026#34;: { \u0026#34;php\u0026#34;: \u0026#34;\u0026gt;=5.3.3\u0026#34;, \u0026#34;symfony/symfony\u0026#34;: \u0026#34;2.3.*\u0026#34;, ........ \u0026#34;fresh/doctrine-enum-bundle\u0026#34;: \u0026#34;dev-master\u0026#34; } } composer.phar installã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ php composer.phar install app/AppKernel.phpã«DoctrineEnumBundleã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\u0026lt;?php public function registerBundles() { $bundles = [ new Fresh\\Bundle\\DoctrineEnumBundle\\FreshDoctrineEnumBundle() ]; } ä½¿ã„æ–¹ ã¾ãšEnumTypeã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚\n\u0026lt;?php namespace Acme\\DemoBundle\\EnumType; use Fresh\\Bundle\\DoctrineEnumBundle\\DBAL\\Types\\AbstractEnumType; class GenderType extends AbstractEnumType { const MALE = \u0026#39;male\u0026#39;; const FEMALE = \u0026#39;female\u0026#39;; protected $name = \u0026#39;GenderType\u0026#39;; protected static $choices = [ self::MALE =\u0026gt; \u0026#39;ç”·æ€§\u0026#39;, self::FEMALE =\u0026gt; \u0026#39;å¥³æ€§\u0026#39; ]; } app/config/config.yml ã§ä¸Šã§ä½œã£ãŸEnumTypeã‚’DBALã«ç™»éŒ²ã—ã¾ã™ã€‚\ndoctrine: dbal: mapping_types: enum: string types: GenderType: Acme\\DemoBundle\\EnumType\\GenderType ã‚ã¨ã¯ENUMå‹ã«ã—ãŸã„ãƒ¡ãƒ³ãƒå¤‰æ•°ã«å¯¾ã—ã¦ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã€app/console doctrine:schema:updateã‚’å®Ÿè¡Œã™ã‚Œã°ENUMå‹ã®ã‚«ãƒ©ãƒ ãŒä½œã‚‰ã‚Œã¾ã™ã€‚\n\u0026lt;?php namespace Acme\\DemoBundle\\Entity; use Doctrine\\ORM\\Mapping as ORM; /** * @ORM\\Table * @ORM\\Entity */ class User { /** * @ORM\\Column(name=\u0026#34;gender\u0026#34;, type=\u0026#34;GenderType\u0026#34;) */ private $gender; } "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/08/12/php-mcrypt-is-too-slow.html",
                "title": "PHPã®mcrypté–¢æ•°ãŒé…ã™ãã¦è¾›ã„",
                "section": "post",
                "date" : "2013.08.12",
                "body": "DES-ECBã®æš—å·ãƒ»å¾©å·ã‚’10ä¸‡å›ç¹°ã‚Šè¿”ã™ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’å–ã£ã¦ã¿ãŸã‚‰mcrypté–¢æ•°ãŒé…ã™ãã¦æ¶™ãŒå‡ºã¦ãã¾ã—ãŸã€‚PHPã®ã“ã¨ãªã®ã§ã‚‚ã£ã¨é€Ÿããªã‚‹æ›¸ãæ–¹ãŒã‚ã‚‹ã¨æ·¡ã„æœŸå¾…ã‚’ã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€ä½•ã‹è‰¯ã„æ–¹æ³•ç„¡ã„ã§ã™ã‹ã­(Â´ãƒ»Ï‰ãƒ»`)\n\u0026lt;?php $message = \u0026#39;abcdefgh\u0026#39;; $key = \u0026#39;abcdefgh\u0026#39;; for ($i = 0; $i \u0026lt; 100000; $i++) { $encryptedMessage = mcrypt_encrypt(MCRYPT_DES, $key, $message, MCRYPT_MODE_ECB); $decryptedMessage = mcrypt_decrypt(MCRYPT_DES, $key, $encryptedMessage, MCRYPT_MODE_ECB); } å®Ÿè¡Œã—ã¦ã¿ã‚‹ã€‚\n$ php -v PHP 5.4.13 (cli) (built: Apr 17 2013 12:40:07) Copyright (c) 1997-2013 The PHP Group Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies with Xdebug v2.2.1, Copyright (c) 2002-2012, by Derick Rethans $ time php ./bench.php php ./bench.php 24.26s user 0.73s system 99% cpu 25.000 total 24ç§’â€¦\nåŒã˜å‡¦ç†ã‚’Pythonã§æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚\nimport Crypto.Cipher.DES message = \u0026#34;abcdefgh\u0026#34; key = \u0026#34;abcdefgh\u0026#34; for i in range(100000): cipher = Crypto.Cipher.DES.new(key, Crypto.Cipher.DES.MODE_ECB) encrypted_message = cipher.encrypt(message) decrypted_message = cipher.decrypt(encrypted_message) å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨\n$ python --version Python 2.7.2 $ time python ./bench.py python ./bench.py 0.92s user 0.01s system 99% cpu 0.930 total 1ç§’ã‹ã‹ã£ã¦ã¾ã›ã‚“ã­ã€‚ã€‚ã€‚Rubyã§OpenSSL::Cipherã‚’ä½¿ã£ãŸå ´åˆã‚‚Pythonã¨ã»ã¼åŒé€Ÿã ã£ãŸã®ã§mcryptãŒç•°æ§˜ã«é…ã„ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ\nè¿½è¨˜ mcrypté–¢æ•°ã§ã¯ãªãOpenSSLé–¢æ•° openssl_encrypt openssl_decrypt ã‚’ä½¿ãˆã°çˆ†é€Ÿã«ãªã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚PHP 5.3.0ã‹ã‚‰ä½¿ãˆã‚‹ã‚ˆã†ãªã®ã§ç‰¹ã«ç†ç”±ãŒãªã‘ã‚Œã°OpenSSLã‚’ä½¿ã£ãŸã»ã†ãŒè‰¯ã•ãã†ã§ã™ã€‚"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2013/03/10/php54-trait-readonly-array.html",
                "title": "PHP 5.4ã®ãƒˆãƒ¬ã‚¤ãƒˆã§èª­ã¿å–ã‚Šå°‚ç”¨é…åˆ—ã‚’å®Ÿè£…ã—ã¦ã¿ã‚‹",
                "section": "post",
                "date" : "2013.03.10",
                "body": "traitã‚’ä½¿ã£ã¦ä½•ã‹ä½œã£ã¦ã¿ã‚ˆã†ã¨æ€ã„ç«‹ã¡ã€èª­ã¿å–ã‚Šå°‚ç”¨ã®é…åˆ—ã‚’å®Ÿè£…ã—ã¦ã¿ã¾ã—ãŸã€‚é…åˆ—ã¨ã—ã¦æ‰±ã„ãŸã„ï¼ˆä¾‹ãˆã°foreachã§å›ã—ãŸã„ã¨ã‹ï¼‰ã‘ã©å¤–å´ã‹ã‚‰ã®å¤‰æ›´ã¯å—ã‘ä»˜ã‘ãŸããªã„ã¨ã„ã†ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½¿ãˆã¾ã™ã€‚\n\u0026lt;?php trait ReadOnlyArray { private $items = []; public function offsetGet($key) { if (!array_key_exists($key, $this-\u0026gt;items)) { throw new OutOfRangeException(); } return $this-\u0026gt;items[$key]; } public function offsetSet($key, $value) { throw new BadMethodCallException(); } public function offsetExists($key) { return isset($this-\u0026gt;items[$key]); } public function offsetUnset($key) { throw new BadMethodCallException(); } public function getIterator() { return new ArrayIterator($this-\u0026gt;items); } public function count() { return count($this-\u0026gt;items); } } ä½¿ã„æ–¹ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚\n\u0026lt;?php class ExampleArray implements ArrayAccess, IteratorAggregate, Countable { use ReadOnlyArray; public function __construct() { $this-\u0026gt;items[\u0026#34;foo\u0026#34;] = \u0026#34;bar\u0026#34;; } } $example = new ExampleArray(); $example[\u0026#34;foo\u0026#34;]; // =\u0026gt; \u0026#34;bar\u0026#34; $example[\u0026#34;foo\u0026#34;] = \u0026#34;buu\u0026#34;; // =\u0026gt; BadMethodCallException $example-\u0026gt;count(); // =\u0026gt; 1 "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2012/09/13/rails-backbone-intro.html",
                "title": "Rails3ã«Backbone.jsã‚’å°å…¥ã™ã‚‹",
                "section": "post",
                "date" : "2012.09.13",
                "body": "æœ€è¿‘Backbone.jsã‚’è§¦ã£ã¦ã„ã¾ã™ã€‚Backbone.jsã‚’Railsã§ä½¿ã„ãŸã„ãªã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§å°å…¥ã—ã¦ã—ã¾ã†ã®ãŒä¸€ç•ªç°¡å˜ã§ã—ã‚‡ã†ã€‚\nGemfileã«rails-backboneã‚’è¿½åŠ ã—ã¦bundle install\nsource \u0026#39;https://rubygems.org\u0026#39; gem \u0026#39;rails\u0026#39;, \u0026#39;3.2.8\u0026#39; gem \u0026#39;mysql2\u0026#39; group :assets do ... end gem \u0026#39;jquery-rails\u0026#39; gem \u0026#39;rails-backbone\u0026#39; # \u0026lt;- è¿½åŠ  Backbone.jsã‚’çµ„ã¿è¾¼ã¿ã¾ã™ã€‚\n$ bundle exec rails g backbone:install insert app/assets/javascripts/application.js create app/assets/javascripts/backbone/routers create app/assets/javascripts/backbone/routers/.gitkeep create app/assets/javascripts/backbone/models create app/assets/javascripts/backbone/models/.gitkeep create app/assets/javascripts/backbone/views create app/assets/javascripts/backbone/views/.gitkeep create app/assets/javascripts/backbone/templates create app/assets/javascripts/backbone/templates/.gitkeep create app/assets/javascripts/backbone/app.js.coffee app/assets/javascript/application.js ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã•ã‚Œã¾ã™ã€‚\n//= require jquery //= require jquery_ujs //= require underscore //= require backbone //= require backbone_rails_sync //= require backbone_datalink //= require backbone/app //= require_tree . ã“ã®ä¸‹ã‹ã‚‰2è¡Œç›®ã€ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ app/assets/javascript/backbone/app.js.coffee ãŒå„ãƒ¢ãƒ‡ãƒ«ãƒ»ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãªã©ã‚’èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åã¯Railsã‚¢ãƒ—ãƒªã¨åŒã˜åå‰ã«ãªã‚Šã¾ã™ï¼‰\n#= require_self #= require_tree ./templates #= require_tree ./models #= require_tree ./views #= require_tree ./routers  window.App = Models: {} Collections: {} Routers: {} Views: {} rails-backboneã®ãŠä½œæ³•ã¯ï¼ˆscaffoldã§ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚’ã¿ã‚‹é™ã‚Šï¼‰ãƒ¢ãƒ‡ãƒ«ãƒ»ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«åˆ†ã‘ã¦ç®¡ç†ã™ã‚‹ã‚ˆã†ã§ã™ã€‚ãã—ã¦ãã®æ§‹é€ ãŒãã®ã¾ã¾åå‰ç©ºé–“ã«ãªã‚Šã¾ã™ã€‚\nä¾‹ãˆã°Userãƒ¢ãƒ‡ãƒ«ãªã‚‰ app/assets/javascript/backbone/models/user.js.coffee ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nclass App.Models.User extends Backbone.Model url: -\u0026gt; \u0026#34;/api/users/#{@id}\u0026#34; ã‚¢ãƒ—ãƒªåãŒé•·ã„ã¨è‹¥å¹²ã‚¿ã‚¤ãƒ—ãŒé¢å€’ã‹ãªãƒ¼ã£ã¦å°è±¡ã§ã™ãŒã€ã¾ã app/* ã¨åŒã˜æ„Ÿè¦šã§ä½œã‚Œã‚‹ã®ã§Railsæ…£ã‚Œã—ã¦ã‚‹äººã¯é•å’Œæ„Ÿãªãä½¿ãˆãã†ã§ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2012/07/17/dtrace-nodejs.html",
                "title": "OpenIndiana (Solaris) ã®DTraceã§Node.jsã‚’ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã™ã‚‹",
                "section": "post",
                "date" : "2012.07.17",
                "body": "æ˜¨å¹´è¾ºã‚Šã‹ã‚‰é–‹ç™ºã‚’é€²ã‚ã¦ã„ã‚‹Nodeã‚¢ãƒ—ãƒªãŒå¤§å¤‰æ®‹å¿µãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã ã£ãŸã®ã§ã€DTraceã§ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã—ã¦ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã‚’æ¢ã—ã¦ã¿ã‚‹ä½œæˆ¦ã§ã™ã€‚\nDTraceã¯Solaris, FreeBSD, Mac OS Xè¾ºã‚Šã«æ­è¼‰ã•ã‚Œã¦ã„ã‚‹ã®ã§ã™ãŒã€Profiling Node.js ã‚’èª­ã‚€ã¨Macã§ã¯å‹•ã‹ãªã„ä¸Šã«32bitã˜ã‚ƒãªã„ã¨é§„ç›®ã€ã¨ã ã„ã¶é¢å€’ãªåˆ¶ç´„ãŒä»˜ã„ã¦ã„ã¾ã™ã€‚ã¡ãªã¿ã«FreeBSDã‚‚NGã®ã‚ˆã†ã§ã™ã€‚\nä»•æ–¹ãŒãªã„ã®ã§OpenSolarisã®å¾Œç¶™ï¼Ÿã«ã‚ãŸã‚‹OpenIndianaã‚’VirtualBoxã§å‹•ã‹ã™äº‹ã«ã—ã¾ã—ãŸã€‚\nNode.jsã‚’å…¥ã‚Œã‚‹ OpenIndianaè‡ªä½“ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã¯å‰²æ„›ã—ã¾ã™ã€‚æ™®é€šã«F2ã‚­ãƒ¼ã‚’é€£æ‰“ã—ã¦ã„ã‚Œã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‡ºæ¥ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã€‚ã€‚ãã‚Œã«ã—ã¦ã‚‚Solarisã‚’è§¦ã‚‹ã®ãªã‚“ã¦ä½•å¹´ã¶ã‚Šã ã‚ã†ã‹ã€‚\nã²ã¨ã¾ãšã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æœ€æ–°ç‰ˆã«ä¸Šã’ã¦å†èµ·å‹•ã—ã¦ãŠãã¾ã™ã€‚\n$ su - # pkg refresh --full # pkg install package/pkg # pkg image-update # reboot GCCã¨math.hã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n# pkg install gcc-3 # pkg install header-math OpenSSLã¯å…¥ã£ã¦ã„ã‚‹ã¯ãšãªã‚“ã§ã™ãŒã€configureã—ãŸæ™‚ã«ç„¡ã„ã£ã¦æ€’ã‚‰ã‚Œã‚‹ã®ã§æ”¹ã‚ã¦å…¥ã‚Œã¦ãŠãã¾ã™ã€‚\n# mkdir -p /usr/local/src # cd /usr/local/src # wget http://www.sunfreeware.com/intel/10/openssl-0.9.8x-sol10-x86-local.gz # gunzip openssl-0.9.8x-sol10-x86-local.gz # pkgadd -d openssl-0.9.8x-sol10-x86-local Nodeã®ã‚½ãƒ¼ã‚¹ã‚’è½ã¨ã—ã¦ãã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚v0.8.2ã¯è¬ã®ã‚¨ãƒ©ãƒ¼ã‚’åã„ã¦ãƒ“ãƒ«ãƒ‰ã«å¤±æ•—ã™ã‚‹ã®ã§v0.6.20ã«ã—ã¾ã—ãŸã€‚DTraceã‚’æœ‰åŠ¹ã«ã™ã‚‹ãŸã‚ã«configureã«â€“with-dtraceã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ä¸ã—ã¦ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚\n# wget http://nodejs.org/dist/v0.6.20/node-v0.6.20.tar.gz # tar zxvf node-v0.6.20.tar.gz # cd node-v0.6.20 # ./configure --prefix=/usr/local --with-dtrace # make # make install DTraceã®çµæœã‚’SVGã«åŠ å·¥ã—ã¦ãã‚Œã‚‹stackvisã‚’å…¥ã‚Œã¦ãŠãã¾ã™ã€‚\n# npm install -g stackvis å®Ÿéš›ã«ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã—ã¦ã¿ã‚‹ è©¦ã—ã«ãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°åˆ—ã‚’è¨ˆç®—ã™ã‚‹é–¢æ•°ã‚’ã²ãŸã™ã‚‰ã¶ã‚“å›ã™ã‚³ãƒ¼ãƒ‰ã‚’ãƒˆãƒ¬ãƒ¼ã‚¹ã—ã¦ã¿ã¾ã™ã€‚è‰¯ã„ã‚³ãƒ¼ãƒ‰ç„¡ãã¦ã”ã‚ã‚“ãªã•ã„ã€‚\nfunction fib(i) { if (i == 0 || i == 1) { return i; } return fib(i - 1) + fib(i - 2); } while(1) { var result = fib(30); console.log(result); } Nodeã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã“ã‚Œã¯ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚\n$ node ./fib.js 832040 832040 832040 832040 ...... Nodeãƒ—ãƒ­ã‚»ã‚¹ã‚’å‹•ä½œã•ã›ãŸã¾ã¾ã€åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§DTraceã‚’rootæ¨©é™ã§å®Ÿè¡Œã—ã¾ã™ã€‚60ç§’é–“ stacks.out ã«è¨˜éŒ²ã—ã¦ã„ãã¾ã™ã€‚\n# dtrace -o stacks.out -n 'profile-97/execname == \u0026quot;node\u0026quot; \u0026amp;\u0026amp; arg1/{ @[jstack(100, 8000)] = count(); } tick-60s { exit(0); }' stackvisã‚’ä½¿ã£ã¦stacks.outã‚’SVGåŒ–ã—ã¾ã™ã€‚\n# stackvis dtrace flamegraph-svg \u0026lt; stacks.out \u0026gt; stacks.svg ç”Ÿæˆã•ã‚ŒãŸstacks.svgã¯ã“ã¡ã‚‰ã«ãªã‚Šã¾ã—ãŸï¼ˆç¸¦ãŒã‚³ãƒ¼ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã®æ·±ã•ã§æ¨ªãŒå‡¦ç†æ™‚é–“ã®ç›¸å¯¾çš„ãªé•·ã•ã®ã¯ãšï¼Ÿï¼‰\n  WebSocket-Nodeã§å®Ÿè£…ã—ãŸã‚¨ã‚³ãƒ¼ã‚µãƒ¼ãƒãƒ¼ã‚’DTraceã—ã¦ã¿ãŸçµæœã¯ã“ã¡ã‚‰ã€‚\n  ã¾ã¨ã‚ å‡¦ç†ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã‚‹é–¢æ•°ãŒã‚¶ãƒƒã‚¯ãƒªã¨åˆ†ã‹ã‚‹ã®ã§ãƒœãƒˆãƒ«ãƒãƒƒã‚¯æ¢ã—ã«é‡å®ã—ãã†ã§ã™ã€‚\nã—ã‹ã—Macã§å‹•ã‹ãªã„ã®ãŒæƒœã—ã„ã€‚Solarisã£ã¦ã ã‘ã§ãƒãƒ¼ãƒ‰ãƒ«ãŒä¸ŠãŒã‚‹ã‚ˆã†ãªæ°—ãŒã—ã¾ã™ã€‚ã‚ã¨ä½•æ•…ã‹Node v0.8.2ãŒãƒ“ãƒ«ãƒ‰å‡ºæ¥ãªã„ã®ã§ãã“ã‚‰è¾ºãŒä»Šå¾Œã®èª²é¡Œã§ã™ã­ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2012/05/14/rails3-rabbitmq.html",
                "title": "Rails3 + unicornã‹ã‚‰RabbitMQã«æ¥ç¶šã™ã‚‹ã«ã¯",
                "section": "post",
                "date" : "2012.05.14",
                "body": "ruby-amqpã¯EventMachineã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€unicornä¸Šã®Railsã‚¢ãƒ—ãƒªã‹ã‚‰RabbitMQã«æ¥ç¶šã™ã‚‹å ´åˆã¯å°‘ã—æ‰‹é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚EventMachineã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹Thinãªã©ã¯ãã®ã¾ã¾å‹•ãã‚ˆã†ã§ã™ãŒã€‚ã€‚ã€‚\nä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’config/unicorn.rbã«è¿½è¨˜ã—ã¾ã™ã€‚\nENV[\u0026#34;UNICORN\u0026#34;] = \u0026#34;true\u0026#34; after_fork do |server, worker| AMQPManager.start end config/amqp.ymlã‚’ç”¨æ„ã—ã¾ã™ã€‚\ndevelopment: uri: \u0026#34;amqp://localhost\u0026#34; é–‹ç™ºç’°å¢ƒï¼ˆWebRickãªã©ï¼‰ã‹ã‚‰ã‚‚RabbitMQã«æ¥ç¶šå‡ºæ¥ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n# config/initializers/amqp.rb require \u0026#39;amqp/utilities/event_loop_helper\u0026#39; require \u0026#39;amqp/integration/rails\u0026#39; module AMQPManager def self.start AMQP::Utilities::EventLoopHelper.run AMQP::Integration::Rails.start do |connection| connection.on_error do |ch, connection_close| raise connection_close.reply_text end connection.on_tcp_connection_loss do |conn, settings| conn.reconnect(false, 2) end connection.on_tcp_connection_failure do |conn, settings| conn.reconnect(false, 2) end channel = AMQP::Channel.new(connection, AMQP::Channel.next_channel_id, :auto_recovery =\u0026gt; true) channel.on_error do |ch, channel_close| raise channel_close.reply_text end AMQP.channel = channel end end end AMQPManager.start unless ENV[\u0026#34;UNICORN\u0026#34;] ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‹ã‚‰ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥ã™ã‚‹å ´åˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n# coding: utf-8 class AmqpController \u0026lt; ApplicationController def publish AMQP::Utilities::EventLoopHelper.run do AMQP.channel.default_exchange.publish(\u0026#34;Hello World!!!!!\u0026#34;, routing_key: \u0026#34;queue.name\u0026#34;) end head :created end end "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2012/04/18/rabbitmq-cluster-on-ec2.html",
                "title": "Ubuntu on EC2ã§RabbitMQã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ§‹ç¯‰ã™ã‚‹æ‰‹é †",
                "section": "post",
                "date" : "2012.04.18",
                "body": "EC2 ã§å‹•ã‹ã—ã¦ã„ã‚‹ Ubuntu Server 11.10 ã« RabbitMQ ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ§‹ç¯‰ã—ãŸã®ã§ãã®æ™‚ã®æ‰‹é †ã‚’ãƒ–ãƒ­ã‚°ã«æ®‹ã—ã¦ãŠãã¾ã™ã€‚ãƒ›ã‚¹ãƒˆåã®è¨­å®šã§è‹¥å¹²æ‰‹ã“ãšã‚Šã¾ã—ãŸâ€¦ã€‚\nRabbitMQã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ã§é…å¸ƒã•ã‚Œã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã†ã®ãŒãŠæ‰‹è»½ã§ã™ã€‚\ncd /tmp wget wget http://www.rabbitmq.com/releases/rabbitmq-server/v2.8.1/rabbitmq-server_2.8.1-1_all.deb sudo apt-get install erlang-nox sudo dpkg -i rabbitmq-server_2.8.1-1_all.deb ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã‘ã‚Œã°ã€æ­£å¸¸ã«RabbitMQãŒèµ·å‹•ã—ã¦ã„ã¾ã™ã€‚\nsudo rabbitmqctl status RabbitMQã®åˆæœŸè¨­å®š RabbitMQã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒãƒ¼ãƒ‰åãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚µãƒ¼ãƒã®hostname -sã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®ãƒãƒ¼ãƒ‰åã‚’å¤‰æ›´ã™ã‚‹ã«ã¯ /etc/rabbitmq/rabbitmq-env.conf ã§NODENAMEã‚’æŒ‡å®šã™ã‚Œã°è‰¯ã„ã®ã§ã™ãŒã€ä½•æ•…ã‹NODENAMEã«ã¯FQDNãŒä½¿ãˆã¾ã›ã‚“ã€‚\nã“ã®ã¾ã¾ã ã¨ã€åˆ¥ã®RabbitMQã‚µãƒ¼ãƒã‚’ã‚¯ãƒ©ã‚¹ã‚¿ã«è¿½åŠ ã™ã‚‹æ™‚ã«ãƒãƒ¼ãƒ‰åã®ä¸ä¸€è‡´ãŒèµ·ãã€æ­£å¸¸ã«è¿½åŠ å‡ºæ¥ãªã„ã¨ã„ã†ç½ ãŒå¾…ã£ã¦ã„ã¾ã™ã€‚ã¾ãã€/etc/hosts ã«å…¨ã‚µãƒ¼ãƒã®ãƒ›ã‚¹ãƒˆåã‚’æ›¸ã„ã¦ã„ã‘ã°å•é¡Œç„¡ã„ã®ã§ã™ãŒã€EC2ã ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®å†èµ·å‹•ã§IPã¨ãƒ›ã‚¹ãƒˆåãŒå¤‰ã‚ã£ãŸã‚Šã™ã‚‹ã®ã§ã€ã‚ã¾ã‚Šç¾å®Ÿçš„ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã­ã€‚æ¥µåŠ›ãƒ‰ãƒ¡ã‚¤ãƒ³åã§å‡¦ç†ã—ãŸã„ã¨ã“ã‚ã§ã™ã€‚\nãã“ã§ /etc/rabbitmq/rabbitmq-env.conf ã§FQDNãŒä½¿ãˆã‚‹ã‚ˆã†ã«RabbitMQæœ¬ä½“ã«è‹¥å¹²æ‰‹ã‚’åŠ ãˆã¾ã™ã€‚ã¨ã„ã£ã¦ã‚‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ›¸ãæ›ãˆã‚‹ã ã‘ã§ã™ã€‚\næ›¸ãæ›ãˆã‚‹å‰ã«ã‚µãƒ¼ãƒã‚’åœæ­¢ã—ã¦ãŠãã¾ã™ã€‚\nsudo /etc/init.d/rabbitmq-server stop /usr/lib/rabbitmq/lib/rabbitmq_server-2.8.1/sbin/rabbitmq-server\n--- rabbitmq-Server2012-04-18 16:17:39.168100001 +0900 +++ rabbitmq-Server2012-04-18 16:17:13.304100001 +0900 @@ -102,7 +102,7 @@  exec erl \\ ${RABBITMQ_EBIN_PATH} \\ ${RABBITMQ_START_RABBIT} \\ - -sname ${RABBITMQ_NODENAME} \\ + -name ${RABBITMQ_NODENAME} \\  -boot ${RABBITMQ_BOOT_FILE} \\ ${RABBITMQ_CONFIG_ARG} \\ +W w \\ /usr/lib/rabbitmq/lib/rabbitmq_server-2.8.1/sbin/rabbitmqctl\n--- rabbitmqctl2012-04-18 16:12:54.016100001 +0900 +++ rabbitmqctl2012-04-18 16:12:32.828100000 +0900 @@ -31,7 +31,7 @@  -noinput \\ -hidden \\ ${RABBITMQ_CTL_ERL_ARGS} \\ - -sname rabbitmqctl$$ \\ + -name rabbitmqctl$$ \\  -s rabbit_control \\ -nodename $RABBITMQ_NODENAME \\ -extra \u0026#34;$@\u0026#34; /etc/rabbitmq/rabbitmq-env.conf ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\nNODENAME=rabbit@rabbit1.foo.bar.internal ã“ã‚Œã§RabbitMQã‚’å†åº¦èµ·å‹•ã•ã›ã¦ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã‘ã‚Œã°è¨­å®šå®Œäº†ã§ã™ã€‚\nã‚¯ãƒ©ã‚¹ã‚¿åŒ–ã™ã‚‹ rabbit1.foo.bar.internal ã¨ rabbit2.foobar.internal ã«å¯¾ã—ã¦ã€ä¸Šè¨˜æ‰‹é †ã«å‰‡ã£ã¦RabbitMQã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã¨ä»®å®šã—ã¾ã™ã€‚\nrabbit1ã‚’åˆæœŸåŒ–ã™ã‚‹\nrabbit1% sudo rabbitmqctl stop_app rabbit1% sudo rabbitmqctl reset rabbit1ä¸Šã§rabbit2ã‚’ã‚¯ãƒ©ã‚¹ã‚¿ã«å‚åŠ ã•ã›ã‚‹\nrabbit1% sudo rabbitmqctl cluster rabbit2.foo.bar.internal rabbit1% sudo rabbitmqctl start_app ã‚¯ãƒ©ã‚¹ã‚¿ã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹\nrabbit1% sudo rabbitmqctl cluster_status Cluster status of node 'rabbit@rabbit1.foo.bar.internal' ... [{nodes,[{disc,['rabbit@rabbit2.foo.bar.internal']}, {ram,['rabbit@rabbit1.foo.bar.internal']}]}, {running_nodes,['rabbit@rabbit2.foo.bar.internal', 'rabbit@rabbit1.foo.bar.internal']}] ...done. è¿½åŠ ã•ã‚Œã¦ã¾ã™ã­ã€‚rabbit2ã‹ã‚‰ã‚‚ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚\nrabbit2% sudo rabbitmqctl cluster_status Cluster status of node 'rabbit@rabbit2.foo.bar.internal' ... [{nodes,[{disc,['rabbit@rabbit2.foo.bar.internal']}, {ram,['rabbit@rabbit1.foo.bar.internal']}]}, {running_nodes,['rabbit@rabbit1.foo.bar.internal', 'rabbit@rabbit2.foo.bar.internal']}] ...done. ã“ã‚Œã§rabbit1, rabbit2ã©ã¡ã‚‰ã«æ¥ç¶šã—ã¦ã‚‚ã‚­ãƒ¥ãƒ¼ã‚’publish, subscribeã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ã‚¯ãƒ©ã‚¹ã‚¿åŒ–è‡ªä½“ã¯ãã“ã¾ã§é›£ã—ããªã„ã¨æ€ã„ã¾ã™ã€‚\nè©³ã—ãã¯ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨éƒ¨æ›¸ã„ã¦ã‚ã‚‹ã®ã§ã€ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2012/03/07/sharding-mongoose.html",
                "title": "ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç’°å¢ƒã§ Mongoose ã‚’ä½¿ã†",
                "section": "post",
                "date" : "2012.03.07",
                "body": "Mongooseã§Schemaã‚’å®šç¾©ã™ã‚‹æ™‚ã«ã€Shard keyã®æƒ…å ±ã‚’æ¸¡ã—ã¦ã‚ã’ã‚‹äº‹ã§ insert, update, removeç­‰ã®å‡¦ç†ãŒTargetedã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§å®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ä¾¿åˆ©ã§ã™ã­ã€‚\nvar mongoose = require(\u0026#39;mongoose\u0026#39;) , Schema = mongoose.Schema , ObjectId = Schema.ObjectId; var Footprint = new Schema({ user_id: { type: ObjectID }, visitor_id: { type: ObjectID }, seconds: { type: Number, default: (new Date()).getSeconds() }, created_at: { type: Date, default: Date.now } }, { shardkey: { user_id: 1, seconds: 1 } }); â€» ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®è¨­å®šè‡ªä½“ã¯äºˆã‚MongoDBå´ã§æ¸ˆã¾ã›ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2012/01/10/node-uuid.html",
                "title": "Node.jsã§UUIDã‚’ç”Ÿæˆã™ã‚‹ã«ã¯",
                "section": "post",
                "date" : "2012.01.10",
                "body": "node-uuid ã¨ã„ã†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†ã“ã¨ã§æ‰‹è»½ã«ç”Ÿæˆå‡ºæ¥ã¾ã™ã€‚Node.js ã§åˆ†æ•£ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’æ§‹ç¯‰ã—ãŸã„æ™‚ã«æ´»èºã—ãã†ã§ã™ã€‚\nä½¿ã„æ–¹ npm ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚\nnpm install node-uuid ã‚µãƒ³ãƒ—ãƒ«\nvar uuid = require(\u0026#39;node-uuid\u0026#39;); console.log(uuid.v1()); // =\u0026gt; eb6b8030-3b57-11e1-9c04-c9b9178cf34e console.log(uuid.v4()); // =\u0026gt; 4d9a29f8-8993-40cd-819b-862b9c7b78b2 UUIDã®æœ¬æ¥ã®ç›®çš„ã¨ã¯é•ã„ã¾ã™ãŒã€åŠ å·¥ã—ã¦32æ–‡å­—ã®ãƒ©ãƒ³ãƒ€ãƒ ãªæ–‡å­—åˆ—ã¨ã—ã¦ã‚‚ä½¿ãˆã¾ã™ã­ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹çš„ã«ã©ã†ãªã®ã‹ã¯æœªæ¤œè¨¼ã§ã™ï¼‰\nvar uuid = require(\u0026#39;node-uuid\u0026#39;); var rand = uuid.v4().split(\u0026#39;-\u0026#39;).join(\u0026#39;\u0026#39;); // 661708030ec74627a12d3f6c6f8f5dd2 "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/12/08/chef-install.html",
                "title": "Chefã§å§‹ã‚ã‚‹ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆç®¡ç†å…¥é–€ ãã®2 â€“ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨åˆæœŸè¨­å®š",
                "section": "post",
                "date" : "2011.12.08",
                "body": "å‰å›ã«å¼•ãç¶šã Chef ã«é–¢ã™ã‚‹ã‚¨ãƒ³ãƒˆãƒªã§ã™ã€‚ã“ã®ã‚¨ãƒ³ãƒˆãƒªã§ã¯Chef Serverã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨åˆæœŸè¨­å®šã€æ›´ã«Nodeã®æ¥ç¶šã¾ã§ã‚’æ›¸ã„ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚è‡ªåˆ†ã®ãƒ¡ãƒ¢æ›¸ãã‚’æ•´ç†ã—ã¦æ›¸ãå‡ºã—ã¦ã„ã‚‹ã®ã§ã€ä½•ã‹ãŠã‹ã—ãªç®‡æ‰€ãŒã‚ã£ãŸã‚‰æ˜¯éæŒ‡æ‘˜ã—ã¦ãã ã•ã„ï¼\nã•ã¦ã€ä½œæ¥­ã‚’é€²ã‚ã¦ã„ãä¸Šã§è¤‡æ•°ã®ãƒã‚·ãƒ³ãŒå‡ºã¦ãã‚‹ã®ã§ã€ä¾¿å®œä¸Šã€ä¸‹å›³ã®ã‚ˆã†ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆã«ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚192.168.50.100ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«IPã ã¨æ€ã£ã¦ãã ã•ã„ã€‚ã¾ãŸã€Chef Server, å„Nodeã¯å…¨ã¦Ubuntu 11.10 Serverã¨ä»®å®šã—ã¾ã™ï¼ˆDebian squeezeã§ã‚‚å¤§ä¸ˆå¤«ï¼‰ã€‚\n  Chef Server ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã®ãŒç„¡é›£ å‰å›ã®ã€ŒChefã®ä»•çµ„ã¿ã€ã§ã‚‚æ›¸ã„ãŸã‚ˆã†ã«ã€è‡ªåŠ›ã§ Chef Server ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ã®ã¯éª¨ãŒæŠ˜ã‚Œã¾ã™ã€‚ã‚µãƒ¼ãƒã®æ§‹ç¯‰ã‚’è‡ªå‹•åŒ–ã—ãŸã„ã®ã«è‚å¿ƒã®Chefã§æ‰‹é–“å–ã‚‹ãªã©æœ¬æœ«è»¢å€’ã§ã™ã­ã€‚ãªã‚‹ã¹ããªã‚‰ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ä»˜å±ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ ã§å°å…¥ã—ãŸã„ã¨ã“ã‚ã§ã™ã€‚\næœ‰ã‚Šé›£ã„ã“ã¨ã«é–‹ç™ºå…ƒã® Opscode ãŒã€Debina/Ubuntuç”¨ã®APT Repositoryã‚’æä¾›ã—ã¦ä¸‹ã•ã£ã¦ã„ã¾ã™ã®ã§è¿·ã‚ãšåˆ©ç”¨ã—ã¾ã—ã‚‡ã†ã€‚â€¦CentOSã¯â€¦ç¾å‘³ã—ã„ã‚“ã§ã—ã‚‡ã†ã‹â€¦\nä½œæ¥­æ‰‹é †ã¯ä¸‹è¨˜ã®é€šã‚Šã€‚ã¾ãšChef Serverã«SSHã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã€Keyã¨Repositoryã‚’ç™»éŒ²ã—ã¦ apt-get ã§ chef-server ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n# Ubuntu chefserver:$ echo \u0026quot;deb http://apt.opscode.com/ `lsb_release -cs`-0.10 main\u0026quot; | sudo tee /etc/apt/sources.list.d/opscode.list # Debian chefserver:$ echo \u0026quot;deb http://apt.opscode.com/ squeeze-0.10 main\u0026quot; | sudo tee /etc/apt/sources.list.d/opscode.list chefserver:$ sudo apt-get update chefserver:$ sudo apt-get install opscode-keyring chefserver:$ sudo apt-get update chefserver:$ sudo apt-get install chef-server ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®é€”ä¸­ã§3å›è³ªå•ãŒå‡ºã¾ã™ã®ã§å…¥åŠ›ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\n  ã“ã‚Œã¯Chef Serverå†…ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹Chef Clientã‹ã‚‰ã¿ãŸChef Server APIã®URIã‚’å…¥åŠ›ã—ã¾ã™ã€‚åŒä¸€ã‚µãƒ¼ãƒãªã®ã§ã“ã“ã§ã¯ http://localhost:4000 ã¨å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\n  AMQP Serverï¼ˆRabbitMQï¼‰ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚ä»»æ„ã®æ–‡å­—åˆ—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚ã“ã“ã§å…¥åŠ›ã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ /etc/chef/solr.rb å†…ã«è¨˜è¿°ã•ã‚Œã¾ã™ã€‚\n  WebUIã®åˆæœŸãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆadminï¼‰ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¾ã™ã€‚ä»»æ„ã®æ–‡å­—åˆ—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒç„¡äº‹çµ‚ã‚ã‚‹ã¨Chef ServerãŒè‡ªå‹•çš„ã«ç«‹ã¡ä¸ŠãŒã‚Šã¾ã™ã€‚çµæ§‹ãªé‡ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…¥ã‚Šã¾ã™ã®ã§å¤šå°‘æ™‚é–“ãŒã‹ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nç®¡ç†ç”¨Clientã‚’ç™»éŒ²ã™ã‚‹ Chef Serverã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒçµ‚ã‚ã£ãŸã‚‰ç®¡ç†ç”¨Clientã‚’ç™»éŒ²ã—ã¾ã™ã€‚ã“ã“ã§ç™»éŒ²ã™ã‚‹Clientã¯Chef Serverå†…ã§ã®ã¿ä½¿ç”¨ã—ã¾ã™ã€‚\nã¾ãšãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«.chefãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã€éµäºŒç¨®é¡ã‚’/etc/chefã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ã¦ãã¾ã™ã€‚\nchefserver:$ mkdir -p ~/.chef chefserver:$ sudo cp /etc/chef/validation.pem /etc/chef/webui.pem ~/.chef chefserver:$ sudo chown -R $USER:$USER ~/.chef ãã®ã‚ã¨ã«knifeã‚³ãƒãƒ³ãƒ‰ã§åˆæœŸè¨­å®šã‚’è¡Œã„ã¾ã™ã€‚\nchefserver:$ knife configure -i WARNING: No knife configuration file found Where should I put the config file? [~/.chef/knife.rb] [ENTER] Please enter the chef server URL: [http://chefserver:4000] http://localhost:4000 Please enter a clientname for the new client: [username] master Please enter the existing admin clientname: [chef-webui] [ENTER] Please enter the location of the existing admin client's private key: [/etc/chef/webui.pem] /home/username/.chef/webui.pem Please enter the validation clientname: [chef-validator] [ENTER] Please enter the location of the validation key: [/etc/chef/validation.pem] /home/username/.chef/validation.pem Please enter the path to a chef repository (or leave blank): [ENTER] Creating initial API user... Created client[master] Configuration file written to /home/username/.chef/knife.rb ã“ã‚Œã§masterã¨ã„ã†ç®¡ç†ç”¨ClientãŒç™»éŒ²ã•ã‚Œã¾ã—ãŸã€‚è©¦ã—ã«ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å©ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nchefserver:$ knife client list æ¬¡ã®ã‚ˆã†ã«è¿”ã£ã¦ãã‚Œã°æˆåŠŸã§ã™ã€‚\nchefserver:$ knife client list chef chef-validator chef-webui master Clientã®è©³ç´°ã‚’ã¿ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã¾ã™ã€‚\nchefserver:$ knife client show master _rev: 1-2901b7c2eb6d33b01f8f12951933b709 admin: true chef_type: client json_class: Chef::ApiClient name: master public_key: -----BEGIN RSA PUBLIC KEY----- snip -----END RSA PUBLIC KEY----- ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒç”¨ã«ç®¡ç†ç”¨Clientã‚’ä½œæˆã™ã‚‹ ä»Šå¾Œã€Chefã®æ“ä½œã¯ã»ã¼Knifeã‚³ãƒãƒ³ãƒ‰ã§è¡Œã†äº‹ã«ãªã‚‹ã®ã§ã™ãŒã€æ¯å›ã‚µãƒ¼ãƒã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ä½œæ¥­ã™ã‚‹ã®ã¯å¾®å¦™ã§ã™ã€‚Cookbookãªã©ã¯åˆ¥ã®ç’°å¢ƒã§ä½œæˆã—ã¦Gitãªã©ã®SCMã§ç®¡ç†ã—ãŸã„ã§ã™ã‚ˆã­ã€‚\nã§ã™ã®ã§åˆ¥ã®ç’°å¢ƒã‹ã‚‰ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹å‡ºæ¥ã‚‹ç®¡ç†ç”¨Clientã‚’ä½œæˆã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚\nä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã—ã‚‡ã†ã€‚ã“ã‚Œã¯akatsukaã¨ã„ã†ç®¡ç†ç”¨Clientã‚’ä½œæˆã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã«ãªã‚Šã¾ã™ã€‚Clientåã¯é©å®œç½®ãæ›ãˆã¦ä¸‹ã•ã„ã€‚\nchefserver:$ knife client create akatsuka -n -a -f /tmp/akatsuka.pem Created client[akatsuka] ã¡ã‚ƒã‚“ã¨ä½œæˆå‡ºæ¥ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚\nchefserver:$ knife client list akatsuka chef chef-validator chef-webui master ã‚ã¨ã¯ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã§ç”Ÿæˆã•ã‚ŒãŸ/tmp/akatsuka.pemã¨~/.chef/validation.pemã®äºŒã¤ã®éµã‚’SCPãªã©ã§ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚\nãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã®æº–å‚™ ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒå´ã¯knifeã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã ã‘ã§ã™ã®ã§ã€Rubyã¨RubygemsãŒå…¥ã£ã¦ã„ã‚Œã°gem installã ã‘ã§æ¸ˆã¿ã¾ã™ï¼ˆRubyã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯å‰²æ„›ã—ã¾ã™ï¼‰ã€‚\nworkstation:$ gem install chef ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒçµ‚ã‚ã£ãŸã‚‰å…ˆã»ã©SCPã§æŒã£ã¦ããŸ akatsuka.pem ã¨ validation.pem ã‚’ ~/.chef ã«ã‚³ãƒ”ãƒ¼ã—ã¦ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nworkstation: $ knife configure WARNING: No knife configuration file found Where should I put the config file? [~/.chef/knife.rb] [ENTER] Please enter the chef server URL: [http://workstation:4000] http://192.168.50.100:4000 Please enter an existing username or clientname for the API: [username] akatsuka Please enter the validation clientname: [chef-validator] [ENTER] Please enter the location of the validation key: [/etc/chef/validation.pem] /Users/username/.chef/validation.pem Please enter the path to a chef repository (or leave blank): [ENTER] ***** You must place your client key in: /Users/username/.chef/akatsuka.pem Before running commands with Knife! ***** You must place your validation key in: /Users/username/.chef/validation.pem Before generating instance data with Knife! ***** Configuration file written to /Users/username/.chef/knife.rb ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã‹ã‚‰ã§ã‚‚æ¥ç¶šå‡ºæ¥ã‚‹ã‹ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nworkstation:$ knife client list akatsuka chef chef-validator chef-webui master Chef Server APIã‚’HTTPSã«ã—ã¦ã‚»ã‚­ãƒ¥ã‚¢ã«ã™ã‚‹ Chef Server APIã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¯æ™®é€šã®HTTPãªã®ã§ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã« nginx ã‚’ç½®ã„ã¦HTTPSã«å¯¾å¿œã•ã›ã¾ã™ã€‚\nchefserver:$ sudo apt-get install nginx OpenSSLã‚’ä½¿ã£ã¦éµã‚’ç”Ÿæˆã—ã¾ã™ã€‚\nchefserver:$ cd /etc/nginx chefserver:$ sudo mkdir ssl chefserver:$ sudo openssl req -new -key ssl/server.key -out ssl/server.csr chefserver:$ sudo openssl x509 -in ssl/server.csr -out ssl/server.crt -req -signkey ssl/server.key -days 365 chefserver:$ sudo chmod 400 ssl/server.* nginxã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™ã€‚\nsudo rm -rf /etc/nginx/sites-enabled/default /etc/nginx/conf.d/proxy.confã‚’ä½œæˆã—ã¾ã™ã€‚\n# /etc/nginx/conf.d/proxy.conf proxy_redirect off; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-Host $host; proxy_set_header X-Forwarded-Server $host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto https; /etc/nginx/sites-available/sslã‚’ä½œæˆã—ã¾ã™ã€‚\n# /etc/nginx/sites-available/ssl server { listen 443; server_name localhost; ssl on; ssl_certificate /etc/nginx/ssl/server.crt; ssl_certificate_key /etc/nginx/ssl/server.key; ssl_session_timeout 5m; ssl_protocols SSLv2 SSLv3 TLSv1; ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP; ssl_prefer_server_ciphers on; location / { proxy_pass http://127.0.0.1:4000/; } } ä¸Šã§ä½œã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’/etc/nginx/sites-enabledå†…ã«ä½œæˆã—ã¾ã™ã€‚\nchefserver:$ sudo ln -s /etc/nginx/sites-available/ssl /etc/nginx/sites-enabled/ssl nginxã‚’èµ·å‹•ã•ã›ã¾ã™ã€‚\nchefserver:$ sudo /etc/init.d/nginx start ã“ã‚Œã§Chef Serverã¯HTTPSå¯¾å¿œã«ãªã‚Šã¾ã—ãŸã€‚ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã®ã»ã†ã‚‚HTTPSã§ç¹‹ãŒã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚~/.chef/knife.rbã‚’é–‹ã„ã¦chef_server_urlã®å€¤ã‚’ä¿®æ­£ã—ã¾ã™ã€‚\n-chef_server_url \u0026#39;http://192.168.50.100:4000\u0026#39; +chef_server_url \u0026#39;https://192.168.50.100\u0026#39; ã¾ã¨ã‚ ã†ãƒ¼ã‚“ãƒ»ãƒ»ãƒ»ã€‚æ›¸ã„ã¦ã„ã¦æ€ã£ãŸã®ã¯ã‚„ã¯ã‚Šæ‰‹é–“ã§ã™ã­ï¼ã‚‚ã†å°‘ã—ä½•ã¨ã‹ãªã‚‰ãªã„ã‚‚ã®ã‹ãƒ»ãƒ»ãƒ»ã€‚ã‚ã¨å®Œå…¨ã«WebUIã‚’ã‚¹ãƒ«ãƒ¼ã—ã¦ãŠã‚Šã¾ã™ãŒã€ä»Šå¾Œã‚‚ã‚¹ãƒ«ãƒ¼ã™ã‚‹æ–¹å‘ã§è¡Œã“ã†ã¨æ€ã£ã¦ã„ã¾ã™ã€‚ç†ç”±ã¯ã€WebUIã ã‘ã ã¨å‡ºæ¥ãªã„äº‹ãŒã‚ã‚‹ã€ä½•æ•…ã‹OpenIDã‚’ä½¿ã£ã¦ãƒ­ã‚°ã‚¤ãƒ³å‡ºæ¥ã¦ã—ã¾ã†ï¼ˆè‡´å‘½çš„ãªã‚ˆã†ãªâ€¦ï¼‰ã€ãã‚‚ãã‚‚ä½¿ã„å‹æ‰‹çš„ã«ã©ã†ãªã‚“ã ã€ã¨ã„ã£ãŸã¨ã“ã‚ã§ã™ã€‚ã‚ã¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ãƒ­ãƒ¼ã‚«ãƒ«ã«æ®‹ã‚‰ãªã„ã®ã§ãã‚Œã‚‚ãƒã‚¤ãƒŠã‚¹ã§ã™ã­ã€‚\nã•ã¦ã€æ¬¡ã¯ã„ã‚ˆã„ã‚ˆNodeã‚’ç™»éŒ²ã—ã¦å®Ÿéš›ã«ãƒ¬ã‚·ãƒ”ã‚’æ›¸ã„ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚å¹´å†…ã«æ›¸ã‘ã‚Œã°ã„ã„ãªã\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/12/05/chef-introduction.html",
                "title": "Chefã§å§‹ã‚ã‚‹ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆç®¡ç†å…¥é–€ ãã®1",
                "section": "post",
                "date" : "2011.12.05",
                "body": "æœ€è¿‘ Chef ã¨ã„ã†ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹æˆã‚’è‡ªå‹•ã§ç®¡ç†ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã„å§‹ã‚ã¾ã—ãŸã€‚åŒæ§˜ã®ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ Puppet ãŒæœ‰åã§ã™ãŒã€ãƒ¬ã‚·ãƒ”ã‚’å†…éƒ¨DSLã§è¨˜è¿°å‡ºæ¥ã‚‹ã»ã†ãŒè‡ªåˆ†ã«ã¯åˆã£ã¦ã„ã‚‹ã¨æ€ã£ãŸã®ã§ã€ä»Šå›ã¯ Chef ã‚’æ¡ç”¨ã—ã¾ã—ãŸã€‚æŠ˜è§’è¦šãˆãŸã®ã§å¾©ç¿’ã‚‚å…¼ã­ã¦ã‚¨ãƒ³ãƒˆãƒªã‚’èµ·ã“ã—ã¦ã¿ã¾ã™ã€‚ã“ã®ã‚¨ãƒ³ãƒˆãƒªãŒChefã®å°å…¥ã‚’æ¤œè¨ã—ã¦ã„ã‚‹æ–¹ã¸ã®æ‰‹åŠ©ã‘ã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚\nChefã®ä»•çµ„ã¿ â€“ æ„å¤–ã¨ä¾å­˜é–¢ä¿‚ãŒé¢å€’ãªChef Server   Chefã®åŸºæœ¬çš„ãªä»•çµ„ã¿ã¯ã€ã‚µãƒ¼ãƒã«è¨­å®šã‚’ç½®ãã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒã‚µãƒ¼ãƒã«å•ã„åˆã‚ã›ã‚‹Pullå‹ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ã‚µãƒ¼ãƒã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å¾“ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãªã©ã‚’è¡Œã„ã¾ã™ã€‚ã—ã‹ã—ã€Chef Serverã¯Ruby(Merb), CouchDB, RabbitMQãªã©ä¾å­˜ãŒå¤šãã€ãŠä¸–è¾ã«ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªã‚·ã‚¹ãƒ†ãƒ ã¨ã¯è¨€ãˆã¾ã›ã‚“ã€‚ãã®ã›ã„ã‹ãƒãƒƒãƒˆã§æ¤œç´¢ã—ã¦å‡ºã¦ãã‚‹æƒ…å ±ã‚‚ã‚µãƒ¼ãƒã‚’å¿…è¦ã¨ã—ãªã„ Chef-Solo ã‚’ä½¿ã£ãŸã‚‚ã®ãŒå¤šã„å°è±¡ã§ã™ã€‚\næœ€ä½é™è¦šãˆã¦ãŠããŸã„ç”¨èª Chefã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«è¦šãˆã¦ãŠããŸã„ç”¨èªé›†ã§ã™ã€‚ãŸãã•ã‚“ã‚ã‚Šã¾ã™ãŒã©ã‚Œã‚‚Chefã‚’ä½¿ã„ã“ãªã™ãŸã‚ã«ã¯å¿…é ˆã®ç”¨èªã¨è¨€ãˆã‚‹ã§ã—ã‚‡ã†ã€‚ã–ã£ãã‚Šã¨æ¦‚è¦ã‚’æ›¸ã„ã¦ã¿ã¾ã™ã€‚\nknife Chef Serverä¸Šã§ä½¿ç”¨ã™ã‚‹ç®¡ç†ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚å¾Œè¿°ã®Clinet, Node, Environmentãªã©å…¨ã¦ã“ã®ã‚³ãƒãƒ³ãƒ‰ã§åˆ¶å¾¡ã—ã¾ã™ã€‚\nClient Chef Serverã«æ¥ç¶šã™ã‚‹ã‚‚ã®å…¨ã¦ã‚’æŒ‡ã—ã¾ã™ã€‚Chef Serverã‹ã‚‰ã¿ãŸå ´åˆã€Chefã§ç®¡ç†ã™ã‚‹ã‚µãƒ¼ãƒç¾¤ã¯å‹¿è«–ã®ã“ã¨ã€knifeã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ç®¡ç†è€…ã‚‚Clinetã«ãªã‚Šã¾ã™ã€‚\nNode Nodeã¯ã€Chef Serverã«æ¥ç¶šã™ã‚‹Clientã®ã†ã¡ã€Chefã§ç®¡ç†ã™ã‚‹ã‚µãƒ¼ãƒï¼ãƒã‚·ãƒ³ã‚’æŒ‡ã—ã¾ã™ã€‚Clientã¨ã”ã£ã¡ã‚ƒã«ãªã‚Šã‚„ã™ã„ã®ã§æ³¨æ„ã€‚\n  Clientã¨Nodeã®é–¢ä¿‚ã‚’å›³ã§è¡¨ã™ã¨ä¸Šã®ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã«ãªã‚Šã¾ã™ã€‚\nAttributes Attributesã¯ã€Nodeã®Kernelã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚„ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¨®é¡ãƒ»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€IPã‚¢ãƒ‰ãƒ¬ã‚¹ãªã©ã®æ§˜ã€…ãªæƒ…å ±ãŒè¨˜è¿°ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®æƒ…å ±ã¯Cookbookã‹ã‚‰å‚ç…§ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã€Cookbook, Role, Environmentã§å€¤ã‚’è¿½åŠ ãƒ»ä¸Šæ›¸ãã™ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã¾ã™ã€‚\nCookbook Cookbookã¯ã€Nodeã«ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŸã‚ã®ãƒ¬ã‚·ãƒ”ã§Chefã®ãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½ã§ã™ã­ã€‚å®Ÿéš›ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã ã‘ã§ã¯ãªãã¦ã‚µãƒ¼ãƒã®å„ç¨®è¨­å®šã‚’å¤‰æ›´ã—ãŸã‚Šãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚„ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã—ãŸã‚Šã¨ä½•ã§ã‚‚å‡ºæ¥ã¾ã™ã€‚ERBã§è¨˜è¿°ã™ã‚‹Templatesã‚’ä½¿ã£ã¦å‹•çš„ã«*.confã‚’ç”Ÿæˆã™ã‚‹äº‹ã‚‚å¯èƒ½ã§ã™ã€‚Cookbookã¯Nodeã«ç›´æ¥å‰²ã‚Šå½“ã¦ã‚‹ã‹ã€ã‚‚ã—ãã¯RoleçµŒç”±ã§ä½¿ç”¨ã—ã¾ã™ã€‚\nRole Roleã¯ã€Cookbookã‚’è¤‡æ•°æŸã­ã‚‹ã“ã¨ãŒã§ãã€åŒã˜æ§‹æˆã®Nodeã‚’ãŸãã•ã‚“ä½œã‚‹ã¨ãã«ä½¿ç”¨ã—ã¾ã™ã€‚ä¾‹ãˆã°æ˜¨ä»Šã®Webã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã¨ proxy, app, db ã¨ã„ã†é¢¨ã«å®šç¾©ã‚’ã™ã‚‹ã¨ã‚¤ã‚¤æ„Ÿã˜ã§ã™ã€‚Roleã¯Nodeã«å¯¾ã—ã¦è¤‡æ•°å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\nEnvironment Environmentã¯ã€ç’°å¢ƒåã‚’å®šç¾©ã—ã¦Nodeã«å‰²ã‚Šå½“ã¦ã‚‹äº‹ãŒã§ãã¾ã™ã€‚Railsã®Environmentã¨åŒã˜æ¦‚å¿µã§ã™ã­ã€‚ç’°å¢ƒæ¯ã«Attributesã®å€¤ã‚’å¤‰ãˆãŸã‚Šã€ä½¿ç”¨ã™ã‚‹Cookbookã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šãƒ»å›ºå®šã—ãŸã‚Šå‡ºæ¥ã¾ã™ã€‚æœ¬ç•ªç’°å¢ƒã¨ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã§ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒé•ã†ã ã‘ãªã‚“ã¦æ§‹æˆã¯ã‚ˆãã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ãã†ã„ã†æ™‚ã«ã“ã®EnvironmentãŒæ´»èºã—ã¾ã™ã€‚\nEnvironmentã¨Roleã‚’åˆ¶ã™ã‚‹è€…ã¯Chefã‚’åˆ¶ã™ï¼ˆå¤§ã’ã•ï¼‰\n ã¨ã€é•·ããªã£ãŸã®ã§ãã®1ã¯ã“ã“ã§çµ‚äº†ã§ã™ã€‚ãã®2ã§ã¯å®Ÿéš›ã«Chef Serverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ç’°å¢ƒã‚’æ•´ãˆã‚‹ã¨ã“ã‚ã¾ã§æ›¸ã“ã†ã¨æ€ã„ã¾ã™ã€‚å¤šåˆ†ä»Šé€±ä¸­ã«ã¯â€¦\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/11/25/express-pjax.html",
                "title": "Express + jQueryã§pjaxã‚’ä½¿ã†",
                "section": "post",
                "date" : "2011.11.25",
                "body": "å…ˆæ—¥ã€æš‡ã¤ã¶ã—ã« Express ã§å™‚ã® pjax ã‚’ä½¿ã£ã¦éŠã‚“ã§ã¿ã¾ã—ãŸã€‚pjax è‡ªä½“ã¯ jquery-pjax ã‚’ä½¿ã†äº‹ã§æ‰‹é–“ã‚’ã‹ã‘ãšã«å®Ÿç¾å‡ºæ¥ã¾ã™ã­ã€‚ã‚µãƒ¼ãƒå´ã‚‚HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã«X-PJAXãŒã‚ã‚‹ã‹ã©ã†ã‹åˆ¤å®šã—ã€ã‚ã£ãŸå ´åˆã¯layout: falseã¨ã™ã‚‹ã ã‘ãªã®ã§ã¨ã¦ã‚‚ç°¡å˜ã§ã™ã€‚\napp.js ã®ã‚³ãƒ¼ãƒ‰ã¯ã“ã‚“ãªæ„Ÿã˜ã«ã€‚\napp.get(\u0026#39;/\u0026#39;, function(req, res) { if (req.header[\u0026#39;X-PJAX\u0026#39;]) { res.render(\u0026#39;index\u0026#39;, { layout: false }); } else { res.render(\u0026#39;index\u0026#39;); } }); ã—ã‹ã—æ¯å›ifæ–‡ã‚’æ›¸ãã®ã‚‚é¢å€’ãªã®ã§ã€pjaxãªãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæ¥ãŸæ™‚ã ã‘layout: falseã«ãªã‚‹ã‚ˆã†ã«renderãƒ¡ã‚½ãƒƒãƒ‰ã‚’ãƒ©ãƒƒãƒ—ã—ãŸæ–°ã—ã„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½œæˆã—ã¾ã—ãŸã€‚npmã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‡ºæ¥ã¾ã™ã€‚\nnpm install express-pjax ä½¿ã„æ–¹ï¼š\nvar express = require(\u0026#39;express\u0026#39;); var pjax = require(\u0026#39;express-pjax\u0026#39;); var app = express.createServer(); app.configure(function() { app.use(pjax()); }); app.get(\u0026#39;/\u0026#39;, function(req, res) { res.renderPjax(\u0026#39;index\u0026#39;, { locals: { hello: \u0026#34;Hello World!\u0026#34; } }); }); æœ¬å½“ã¯renderè‡ªä½“ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€Expressã®ã‚½ãƒ¼ã‚¹ã‚’è¦‹ãŸé™ã‚Šã§ã¯ã¡ã‚‡ã£ã¨é›£ã—ãã†ã ã£ãŸã®ã§æ–°ãŸã«renderPjaxã¨ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½œã‚Šã¾ã—ãŸã€‚ãã®ã†ã¡ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã«ã‚‚å¯¾å¿œã—ãŸã„ã§ã™ã­ã€‚\n dakatsuka/express-pjax â€“ GitHub  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/10/20/simplecov.html",
                "title": "Ruby 1.9.2 + Rails3ã§ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å–ã‚‹ã«ã¯SimpleCovãŒè‰¯ã•ãã†",
                "section": "post",
                "date" : "2011.10.20",
                "body": "Ruby (Rails) ã§ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã¨ã„ãˆã° Rcov ã§ã™ã­ã€‚\nã—ã‹ã— Rcov ã¯ Ruby 1.9.x ã«éå¯¾å¿œãªã®ã§ Ruby 1.9.2 + Rails3 ãªç’°å¢ƒã§é–‹ç™ºã‚’ã—ã¦ã„ã‚‹æ–¹ã¯ SimpleCov ã‚’ä½¿ã†ã¨å¹¸ã›ã«ãªã‚Œã¾ã™ã€‚åå‰ã«Simpleã¨ä»˜ã„ã¦ã„ã¾ã™ãŒé«˜æ©Ÿèƒ½ã§è¦‹ãŸç›®ã‚‚ç¶ºéº—ã§ã™ã€‚ã¾ãŸ simplecov-rcov ã‚’ä½µç”¨ã™ã‚Œã° Rcov ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§å‡ºåŠ›ã™ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã‚‹ã®ã§ã€Jenkins ãªã©ã®CIãƒ„ãƒ¼ãƒ«ã¨ã®é€£æºã‚‚é›£ã—ããªã„ã¯ãšã§ã™ã€‚\n colszowka/simplecov â€“ GitHub fguillen/simplecov-rcov â€“ GitHub  ä½¿ã„æ–¹ Gemfileã«ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦bundle installã—ã¾ã™ã€‚\ngroup :test do gem \u0026#34;simplecov\u0026#34;, :require =\u0026gt; false end spec/spec_helper.rb ã®æœ€ä¸Šä½ã«ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’è¿½è¨˜ã—ã¾ã™ã€‚\nrequire \u0026#39;simplecov\u0026#39; SimpleCov.start \u0026#39;rails\u0026#39; æº–å‚™å®Œäº†ã€‚rake specã‚’å®Ÿè¡Œã™ã‚Œã° coverage ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­ã«çµæœãŒç”Ÿæˆã•ã‚Œã¦ã„ã¾ã™ã€‚\nãã†ã„ãˆã° ä»¥å‰ cover_me ã®ç´¹ä»‹è¨˜äº‹ã‚’æ›¸ã„ãŸäº‹ã‚’ä»Šæ›´æ€ã„å‡ºã—ã¾ã—ãŸã€‚ã“ã¡ã‚‰ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚å¼•ãç¶šãé–‹ç™ºãŒç¶šã‘ã‚‰ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/10/13/node-cap-upstart.html",
                "title": "Node.js ã‚¢ãƒ—ãƒªã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ Upstart ã§èµ·å‹•ã•ã›ã‚‹ Capistrano ãƒ¬ã‚·ãƒ”ã‚’æ›¸ã„ãŸ",
                "section": "post",
                "date" : "2011.10.13",
                "body": "Node.js ã‚¢ãƒ—ãƒªã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹å ´åˆã€Heroku ãªã©ã® PaaS ã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã™ã”ãç°¡å˜ãªã®ã§ã™ãŒã€ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆãŒ VPS ã‚„å°‚ç”¨ã‚µãƒ¼ãƒã®å ´åˆã€ä½•ã‹ã—ã‚‰ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã™ã‚‹äº‹ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚\nä»Šå›ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ„ãƒ¼ãƒ«ã« Capistrano ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã—ãŸã€‚ãŸã ã€Capistrano ã¯ãã®ã¾ã¾ã ã¨ Rails ç”¨ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€Node.js ç”¨ã«å°‘ã—ãƒ¬ã‚·ãƒ”ã‚’æ›¸ãæ›ãˆã¾ã™ã€‚ã¡ãªã¿ã«å½“åˆã®äºˆå®šã§ã¯èµ·å‹•ãƒ»ç›£è¦–ãƒ„ãƒ¼ãƒ«ã« Node.jsè£½ã® Forever ã‚’ä½¿ã†ã¯ãšã ã£ãŸã®ã§ã™ãŒã€v0.5ç³»ã§ã†ã¾ãå‹•ä½œã—ãªã‹ã£ãŸã®ã§æ€¥é½ Upstart ã§ä»£ç”¨ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚ä»–ã«ã‚‚ Upstart + God ã¨ã„ã†çµ„ã¿åˆã‚ã›ã‚‚è‰¯ã•ãã†ã§ã™ãŒã¾ã æœªæ¤œè¨¼ã€‚\n# This program is free software. It comes without any warranty, to # the extent permitted by applicable law. You can redistribute it # and/or modify it under the terms of the Do What The Fuck You Want # To Public License, Version 2, as published by Sam Hocevar. See # http://sam.zoy.org/wtfpl/COPYING for more details. set :application, \u0026#34;nodeapp\u0026#34; set :scm, :git set :repository, \u0026#34;git://github.com:hogehoge/foobar.git\u0026#34; set :branch, \u0026#34;master\u0026#34; set :deploy_via, :remote_cache set :deploy_to, \u0026#34;/home/nodeapp/#{application}\u0026#34; set :node_path, \u0026#34;/opt/node-current/bin\u0026#34; set :node_script, \u0026#34;app.js\u0026#34; set :user, \u0026#34;nodeapp\u0026#34; set :use_sudo, true set :default_run_options, :pty =\u0026gt; true role :app, \u0026#34;xxx.xxx.xxx.xxx\u0026#34; set :shared_children, %w(log node_modules) namespace :deploy do task :default do update start end task :cold do update start end task :setup, :expect =\u0026gt; { :no_release =\u0026gt; true } do dirs = [deploy_to, releases_path, shared_path] dirs += shared_children.map { |d| File.join(shared_path, d) } run \u0026#34;mkdir -p #{dirs.join(\u0026#39; \u0026#39;)}\u0026#34; run \u0026#34;chmod g+w #{dirs.join(\u0026#39; \u0026#39;)}\u0026#34; if fetch(:group_writable, true) end task :finalize_update, :except =\u0026gt; { :no_release =\u0026gt; true } do run \u0026#34;chmod -R g+w #{latest_release}\u0026#34; if fetch(:group_writable, true) run \u0026lt;\u0026lt;-CMD  rm -rf #{latest_release}/log #{latest_release}/node_modules \u0026amp;\u0026amp; ln -s #{shared_path}/log #{latest_release}/log \u0026amp;\u0026amp; ln -s #{shared_path}/node_modules #{latest_release}/node_modules CMD end task :start, :roles =\u0026gt; :app do run \u0026#34;#{sudo}restart #{application}|| #{sudo}start #{application}\u0026#34; end task :stop, :roles =\u0026gt; :app do run \u0026#34;#{sudo}stop #{application}\u0026#34; end task :restart, :roles =\u0026gt; :app do start end task :npm, :roles =\u0026gt; :app do run \u0026lt;\u0026lt;-CMD  export PATH=#{node_path}:$PATH \u0026amp;\u0026amp; cd #{latest_release} \u0026amp;\u0026amp; npm install CMD end task :write_upstart_script, :roles =\u0026gt; :app do upstart_script = \u0026lt;\u0026lt;-UPSTART_SCRIPT description \u0026#34;#{application}upstart script\u0026#34; start on (local-filesystem and net-device-up) stop on shutdown respawn respawn limit 5 60 script chdir #{current_path} exec sudo -u #{user} NODE_ENV=\u0026#34;production\u0026#34; #{node_path}/node #{node_script} \u0026gt;\u0026gt; log/production.log 2\u0026gt;\u0026amp;1 end script UPSTART_SCRIPT put upstart_script \u0026#34;/tmp/#{application}.conf\u0026#34; run \u0026#34;#{sudo}mv /tmp/#{application}.conf /etc/init\u0026#34; end end after \u0026#39;deploy:setup\u0026#39;, \u0026#39;deploy:write_upstart_script\u0026#39; after \u0026#39;deploy:finalize_update\u0026#39;, \u0026#39;deploy:npm\u0026#39; ä½¿ã„æ–¹ set :node_pathã§ Node.js ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã€set :node_scriptã§èµ·å‹•ã—ãŸã„JSãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã‚ã¨ã®é …ç›®ã¯é€šå¸¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¨å¤‰ã‚ã‚‰ãªã„ã¨æ€ã„ã¾ã™ï¼ˆä¸Šã®ãƒ¬ã‚·ãƒ”ã¯Gitå‰æã§æ›¸ã„ã¦ã„ã¾ã™ãŒï¼‰\nãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã«å¿…è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚„ Upstart ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã™ã‚‹ã«ã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚\ncap deploy:setup ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹ã«ã¯ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªã« package.json ã‚’ç½®ã„ã¦ãŠã‘ã°è‡ªå‹•çš„ã«npm installãŒå‹•ã„ã¦ node_modules ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚\ncap deploy:cold ä»¥ä¸Šã§ã™ã€‚ãã‚Œã§ã¯ã€è‰¯ã„ Node.js ç”Ÿæ´»ã‚’ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/10/06/node-fakeweb.html",
                "title": "Node.jsã§ä½¿ãˆã‚‹HTTPå½è£…ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« node-fakeweb",
                "section": "post",
                "date" : "2011.10.06",
                "body": "ä¸»ã«å¤–éƒ¨ã®APIãŒçµ¡ã‚“ã§ãã‚‹ã‚¢ãƒ—ãƒªã®ãƒ†ã‚¹ãƒˆã«ä½¿ãˆã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã™ã€‚Node.jsã®æ¨™æº–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã‚ã‚‹httpã§ã¯ãªãã€requestã¨ã„ã†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«çµŒç”±ã®HTTPã‚¢ã‚¯ã‚»ã‚¹ã‚’ä¹—ã£å–ã£ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å½è£…ã—ã¾ã™ã€‚\n ctide/fakeweb â€“ GitHub  npmã§å…¥ã‚Œã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚\nnpm install request node-fakeweb ä½¿ã„æ–¹ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\nvar request = require(\u0026#39;request\u0026#39;); var fakeweb = require(\u0026#39;node-fakeweb\u0026#39;); fakeweb.allowNetConnect = false; fakeweb.registerUri({ uri: \u0026#34;http://www.google.co.jp:80/\u0026#34;, statusCode: 200, body: \u0026#34;Hello World!\u0026#34; }); request.get({uri: \u0026#34;http://www.google.co.jp:80/\u0026#34;}, function(err, response, body) { console.log(\u0026#34;StatusCode:\u0026#34; + response.statusCode); console.log(\u0026#34;Body:\u0026#34; + body); }); å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨\n$ node test.js StatusCode:200 Body:Hello World! ã¡ã‚ƒã‚“ã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒå½è£…ã•ã‚Œã¦ã„ã¾ã™ã­ã€‚ç§ã¯Vowsã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ã£ã¦ã„ã¾ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/09/30/nested-has-one.html",
                "title": "has_oneé–¢é€£ã§accepts_nested_attributes_for / fields_forã‚’ä½¿ã†",
                "section": "post",
                "date" : "2011.09.30",
                "body": "å…ˆæ—¥ã€has_oneé–¢é€£ã§accepts_nested_attributesã‚’ä½¿ã£ã¦ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½œã‚ã†ã¨ã—ãŸã‚‰ã€ãƒã‚¹ãƒˆå…ˆã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç”»é¢ã«å‡ºã¦ã“ãªãã¦å°ä¸€æ™‚é–“ãƒãƒã‚Šã¾ã—ãŸã€‚ãã†ã„ãˆã°ä»¥å‰ã‚‚åŒã˜äº‹ã§æ‚©ã‚“ã ã‚ˆã†ãªæ°—ãŒã—ãŸã®ã§ãƒ–ãƒ­ã‚°ã«æ®‹ã—ã¦ãŠãã¾ã™ã€‚\nUserãƒ¢ãƒ‡ãƒ«ã¨Profileãƒ¢ãƒ‡ãƒ«ãŒå­˜åœ¨ã—ã€1å¯¾1ã®é–¢é€£ã§çµã°ã‚Œã¦ã„ã‚‹ã‚ˆãã‚ã‚‹æ§‹æˆã‚’ä¾‹ã«ã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã‚’è¡Œã†ãƒ•ã‚©ãƒ¼ãƒ ã§åŒæ™‚ã«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚‚ç™»éŒ²å‡ºæ¥ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nUserãƒ¢ãƒ‡ãƒ«\nclass User \u0026lt; ActiveRecord::Base has_one :profile accepts_nested_attributes_for :profile end Profileãƒ¢ãƒ‡ãƒ«\nclass Profile \u0026lt; ActiveRecord::Base belongs_to :profile end _form.html.hamlãƒ“ãƒ¥ãƒ¼\n= form_for @user do |f| = f.fields_for :profile, @user.profile || Profile.new do |p| .field = p.label :nickname = p.text_field :nickname ä¸Šã®ã‚³ãƒ¼ãƒ‰ã®ã‚ˆã†ã« fields_for ã®ç¬¬äºŒå¼•æ•°ã§@user.profileãŒå­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã€å­˜åœ¨ã—ãªã„å ´åˆã¯Profileã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ–°è¦ã«ä½œæˆã—ã¾ã™ã€‚ã“ã†ã™ã‚‹ã“ã¨ã§ new, edit ä¸¡æ–¹ã«å¯¾å¿œã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/09/26/vows-setup-teardown.html",
                "title": "Vowsã§å‰å‡¦ç†ãƒ»å¾Œå‡¦ç†ã‚’è¡Œã†ã«ã¯",
                "section": "post",
                "date" : "2011.09.26",
                "body": "Vowsã®å ´åˆã€å‰å‡¦ç†ã¯topicå†…ã§è¡Œã„ã€å¾Œå‡¦ç†ã¯teardownã‚’ä½¿ç”¨ã—ã¾ã™ã€‚RSpecã® after(:all) ã®å‹•ä½œã«è¿‘ã„æ„Ÿã˜ã§ã™ã€‚\nvows .describe(\u0026#34;Hoge\u0026#34;) .addBatch \u0026#39;a instance\u0026#39;: # å‰å‡¦ç†  topic: -\u0026gt; \u0026#39;should hogehoge\u0026#39;: (topic) -\u0026gt; assert.ok topic.hogehoge # å¾Œå‡¦ç†  teardown: (topic) -\u0026gt; ã¾ãŸã€åˆ¥ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§addBatchã‚’åˆ©ç”¨ã™ã‚‹äº‹ã‚‚å‡ºæ¥ãã†ã§ã™ã€‚addBatchã¯é †ã«å®Ÿè¡Œã•ã‚Œã‚‹ã®ã§ã€å‰å‡¦ç†ãƒ»å¾Œå‡¦ç†ã¨ã„ã†ã‚ˆã‚Šã¯ã€ä¸€ç•ªæœ€åˆãƒ»æœ€å¾Œã«å®Ÿæ–½ã—ãŸã„ãƒ†ã‚¹ãƒˆãªã©ãŒã‚ã‚‹å ´åˆã«æœ‰åŠ¹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nsuite = vows.describe(\u0026#34;Hoge\u0026#34;) suite.addBatch \u0026#39;first test\u0026#39;: topic: -\u0026gt; suite.addBatch \u0026#39;second test\u0026#39;: topic: -\u0026gt; suite.addBatch \u0026#39;last test\u0026#39;: topic: -\u0026gt; suite.export module â€» addBatch ã¯ã€ãƒãƒƒãƒã”ã¨ã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ãŒç‹¬ç«‹ã—ã¦ã„ã¾ã™ã®ã§ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—ã«å½±éŸ¿ãŒå‡ºã‚‹å‡¦ç†ï¼ˆconsole.log ã‚’ãƒ¢ãƒƒã‚¯åŒ–ã™ã‚‹æ™‚ãªã©ï¼‰ã«æœ€é©ã‹ã‚‚ã€‚\nã©ã†ã‚‚ãã†ã§ã¯ç„¡ã„ã‚ˆã†ã§ã™â€¦\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/09/21/nodejs-tdd.html",
                "title": "Node.js + Vowsã§ã¯ã˜ã‚ã‚‹ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º",
                "section": "post",
                "date" : "2011.09.21",
                "body": "Node.jsã§ä½¿ãˆã‚‹TDD, BDDãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯ã„ãã¤ã‹ã‚ã‚‹ã®ã§ã™ãŒï¼ˆnodeunit, Jasmine, etcï¼‰ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆå‘¨ã‚Šã®ãƒ†ã‚¹ãƒˆã®ã—ã‚„ã™ã•ã¨CoffeeScriptãŒåˆ©ç”¨å‡ºæ¥ã‚‹ Vows ãŒéå¸¸ã«ç†±ã„æ„Ÿã˜ã§ã™ã€‚\nç‰¹ã«ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’CoffeeScriptã§ï¼ˆåˆ¥é€”ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã›ãšã«ï¼‰ãã®ã¾ã¾è¨˜è¿°å‡ºæ¥ã‚‹ã®ã¯ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã‚’è€ƒãˆã‚‹ã¨å¤§ããªãƒ¡ãƒªãƒƒãƒˆã ã¨æ€ã„ã¾ã™ã€‚\nVowsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« Vowsã¯Node Package Managerï¼ˆnpmï¼‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ã€‚vowsã‚³ãƒãƒ³ãƒ‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹ãŸã‚ã«ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã® node_modules ã®ä»–ã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ã‚‚å…¥ã‚Œã¦ãŠãã¾ã—ã‚‡ã†ã€‚\nnpm install vows npm install -g vows Vowsã‚’ä½¿ã£ãŸé–‹ç™ºæ‰‹é † ã‚µãƒ³ãƒ—ãƒ«ã¨ã—ã¦è‡ªåˆ†ã®ãƒ•ãƒ«ãƒãƒ¼ãƒ ã‚’è¿”ã™äº‹ã—ã‹å‡ºæ¥ãªã„Personã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã—ã¦ã¿ã¾ã™ã€‚ã¾ãšã¯Vowsã§ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã¾ã™ã€‚ä»Šå›ã¯å˜æ©Ÿèƒ½ãªã®ã§ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’ä¸€æ°—ã«æ›¸ãã¾ã—ãŸã€‚\nvows = require(\u0026#39;vows\u0026#39;) assert = require(\u0026#39;assert\u0026#39;) Person = require(\u0026#39;./person\u0026#39;) vows .describe(\u0026#39;Person\u0026#39;) .addBatch \u0026#39;a instance\u0026#39;: topic: -\u0026gt; new Person(\u0026#34;Nobita\u0026#34;, \u0026#34;Nobi\u0026#34;) \u0026#39;should return full name\u0026#39;: (topic) -\u0026gt; assert.equal topic.name(), \u0026#34;Nobita Nobi\u0026#34; .export module ã“ã®çŠ¶æ…‹ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ vows test-person.coffee --spec node.js:205 throw e; // process.nextTick error, or 'error' event on first tick ^Error: Cannot find module './person' ãã‚‚ãã‚‚ãƒ†ã‚¹ãƒˆã®å¯¾è±¡ã¨ãªã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„ã®ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã­ã€‚\næ¬¡ã« person.coffee ã‚’ä½œæˆã—ã¾ã™ã€‚ã²ã¨ã¾ãš Person ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚\nclass Person module.exports = Person å†åº¦ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ vows test-person.coffee --spec â™¢ Person a instance âœ— should return full name TypeError: Object \u0026lt;Person\u0026gt; has no method 'name' ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã—ãŸã€‚nameãƒ¡ã‚½ãƒƒãƒ‰ãŒç„¡ã„ã¨æ€’ã£ã¦ã„ã¾ã™ã®ã§ä½œã‚Šã¾ã—ã‚‡ã†ã€‚\nclass Person name: -\u0026gt; module.exports = Person nameãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ãŸã‚‰å†åº¦ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚\n$ vows test-person.coffee --spec â™¢ Person a instance âœ— should return full name Â» expected 'Nobita Nobi', got undefined (==) // vows.js:93 âœ— Broken Â» 1 broken (0.004s) ã‚ˆã†ã‚„ããƒ†ã‚¹ãƒˆãŒå‹•ä½œã—ã¾ã—ãŸã€‚ãŒã€nameãƒ¡ã‚½ãƒƒãƒ‰ã«ã¯ä½•ã‚‚å®Ÿè£…ã—ã¦ã„ãªã„ã®ã§å‹¿è«–ãƒ†ã‚¹ãƒˆã¯é€šã‚Šã¾ã›ã‚“ã€‚å¾Œã¯ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã¾ã§ã›ã£ã›ã¨ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\nã›ã£ã›ã¨æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰ã€‚\nclass Person constructor: (firstName, lastName) -\u0026gt; @firstName = firstName @lastName = lastName name: -\u0026gt; \u0026#34;#{@firstName}#{@lastName}\u0026#34; module.exports = Person ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ vows test-person.coffee --spec â™¢ Person a instance âœ“ should return full name âœ“ OK Â» 1 honored (0.002s) ç„¡äº‹ã«ã‚°ãƒªãƒ¼ãƒ³ã«ãªã‚Šã¾ã—ãŸï¼\nã¨ã“ã‚ã§ã€ã“ã‚“ãªã—ã‚‡ã¼ã„ã‚³ãƒ¼ãƒ‰ã§ã‚‚ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®ä½™åœ°ãŒæ®‹ã•ã‚Œã¦ã„ã¾ã™ã€‚CoffeeScriptã¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å¼•æ•°ã‚’ãã®ã¾ã¾ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«å‰²ã‚Šå½“ã¦ã‚‹æ§‹æ–‡ãŒã‚ã‚‹ã®ã§ã€ãã‚Œã«æ›¸ãæ›ãˆã¦ã¿ã¾ã™ã€‚\nclass Person + constructor: (@firstName, @lastName) -\u0026gt; - @firstName = firstName - @lastName = lastName  name: -\u0026gt; \u0026#34;#{@firstName} #{@lastName}\u0026#34; module.exports = Person ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã€‚\n$ vows test-person.coffee --spec â™¢ Person a instance âœ“ should return full name âœ“ OK Â» 1 honored (0.002s) ã†ã‚€ã€‚\nVowsã§ãƒ¢ãƒƒã‚¯ãƒ»ã‚¹ã‚¿ãƒ–ã‚’ä½¿ã†ã«ã¯ Vowsã§ãƒ¢ãƒƒã‚¯ãƒ»ã‚¹ã‚¿ãƒ–ã‚’ä½¿ã„ãŸã„å ´åˆã¯ Sinon.JS ã‚’åˆ©ç”¨ã—ã¾ã—ã‚‡ã†ã€‚Sinon.JS ã¯ Node Package Managerï¼ˆnpmï¼‰ã§å…¥ã‚Œã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ã€‚\nnpm install sinon ä¸‹è¨˜ã¯ãƒ¢ãƒƒã‚¯ã‚’ä½¿ã£ãŸä¾‹ã€‚\nvows = require(\u0026#39;vows\u0026#39;) sinon = require(\u0026#39;sinon\u0026#39;) assert = require(\u0026#39;assert\u0026#39;) class Twitter tweet: (message) -\u0026gt; class Person constructor: (@twitter) -\u0026gt; tweet: (message) -\u0026gt; @twitter.tweet(message) vows .describe(\u0026#39;Person\u0026#39;) .addBatch \u0026#39;when tweet message\u0026#39;: topic: -\u0026gt; twitter = new Twitter() twitterMock = sinon.mock(twitter) twitterMock.expects(\u0026#34;tweet\u0026#34;).once().withArgs(\u0026#34;hello\u0026#34;) person = new Person(twitter) person.tweet(\u0026#34;hello\u0026#34;) return twitterMock \u0026#39;should call twitter.tweet\u0026#39;: (topic) -\u0026gt; topic.verify() .export module Vowsã§éåŒæœŸã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ã«ã¯ Vowsã§éåŒæœŸã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’è¡Œã†å ´åˆã€this.callbackã¨promiseã®2ç¨®é¡ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ç§ã¯å¾Œè€…ã®ãƒ—ãƒ­ãƒŸã‚¹ã®ã»ã†ã‚’ã‚ˆãåˆ©ç”¨ã—ã¦ã„ã¾ã™ã®ã§ã€ã“ã“ã§ã¯ãƒ—ãƒ­ãƒŸã‚¹ã‚’ä½¿ã£ãŸã‚µãƒ³ãƒ—ãƒ«ã‚’æ²è¼‰ã—ã¦ãŠãã¾ã™ã€‚\nvows = require(\u0026#39;vows\u0026#39;) assert = require(\u0026#39;assert\u0026#39;) http = require(\u0026#39;http\u0026#39;) vows .describe(\u0026#39;http\u0026#39;) .addBatch \u0026#39;GET google.co.jp\u0026#39;: topic: -\u0026gt; promise = new (require(\u0026#39;events\u0026#39;).EventEmitter)() options = host: \u0026#39;www.google.co.jp\u0026#39;, port: 80, path: \u0026#39;/\u0026#39;, method: \u0026#39;GET\u0026#39;, headers: \u0026#39;Content-length\u0026#39;: 0 req = http.request options, (res) -\u0026gt; res.setEncoding(\u0026#39;utf8\u0026#39;) res.on \u0026#39;data\u0026#39;, (chunk) -\u0026gt; promise.emit \u0026#39;success\u0026#39;, chunk req.end() return promise \u0026#39;should be received\u0026#39;: (topic) -\u0026gt; assert.ok topic .export module ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚Œã°åˆ†ã‹ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ãƒ—ãƒ­ãƒŸã‚¹ã¨ã¯ãƒˆãƒ”ãƒƒã‚¯ã®æˆ»ã‚Šå€¤ã‚’EventEmitterã«ã—ã¦ã€successã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã™ã‚‹ã¨å„ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã„ãä»•çµ„ã¿ã§ã™ã€‚ã†ã¾ãã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã—ãªã‹ã£ãŸå ´åˆã¯callback not firedã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã¦ãƒ†ã‚¹ãƒˆã«å¤±æ•—ã—ã¾ã™ã€‚\nï¼ˆéåŒæœŸå‘¨ã‚Šã®ãƒ†ã‚¹ãƒˆã¯ã¾ãŸåˆ¥ã®æ©Ÿä¼šã«â€¦ï¼‰\nã¾ã¨ã‚ é§†ã‘è¶³ã§Vowsã‚’ç´¹ä»‹ã—ã¦ã¿ã¾ã—ãŸãŒå¦‚ä½•ã§ã—ã‚‡ã†ã‹ï¼ŸNode.jsã§ã®ãƒ†ã‚¹ãƒˆã¯é¢å€’ãã•ã„ã¨ã„ã†å°è±¡ãŒå¼·ã„ã§ã™ãŒï¼ˆè‡ªåˆ†ã ã‘ã§ã™ã‹ã­â€¦ï¼‰JavaScriptã¯è‰²ã€…ãªæ›¸ãæ–¹ãŒå‡ºæ¥ã¦ã€æ²¹æ–­ã™ã‚‹ã¨ã‚³ãƒ¼ãƒ‰ãŒå¤§å¤‰ãªäº‹ã«ãªã£ãŸã‚Šã™ã‚‹ã®ã§æ˜¯éãƒ†ã‚¹ãƒˆã¯æ›¸ã„ã¦ã„ããŸã„ã§ã™ã­ã€‚\nVowsã¯CoffeeScriptã§æ›¸ã‘ã‚‹ã®ã§ã€ã„ã¡ã„ã¡ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã§hogehoge(function() { \u0026hellip; });ã¨ã‹æ›¸ã„ã¦ã‚‰ã‚Œãªã„äººã«ã‚‚ãŠå‹§ã‚ã§ã™ï¼\nå‚è€ƒã‚µã‚¤ãƒˆ  Vows Â« Asynchronous BDD for Node Sinon.JS â€“ Versatile standalone test spies, stubs and mocks for JavaScript Node.js ç”¨ã®ãƒ†ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ Vows Node.js ç”¨ã®ãƒ†ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ Vows ãã® 2 Node.js ç”¨ã®ãƒ†ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ Vows ãã® 3  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/09/01/upgrade-rails31.html",
                "title": "Rails v3.0.xã‹ã‚‰v3.1.0ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ãŸæ™‚ã®ãƒ¡ãƒ¢",
                "section": "post",
                "date" : "2011.09.01",
                "body": "Rails v3.1.0ãŒå‡ºãŸã®ã§v3.0.10ã§é–‹ç™ºã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å¯¾å¿œã‚’è¡Œã„ã¾ã—ãŸã€‚ãã®æ™‚ã®ãƒ¡ãƒ¢ã‚’æ®‹ã—ã¦ãŠãã¾ã™ã€‚\nã¨ã„ã£ã¦ã‚‚ã€ã“ã®Railsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯JSONã‚’è¿”ã™ã ã‘ã®å˜ç´”ãªREST APIã§ã—ãŸã®ã§ä¿®æ­£ç®‡æ‰€ã¯å°‘ãªã‹ã£ãŸã§ã™ã€‚ã‚ã¾ã‚Šå‚è€ƒã«ãªã‚‰ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã€‚ã€‚\nGemfileã‚’é–‹ãã€Rails, Rake, mysql2ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ã¾ã™ã€‚\n-gem \u0026#39;rails\u0026#39;, \u0026#39;3.0.10\u0026#39; -gem \u0026#39;rake\u0026#39;, \u0026#39;0.8.7\u0026#39; -gem \u0026#39;mysql2\u0026#39;, \u0026#39;0.2.11\u0026#39; +gem \u0026#39;rails\u0026#39;, \u0026#39;3.1.0\u0026#39; +gem \u0026#39;rake\u0026#39;, \u0026#39;0.9.2\u0026#39; +gem \u0026#39;mysql2\u0026#39;, \u0026#39;0.3.7\u0026#39; ãŠãªã˜ã¿Bundlerã§gemã‚’æ›´æ–°ã—ã¾ã™ã€‚\n$ bundle update å•é¡Œãªãå‹•ä½œã™ã‚‹ã‹ãƒ†ã‚¹ãƒˆã‚’èµ°ã‚‰ã›ã¦ã¿ã¾ã™ã€‚\n$ rake spec rake aborted! undefined method `debug_rjs=' for ActionView::Base:Class Tasks: TOP =\u0026gt; spec =\u0026gt; db:test:prepare =\u0026gt; db:abort_if_pending_migrations =\u0026gt; environment (See full trace by running task with --trace) â€¦â€¦ã©ã†ã‚„ã‚‰debug_rjs ã¨ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰ãŒç„¡ããªã£ãŸã‚ˆã†ã§ã™ã€‚config/environments/development.rbã‹ã‚‰è©²å½“ã®è¡Œã‚’å‰Šé™¤ã—ã¾ã™ã€‚\n- config.action_view.debug_rjs = true ä»¥ä¸Šã‚’ä¿®æ­£ã™ã‚‹ã ã‘ã§å¯¾å¿œã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸã€‚è‰²ã€…ã¨æ›¸ãç›´ã—ãŒç™ºç”Ÿã—ãªãã¦ä¸€å®‰å¿ƒã§ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/08/14/consistent-hashing-nodejs.html",
                "title": "Consistent Hashingã‚’Node.jsã§å®Ÿè£…ã—ã¦ã¿ãŸ",
                "section": "post",
                "date" : "2011.08.14",
                "body": "Node.js ã‹ã‚‰ Key Value Store ãªã©ã‚’åˆ©ç”¨ã™ã‚‹éš›ã«ã€ã‚­ãƒ¼ã‚’è¤‡æ•°ã®ãƒãƒ¼ãƒ‰ã«åˆ†æ•£ã•ã›ã‚‹æ±ç”¨çš„ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã£ãŸã‚‰ä¾¿åˆ©ãªã®ã§ã¯ã¨æ€ã„å®Ÿè£…ã—ã¦ã¿ã¾ã—ãŸã€‚\nã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯GitHubã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯MIT Licenseã¨ã—ã¾ã™ã€‚\ngit clone git://github.com/dakatsuka/node-consistent-hashing.git ã¾ãŸã€npmã§ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‡ºæ¥ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nnpm install consistent-hashing ä½¿ã„æ–¹ åŸºæœ¬çš„ãªä½¿ã„æ–¹ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚\nvar ConsistentHashing = require(\u0026#39;consistent-hashing\u0026#39;); var cons = new ConsistentHashing([\u0026#34;node1\u0026#34;, \u0026#34;node2\u0026#34;, \u0026#34;node3\u0026#34;]); console.log(cons.getNode(\u0026#34;key1\u0026#34;)); // =\u0026gt; node3 console.log(cons.getNode(\u0026#34;key2\u0026#34;)); // =\u0026gt; node2 console.log(cons.getNode(\u0026#34;key3\u0026#34;)); // =\u0026gt; node1 console.log(cons.getNode(\u0026#34;key4\u0026#34;)); // =\u0026gt; node2 è©¦ã—ã«A..Zã¾ã§ã®ã‚­ãƒ¼ã‚’åˆ†æ•£ã•ã›ã¦ã¿ã¾ã™ã€‚\nvar nodes = {}; var chars = [ \u0026#39;A\u0026#39;, \u0026#39;B\u0026#39;, \u0026#39;C\u0026#39;, \u0026#39;D\u0026#39;, \u0026#39;E\u0026#39;, \u0026#39;F\u0026#39;, \u0026#39;G\u0026#39;, \u0026#39;H\u0026#39;, \u0026#39;I\u0026#39;, \u0026#39;J\u0026#39;, \u0026#39;K\u0026#39;, \u0026#39;L\u0026#39;, \u0026#39;M\u0026#39;, \u0026#39;N\u0026#39;, \u0026#39;O\u0026#39;, \u0026#39;P\u0026#39;, \u0026#39;Q\u0026#39;, \u0026#39;R\u0026#39;, \u0026#39;S\u0026#39;, \u0026#39;T\u0026#39;, \u0026#39;U\u0026#39;, \u0026#39;V\u0026#39;, \u0026#39;W\u0026#39;, \u0026#39;X\u0026#39;, \u0026#39;Y\u0026#39;, \u0026#39;Z\u0026#39; ]; chars.forEach(function(c) { var node = cons.getNode(c); if (nodes[node]) { nodes[node].push(c); } else { nodes[node] = []; nodes[node].push(c); } }); console.log(nodes); // { node3: [ \u0026#39;A\u0026#39;, \u0026#39;F\u0026#39;, \u0026#39;H\u0026#39;, \u0026#39;J\u0026#39;, \u0026#39;N\u0026#39;, \u0026#39;S\u0026#39;, \u0026#39;U\u0026#39;, \u0026#39;W\u0026#39;, \u0026#39;X\u0026#39; ], // node1: [ \u0026#39;B\u0026#39;, \u0026#39;C\u0026#39;, \u0026#39;E\u0026#39;, \u0026#39;G\u0026#39;, \u0026#39;L\u0026#39;, \u0026#39;M\u0026#39;, \u0026#39;Q\u0026#39;, \u0026#39;R\u0026#39;, \u0026#39;V\u0026#39;, \u0026#39;Y\u0026#39;, \u0026#39;Z\u0026#39; ], // node2: [ \u0026#39;D\u0026#39;, \u0026#39;I\u0026#39;, \u0026#39;K\u0026#39;, \u0026#39;O\u0026#39;, \u0026#39;P\u0026#39;, \u0026#39;T\u0026#39; ] } ãƒãƒ¼ãƒ‰ã®è¿½åŠ ã¨å‰Šé™¤ãŒå‡ºæ¥ã¾ã™ã€‚\ncons.addNode(\u0026#34;node4\u0026#34;); cons.removeNode(\u0026#34;node1\u0026#34;); ã¾ãŸã€new ã™ã‚‹ã¨ãã«ä»®æƒ³ãƒãƒ¼ãƒ‰æ•°ã‚’å¤‰æ›´ã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯160ï¼‰ã€‚\nvar cons = new ConsistentHashing([\u0026#34;node1\u0026#34;, \u0026#34;node2\u0026#34;, \u0026#34;node3\u0026#34;], { replicas: 200 }); ãƒãƒƒã‚·ãƒ¥å€¤ã‚’å‡ºã™ã¨ãã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚‚å¤‰æ›´ã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯md5ï¼‰ã€‚\n// md5, sha1, sha256, sha512ã‚’é¸æŠå‡ºæ¥ã¾ã™ã€‚ var cons = new ConsistentHashing([\u0026#34;node1\u0026#34;, \u0026#34;node2\u0026#34;, \u0026#34;node3\u0026#34;], { algorithm: \u0026#39;sha1\u0026#39; }); "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/08/01/firefox-websocket.html",
                "title": "Firefox Nightly, Aurora ã§ WebSocket ã‚’ä½¿ã†ã«ã¯",
                "section": "post",
                "date" : "2011.08.01",
                "body": "Google Chromeã®ãƒãƒªã§ new WebSocket() ã¨ã—ã¦ã‚‚å…¨ãå‹•ãæ°—é…ãŒç„¡ãã€ã‚°ã‚°ã£ã¦ã‚‚ã‚ã¾ã‚Šæƒ…å ±ãŒå‡ºã¦ã“ãªã‹ã£ãŸã®ã§ã€åœ°å‘³ã«æ‰‹ã“ãšã‚Šã¾ã—ãŸã€‚\nFirefoxã®Nightlyç‰ˆã€Auroraç‰ˆã§WebSocketã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’ä»˜ã‘ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚\nvar ws = new MozWebSocket(\u0026#34;ws://xxxxx\u0026#34;); ã“ã‚Œã§å‹•ãã¾ã—ãŸã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/07/18/connect-middleware.html",
                "title": "connect middlewareã§expressã‚’æ‹¡å¼µã—ã‚ˆã†",
                "section": "post",
                "date" : "2011.07.18",
                "body": "connect (express) ã¯ Ruby ã® Rack ã¨åŒã˜ã‚ˆã†ã«ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä½¿ã†ã“ã¨ã§ç°¡å˜ã«æ‹¡å¼µã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ã€‚ã“ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®ä½¿ã„æ–¹ãƒ»ä½œã‚Šæ–¹ã‚’çŸ¥ã£ã¦ã„ã‚‹ã ã‘ã§ express ã§ã®é–‹ç™ºãŒç›¸å½“æ¥½ã«ãªã‚Šã¾ã™ã®ã§è¦šãˆã¦ãŠã„ã¦æã¯ç„¡ã„ã§ã—ã‚‡ã†ã€‚\nãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä½¿ã† ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ express ã«çµ„ã¿è¾¼ã‚€ã«ã¯ use ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚ã¤ã¾ã‚Šã€æ™®æ®µã‚ˆãä½¿ã† bodyParser ã‚„ cookieParser, logger ãªã©ã‚‚å®Ÿã¯ connect ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§ã™ã€‚\nvar express = require(\u0026#39;express\u0026#39;) var app = express.createServer(); app.configure(function() { app.use(app.logger()); app.use(app.bodyParser()); app.use(app.cookieParser()); }); å…¬å¼ã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¨ãã®ä½¿ã„æ–¹ã¯ Connect â€“ middleware framework for nodejs ã‚’ã”è¦§ãã ã•ã„ã€‚ã¾ãŸã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£è£½ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚‚æœ€è¿‘å……å®Ÿã—ã¦ãã¾ã—ãŸã€‚ãƒã‚§ãƒƒã‚¯ã—ã¦ãŠãã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚\nãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’è‡ªä½œã™ã‚‹ connectã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¯ç°¡å˜ã«è‡ªä½œã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚è©¦ã—ã«ã€ã‚¢ã‚¯ã‚»ã‚¹ãŒã‚ã‚‹ãŸã³ã«ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«HTTPã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ã‚’å‡ºåŠ›ã™ã‚‹ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä½œã£ã¦ã¿ã¾ã™ã€‚\nmiddleware.js ã«ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã¾ã™ã€‚\nvar requestHeader = function() { return function(req, res, next) { console.log(req.headers); next(); }; }; exports.requestHeader = requestHeader; åŒä¸€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« app.js ã‚’ä½œæˆã—ã€ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã¾ã™ã€‚\nvar express = require(\u0026#39;express\u0026#39;) , middleware = require(\u0026#39;./middleware\u0026#39;) , app = express.createServer(); app.configure(function() { app.use(middleware.requestHeader()); }); app.get(\u0026#39;/\u0026#39;, function(req, res) { res.send(\u0026#34;Hello World\u0026#34;); }); app.listen(3000); node app.js ã§ã‚µãƒ¼ãƒã‚’ç«‹ã¡ä¸Šã’ã€ http://localhost:3000/ ã«ãƒ–ãƒ©ã‚¦ã‚¶ã§å®Ÿéš›ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«UserAgentãªã©ã®æƒ…å ±ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚\nã¾ã¨ã‚ ä¸Šã§HTTPãƒ˜ãƒƒãƒ€ã‚’å‡ºåŠ›ã™ã‚‹å®Ÿç”¨æ€§çš†ç„¡ãªãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä½œæˆã—ã¾ã—ãŸãŒã€ã‚³ãƒ¼ãƒ‰ã¯éå¸¸ã«ã‚·ãƒ³ãƒ—ãƒ«ã§åˆ†ã‹ã‚Šã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚ã€req / res å¼•æ•°ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹äº‹ãŒã§ãã€é©å®œ req / res ã«å¯¾ã—æ”¹å¤‰ãƒ»è¿½åŠ ãªã©ã‚’è¡Œã„ã€next(); ã§æ¬¡ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã«å‡¦ç†ã‚’æ¸¡ã™ã€ ã“ã®å‹•ãã‚’æŠ‘ãˆã¦ãŠã‘ã°å¤§ä¸ˆå¤«ã§ã™ã€‚\nUserAgentã§å‡¦ç†ã‚’æŒ¯ã‚Šåˆ†ã‘ã‚„ãƒ¢ãƒã‚¤ãƒ«ç«¯æœ«ã®æ¤œå‡ºã€èªè¨¼å‡¦ç†ãªã©ã¯ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¨ã—ã¦å®Ÿè£…ã™ã‚‹äº‹ã§ã€ä»–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®ä½¿ã„å›ã—ã‚‚ã§ãã€ä¸”ã¤ã‚³ãƒ¼ãƒ‰ã®è¦‹é€šã—ã‚‚è‰¯ããªã‚‹ã®ã§ãŠã™ã™ã‚ã§ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/07/14/red5.html",
                "title": "ã•ãã‚‰ã®VPSï¼ˆUbuntu 10.04ï¼‰ã«Red5ã‚’å…¥ã‚ŒãŸã¨ãã®ãƒ¡ãƒ¢",
                "section": "post",
                "date" : "2011.07.14",
                "body": "ã¨ã‚ã‚‹äº‹æƒ…ã§ã•ãã‚‰ã®VPSã«Red5ï¼ˆã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã‚µãƒ¼ãƒï¼‰ã‚’å…¥ã‚ŒãŸã®ã§ã€ãã®æ™‚ã®ãƒ¡ãƒ¢ã‚’ãƒ–ãƒ­ã‚°ã«æ®‹ã—ã¦ãŠãã¾ã™ã€‚ãªãŠã€ã•ãã‚‰ã®VPSã§å‹•ã‹ã—ã¦ã„ã‚‹OSã¯Ubuntu 10.04ã§ã™ã€‚\nâ€» Red5ã¨ã¯RTMPã‚’ä½¿ã£ãŸã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã‚µãƒ¼ãƒã§ã™ãŒã€è©³ã—ã„èª¬æ˜ã¯å‰²æ„›ã—ã¾ã™ã€‚\nRed5ã¯Sun Javaã§å‹•ã‹ã—ãŸæ–¹ãŒè‰¯ã„ã‚‰ã—ã„ã®ã§ã€ã¾ãšsun-java6ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nsudo apt-get install python-software-properties sudo add-apt-repository 'deb http://archive.canonical.com/ lucid partner' sudo apt-get update sudo apt-get install sun-java6-jre sun-java6-jdk ant java-common java-package Subversionã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nsudo apt-get install subversion Red5ã®ã‚½ãƒ¼ã‚¹ã‚’Subversionã§ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ã¦ãã¾ã™ã€‚\ncd /usr/localbin # Red5ã‚’å…¥ã‚Œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šï¼ˆãŠå¥½ããªå ´æ‰€ã«ï¼‰ sudo svn co http://red5.googlecode.com/svn/java/server/trunk red5 Red5ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚\ncd ./red5 sudo ant prepare sudo ant dist Red5ã‚’èµ·å‹•ã€‚\ncd ./dist sudo nohup sh red5.sh \u0026amp; http://hostname:5080/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ Red5 ã®ç”»é¢ãŒå‡ºã¦ã‚Œã°èµ·å‹•æˆåŠŸã§ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/06/19/nodejs-redis-pubsub.html",
                "title": "Redis ã® Pub/Sub ã‚’ä½¿ã£ã¦ Node.js + WebSocket ã®ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆã‚’å®Ÿç¾ã™ã‚‹æ–¹æ³•",
                "section": "post",
                "date" : "2011.06.19",
                "body": "Node ã«ãŠã‘ã‚‹ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è€ƒå¯Ÿ(Scale ç·¨)ã¨ã„ã†ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚’èª­ã‚“ã§ã€Redisã¯Pub/Subå‹é€šä¿¡ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã¨ã„ã†äº‹ã‚’çŸ¥ã‚Šã¾ã—ãŸã€‚ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã§ã‚‚è¨€åŠã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ã€Pub/Subã‚’ä½¿ãˆã° Node.js + WebSocket ã‚µãƒ¼ãƒã‚’ã‚¹ã‚±ãƒ¼ãƒ«ã™ã‚‹éš›ã«ã€ä¸­ç¶™ã‚µãƒ¼ãƒã®å½¹å‰²ã‚’æœãŸã™äº‹ãŒå‡ºæ¥ã‚‹ã¯ãšã§ã™ã€‚\nãã‚“ãªè¨³ã§å®Ÿéš›ã« Node.js ã¨ Redis ã‚’ä½¿ã£ã¦ Pub/Sub ã®å®Ÿé¨“ã‚’è¡Œãªã£ã¦ã¿ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãŒåˆ¥ã€…ã®Node.jsã‚µãƒ¼ãƒã«æ¥ç¶šã—ã¦ã„ã¦ã‚‚WebSocketã‚’é€šã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚„ã‚Šå–ã‚Šã‚’å‡ºæ¥ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚\n  ä¸‹æº–å‚™ Ubuntuã®å ´åˆã¯ apt-get ã§1ç™ºã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ã€‚\n$ sudo apt-get install redis npmã§redisãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ npm install redis Node.js ã‹ã‚‰ Redis ã® Pub/Sub ã‚’ä½¿ã£ã¦ã¿ã‚‹ è©¦ã—ã«Pub/Subã¨ã¯ã©ã‚“ãªã‚‚ã®ã‹è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚Node.jsã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n$ node ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nvar sys = require(\u0026#39;sys\u0026#39;); var redis = require(\u0026#39;redis\u0026#39;); var subscriber = redis.createClient(6379, \u0026#39;localhost\u0026#39;); subscriber.subscribe(\u0026#39;hoge channel\u0026#39;); subscriber.on(\u0026#34;message\u0026#34;, function(channel, message) { sys.puts(channel + \u0026#34; :\u0026#34; + message); }); åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ redis-cli publish \u0026quot;hoge channel\u0026quot; \u0026quot;Hello World!\u0026quot; Node.js ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢ã« ã€ŒHello World!ã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚ã“ã‚ŒãŒPub/Subã®Subã«ã‚ãŸã‚Šã¾ã™ã€‚\nã§ã¯ã€ä»Šåº¦ã¯Node.jså´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚å…ˆã»ã©ã®redis-cliã‚’å®Ÿè¡Œã—ãŸã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n$ redis-cli subscribe \u0026quot;hoge channel\u0026quot; Reading messages... (press Ctrl-c to quit) 1. \u0026quot;subscribe\u0026quot; 2. \u0026quot;hoge channel\u0026quot; 3. (integer) 1 Node.jsã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚\npublisher = redis.createClient(6379, \u0026#39;localhost\u0026#39;); publisher.publish(\u0026#34;hoge channel\u0026#34;, \u0026#34;FooBar\u0026#34;); Node.js ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢ã¨ redis-cli ã‚’å®Ÿè¡Œã—ãŸç”»é¢ä¸¡æ–¹ã«ã€ŒFooBarã€ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã­ã€‚ã“ã‚Œã§ Redis ã® Pub/Sub ã®å‹•ãã¯ä½•ã¨ãªãæ´ã‚ãŸã‹ã¨æ€ã„ã¾ã™ã€‚\nWebSocket ã‚’ä½¿ã£ãŸãƒãƒ£ãƒƒãƒˆã‚‚ã©ãã‚’å®Ÿè£…ã™ã‚‹ // This program is free software. It comes without any warranty, to // the extent permitted by applicable law. You can redistribute it // and/or modify it under the terms of the Do What The Fuck You Want // To Public License, Version 2, as published by Sam Hocevar. See // http://sam.zoy.org/wtfpl/COPYING for more details.  var sys = require(\u0026#39;sys\u0026#39;) , opts = require(\u0026#39;opts\u0026#39;) , ws = require(\u0026#39;websocket-server\u0026#39;) , redis = require(\u0026#39;redis\u0026#39;) , server = ws.createServer() , subscriber = redis.createClient(6379, \u0026#39;localhost\u0026#39;) , publisher = redis.createClient(6379, \u0026#39;localhost\u0026#39;); opts.parse([ { \u0026#39;short\u0026#39;: \u0026#39;p\u0026#39;, \u0026#39;long\u0026#39;: \u0026#39;port\u0026#39;, \u0026#39;description\u0026#39;: \u0026#39;WebSocket Port\u0026#39;, \u0026#39;value\u0026#39;: true, \u0026#39;required\u0026#39;: true } ]); subscriber.on(\u0026#34;error\u0026#34;, function(err) { sys.debug(err); }); publisher.on(\u0026#34;error\u0026#34;, function(err) { sys.debug(err); }); subscriber.subscribe(\u0026#34;chat\u0026#34;); subscriber.on(\u0026#34;message\u0026#34;, function(channel, message) { sys.puts(message); server.broadcast(message); }); server.addListener(\u0026#34;connection\u0026#34;, function(connection) { sys.puts(\u0026#34;client connected: \u0026#34; + connection.id); connection.addListener(\u0026#34;message\u0026#34;, function(message) { publisher.publish(\u0026#34;chat\u0026#34;, message); }); }); server.addListener(\u0026#34;close\u0026#34;, function(connection) { sys.puts(\u0026#34;client disconnected: \u0026#34; + connection.id); }); server.listen(opts.get(\u0026#39;port\u0026#39;)); ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã‚’app.jsã¨ã—ã¦ä¿å­˜ã—ã€è¤‡æ•°ã®ãƒãƒ¼ãƒˆã§ç«‹ã¡ä¸Šã’ã¾ã™ï¼ˆåˆ¥é€” npm ã§ websocket-server ã¨ opts ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚\n$ node app.js -p 8001 $ node app.js -p 8002 $ node app.js -p 8003 $ node app.js -p 8004 Google Chrome ã® JavaScript ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’è¤‡æ•°ã®ã‚¿ãƒ–ã§é–‹ãã€ä¸‹è¨˜ã®ã‚ˆã†ã«å…¥åŠ›ã—ã¾ã™ã€‚\nvar connection = new WebSocket(\u0026#34;ws://localhost:8001\u0026#34;); connection.onmessage = function(event) { console.log(event.data) } connection.send(\u0026#34;Hello!!\u0026#34;); è¤‡æ•°ã®ã‚¿ãƒ–ã§ connection.send(â€¦â€¦) ã‚’ãŸãã•ã‚“å…¥åŠ›ã—ã¦ã¿ã‚‹ã¨åˆ†ã‹ã‚Šã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚ã©ã®ã‚¿ãƒ–ã§å…¥åŠ›ã—ã¦ã‚‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚\nã¾ã¨ã‚ ä»Šå›ã¯ Redis ã® Pub/Sub ã‚’è©¦ã™ç›®çš„ã§ã—ãŸã®ã§ã€ãƒãƒ£ãƒƒãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ è‡ªä½“ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ broadcast ã™ã‚‹äº‹ã—ã‹å‡ºæ¥ã¾ã›ã‚“ã€‚ã—ã‹ã—ã€Redis ã‚’é€šã—ã¦ã‚„ã‚Šå–ã‚Šã™ã‚‹ãƒ‡ãƒ¼ã‚¿å½¢å¼ã‚’JSONã«ã—ã¦ãŠã‘ã°ã€è‰²ã€…ãªæƒ…å ±ã‚’å„ã€…ã® node.js ã‚µãƒ¼ãƒã§å…±æœ‰ã™ã‚‹äº‹ãŒã§ãã‚‹ã®ã§ã€å®Ÿç”¨æ€§ãŒä¸ŠãŒã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚\nã¾ãŸã€Redisè‡ªä½“ã‚‚ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¯èƒ½ãªã®ã§ä¸­ç¶™ã‚µãƒ¼ãƒã‚‚ã‚¹ã‚±ãƒ¼ãƒ«ã™ã‚‹äº‹ãŒå‡ºæ¥ã‚‹ã¨æ€ã„ã¾ã™ï¼ˆæœªæ¤œè¨¼ï¼‰ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/06/18/nodejs-opts.html",
                "title": "node.js ã§ ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‚’å–ã‚‹ã«ã¯",
                "section": "post",
                "date" : "2011.06.18",
                "body": "node.js ã§ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‚’å–ã‚ŠãŸã„å ´åˆã¯ opts ã¨ã„ã†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†ã“ã¨ã§ç°¡å˜ã«å®Ÿç¾å‡ºæ¥ã¾ã™ã€‚\noptsãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ npm ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nnpm install opts è©¦ã—ã«å¼•æ•°ã§æŒ‡å®šã—ãŸãƒãƒ¼ãƒˆç•ªå·ã§HTTPã‚µãƒ¼ãƒã‚’ç«‹ã¡ä¸Šã’ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚\nvar http = require(\u0026#39;http\u0026#39;) , opts = require(\u0026#39;opts\u0026#39;); opts.parse([ { \u0026#39;short\u0026#39;: \u0026#39;p\u0026#39;, \u0026#39;long\u0026#39;: \u0026#39;port\u0026#39;, \u0026#39;description\u0026#39;: \u0026#39;HTTP port\u0026#39;, \u0026#39;value\u0026#39;: true, \u0026#39;required\u0026#39;: false }, ]); var port = opts.get(\u0026#39;port\u0026#39;) || 3000 server = http.createServer(function(req, res) { res.writeHead(200, {\u0026#39;Content-Type\u0026#39;: \u0026#39;text/html\u0026#39;}); res.write(\u0026#39;\u0026amp;lt;h1\u0026amp;gt;Hello World!\u0026amp;lt;/h1\u0026amp;gt;\u0026#39;); res.end(); }); server.listen(port); å®Ÿè¡Œã€‚\nnode app.js -p 3001 requiredã‚’trueã«ã—ã¦å¼•æ•°ã‚’çœç•¥ã—ã¦èµ·å‹•ã™ã‚‹ã¨ã¡ã‚ƒã‚“ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚\n$ node app.js Missing required option: p Usage: node /path/app.js [options] HTTP port -p, --port \u0026lt;value\u0026gt; (required) "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/06/14/npm-package-json.html",
                "title": "npm ã¨ package.json ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†",
                "section": "post",
                "date" : "2011.06.14",
                "body": "node.js ã§ Ruby ã® Bundler(Gemfile) ã®ã‚ˆã†ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç®¡ç†ã™ã‚‹ã«ã¯ã€package.json ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚Œã°è‰¯ã„ã‚ˆã†ã§ã™ã€‚\npackage.json ã®dependenciesã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã„ãã¾ã™ã€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯\u0026quot;2.3.11\u0026quot;ã®ã‚ˆã†ã«ç›´æ¥æŒ‡å®šã™ã‚‹äº‹ã¯ã‚‚ã¡ã‚ã‚“ã€\u0026quot;\u0026gt;= 0.0.1\u0026quot;ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹äº‹ã‚‚å‡ºæ¥ã¾ã™ã€‚ã“ã“ã‚‰è¾ºã¯Bundlerã¨ä¸€ç·’ã§ã™ã­ã€‚\n{ \u0026#34;name\u0026#34;: \u0026#34;example-app\u0026#34; , \u0026#34;version\u0026#34;: \u0026#34;0.0.1\u0026#34; , \u0026#34;private\u0026#34;: true , \u0026#34;dependencies\u0026#34;: { \u0026#34;express\u0026#34;: \u0026#34;2.3.11\u0026#34; , \u0026#34;jade\u0026#34;: \u0026#34;\u0026gt;= 0.0.1\u0026#34; , \u0026#34;socket.io\u0026#34;: \u0026#34;0.6.18\u0026#34; } } package.json ã®è¨˜è¿°ãŒçµ‚ã‚ã£ãŸã‚‰ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¸€æ‹¬ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ã€‚\nnpm install -g ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ãšã«å®Ÿè¡Œã™ã‚Œã° ./node_modules ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚.gitignore ã« ./node_modules ã‚’è¿½åŠ ã—ã¦ãŠãã¨è‰¯ã•ãã†ã§ã™ã€‚\nå‚è€ƒã‚µã‚¤ãƒˆ  Packages/1.1 â€“ CommonJS Spec Wiki  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/06/09/express-redis.html",
                "title": "node.js + express ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢ã‚’ Redis ã«å¤‰æ›´ã™ã‚‹æ–¹æ³•",
                "section": "post",
                "date" : "2011.06.09",
                "body": "express ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯æ¨™æº–ã ã¨ãƒ¡ãƒ¢ãƒªã‚¹ãƒˆã‚¢ãªã®ã§ã€å†èµ·å‹•ã™ã‚‹ãŸã³ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒæ¶ˆãˆã¦ã—ã¾ã„ã¾ã™ã€‚ãã“ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢ã‚’ Redis ã«ã—ã¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æ°¸ç¶šåŒ–å‡ºæ¥ã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã™ã€‚\nä¸‹è¨˜ç’°å¢ƒã§å‹•ä½œã‚’ç¢ºèªã—ã¾ã—ãŸã€‚\n Node.js v0.4.8 express v2.3.11 connect-redis v1.0.5  npm ã§ connect-redis ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nnpm install connect-redis app.js ã‚’æ¬¡ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¾ã™ã€‚\nvar express = require(\u0026#39;express\u0026#39;); var RedisStore = require(\u0026#39;connect-redis\u0026#39;)(express); var app = express.createServer(); app.use(express.cookieParser()); app.use(express.session({ secret: \u0026#34;secret key\u0026#34;, store: new RedisStore(), cookie: { maxAge: 86400 * 1000 } })); maxAge ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆã‚¯ãƒƒã‚­ãƒ¼ï¼‰ã®æœ‰åŠ¹æœŸé™ã‚’æŒ‡å®šã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ã€‚cookie: è‡ªä½“ã‚’çœç•¥ã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯4æ™‚é–“ã®ã‚ˆã†ã§ã™ã€‚æŒ‡å®šã—ãŸã„å ´åˆã¯ä¸Šè¨˜ã®ã‚ˆã†ã«ãƒŸãƒªç§’ã§æŒ‡å®šã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/06/08/node-express-twitter.html",
                "title": "node.js + expressã§Twitterèªè¨¼",
                "section": "post",
                "date" : "2011.06.08",
                "body": "node.js + express ã§Twitterèªè¨¼ã‚’ã—ã¦ã¿ã¾ã—ãŸã€‚ä»Šå›ã¯å–å¾—ã—ãŸæƒ…å ±ã‚’ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«æ ¼ç´ã—ã¦ã„ã¾ã™ãŒã€ã“ã‚Œã‚’ MySQL ã‚„ MongoDB ã«ä¿å­˜ã™ã‚Œã°ã€ŒTwitterã§ãƒ­ã‚°ã‚¤ãƒ³ã€ã¿ãŸã„ãªäº‹ã¯ç°¡å˜ã«å‡ºæ¥ãã†ã§ã™ã­ã€‚\nä¸‹è¨˜ç’°å¢ƒã§å‹•ä½œç¢ºèªã—ã¦ã„ã¾ã™ã€‚\n Node.js v0.4.8 express v2.3.11 jade v0.12.1 oauth v0.9.0  å®Ÿè£…ã™ã‚‹ å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ npm ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nnpm install express oauth jade app.js ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã—ãŸã€‚\n// This program is free software. It comes without any warranty, to // the extent permitted by applicable law. You can redistribute it // and/or modify it under the terms of the Do What The Fuck You Want // To Public License, Version 2, as published by Sam Hocevar. See // http://sam.zoy.org/wtfpl/COPYING for more details.  var express = require(\u0026#39;express\u0026#39;); var app = express.createServer(); var oauth = new (require(\u0026#39;oauth\u0026#39;).OAuth)( \u0026#39;https://api.twitter.com/oauth/request_token\u0026#39;, \u0026#39;https://api.twitter.com/oauth/access_token\u0026#39;, \u0026#39;CONSUMER KEY\u0026#39;, \u0026#39;CONSUMER SECRET\u0026#39;, \u0026#39;1.0\u0026#39;, \u0026#39;http://localhost:3000/auth/twitter/callback\u0026#39;, \u0026#39;HMAC-SHA1\u0026#39; ); app.configure(function() { app.use(express.logger()); app.use(express.bodyParser()); app.use(express.cookieParser()); app.use(express.session({ secret: \u0026#34;secret\u0026#34; })); app.set(\u0026#39;view engine\u0026#39;, \u0026#39;jade\u0026#39;) }); app.dynamicHelpers({ session: function(req, res) { return req.session; } }); app.get(\u0026#39;/\u0026#39;, function(req, res) { res.render(\u0026#39;index\u0026#39;, { layout: false }); }); app.get(\u0026#39;/auth/twitter\u0026#39;, function(req, res) { oauth.getOAuthRequestToken(function(error, oauth_token, oauth_token_secret, results) { if(error) { res.send(error) } else { req.session.oauth = {}; req.session.oauth.token = oauth_token; req.session.oauth.token_secret = oauth_token_secret; res.redirect(\u0026#39;https://twitter.com/oauth/authenticate?oauth_token=\u0026#39; + oauth_token); } }); }); app.get(\u0026#39;/auth/twitter/callback\u0026#39;, function(req, res) { if(req.session.oauth) { req.session.oauth.verifier = req.query.oauth_verifier; oauth.getOAuthAccessToken(req.session.oauth.token, req.session.oauth.token_secret, req.session.oauth.verifier, function(error, oauth_access_token, oauth_access_token_secret, results) { if(error) { res.send(error); } else { req.session.oauth.access_token = oauth_access_token; req.session.oauth.access_token_secret = oauth_access_token_secret; req.session.user_profile = results res.redirect(\u0026#39;/\u0026#39;); } } ); } }); app.get(\u0026#39;/signout\u0026#39;, function(req, res) { delete req.session.oauth; delete req.session.user_profile; res.redirect(\u0026#39;/\u0026#39;); }); app.listen(3000); views/index.jade ã¯ã“ã‚“ãªæ„Ÿã˜ã«ã€‚\n!!! 5 html(lang=\u0026quot;ja\u0026quot;) head title node.js sample app body h1 node.js sample app - if (session.user_profile) p= \u0026quot;Welcome, \u0026quot; + session.user_profile.screen_name p a(href=\u0026quot;/signout\u0026quot;) Sign out - else p a(href=\u0026quot;/auth/twitter\u0026quot;) Sign in with twitter ä»¥ä¸Šã€2ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ãŸã‚‰ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§èµ·å‹•ã—ã¾ã™ã€‚\nnode app.js http://localhost:3000/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ŒSign in with twitterã€ã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚Œã° Twitter ã«é£›ã‚“ã§èªè¨¼ã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/06/06/nave-npm-node.html",
                "title": "Ubuntu 11.04 + nave + npm ã§ Node.js ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹",
                "section": "post",
                "date" : "2011.06.06",
                "body": "è¿‘ã€… Node.js ã‚’ä½¿ã†æ©Ÿä¼šãŒã‚ã‚Šãã†ãªã®ã§ Node.js ã‚’ Ubuntu ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã¾ã—ãŸã€‚\nnave ã‹ nvm ã«ã™ã‚‹ã‹è¿·ã£ãŸã®ã§ã™ãŒã€nvm ã¯ zsh ã¨ç›¸æ€§ãŒæ‚ªãã¦ nvm æœ¬ä½“ã«æ‰‹ã‚’å…¥ã‚Œãªã„ã¨ã„ã‘ãªã„ã®ã§ç‰©ãã•ãªç§ã¯ nave ã‚’ä½¿ã†äº‹ã«ã—ã¾ã—ãŸã€‚\næº–å‚™ ã¾ãš Node.js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é¡ã‚’ apt-get ã§å°å…¥ã—ã¾ã™ã€‚\nsudo apt-get install git-core curl build-essential libssl-dev naveã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« naveã®æœ€æ–°ç‰ˆã‚’Githubã‹ã‚‰cloneã—ã¦ãã¾ã™ã€‚\ngit clone git://github.com/isaacs/nave.git .nave æ­£å¸¸ã«å‹•ä½œã™ã‚‹ã‹ç¢ºèªã€‚\n$ .nave/nave.sh help Usage: nave \u0026lt;cmd\u0026gt; Commands: .... æ¯å› ./nave/nave.sh ã¨å…¥åŠ›ã™ã‚‹ã®ã¯é¢å€’ãªã®ã§ãƒ‘ã‚¹ãŒé€šã£ã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ã‚’è²¼ã‚Šã¾ã—ãŸã€‚\ncd ~/bin ln -s ../.nave/nave.sh nave ã“ã‚Œã§ nave ã¨å…¥åŠ›ã™ã‚‹ã ã‘ã§å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nNode.jsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« nave ã‚’ä½¿ã£ã¦æœ€æ–°ç‰ˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã¾ã™ã€‚\nnave install latest ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒçµ‚ã‚ã£ãŸã‚‰ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã€‚\n$ nave ls src: 0.4.8 installed: 0.4.8 0.4.8ãŒå…¥ã£ãŸã‚ˆã†ã§ã™ã€‚\nè©¦ã—ã«0.4.7ã‚’å…¥ã‚Œã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n$ nave install 0.4.7 $ nave ls src: 0.4.7 0.4.8 installed: 0.4.7 0.4.8 nave use ã§ä½¿ç”¨ã—ãŸã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n$ nave use 0.4.8 Already installed: 0.4.8 using 0.4.8 $ node -v v0.4.8 npmã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« nave use ã—ã¦ node.js ã‚’ä½¿ãˆã‚‹çŠ¶æ…‹ã«ã—ãŸä¸Šã§ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\ncurl http://npmjs.org/install.sh | sh ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã‹ç¢ºèªã€‚\n$ npm -v 1.0.9-1 ä»¥ä¸Šã§ã™ã€‚Ruby + rvm ã‚ˆã‚Šã¡ã‚‡ã£ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒæ‰‹é–“ã§ã™ã‘ã©ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ä»Šåº¦ã¯ express ã‚ãŸã‚Šã‚’ã‚¤ã‚¸ãã£ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\nå‚è€ƒãƒªãƒ³ã‚¯  Node.js isaacs/nave â€“ GitHub npm â€“ Node Package Manager Node.jsã¨nvmã‚’åˆã‚ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ãã®ãƒãƒã‚Šãƒã‚¤ãƒ³ãƒˆã¨å¯¾ç­– â€“ ess sup zshã§nvmã‚’ä½¿ã†ã¨ãã«å¿…è¦ãªã“ã¨(2011-05-10ç¾åœ¨ç‰ˆ) â€“ Inquisitive!  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/06/01/omniauth-mixi.html",
                "title": "Rails3 + OmniAuth ã§ mixi OpenID ã‚’ä½¿ã†ãŸã‚ã®è¨­å®š",
                "section": "post",
                "date" : "2011.06.01",
                "body": "OmniAuthã‚’ä½¿ã£ã¦Twitterã‚„Facebookã¨é€£æºãƒ»èªè¨¼ã‚’ã™ã‚‹æ–¹æ³•ã¯ã‚°ã‚°ã‚Œã°ãŸãã•ã‚“å‡ºã¦ãã‚‹ã®ã§ã™ãŒã€mixi OpenIDã‚’ä½¿ã£ãŸã‚„ã‚Šæ–¹ã¯å‡ºã¦ã“ãªã‹ã£ãŸã®ã§èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚\nOmniAuthã®è¨­å®š config/initializers/omniauth.rbã«ä»¥ä¸‹ã‚’è¨˜è¿°ã—ã¦ä¿å­˜ã—ã¾ã™ã€‚OpenID.fetcher.ca_fileã‚’æŒ‡å®šã—ãªã„ã¨ Warning ãŒå‡ºã¾ãã‚‹ã®ã§ã—ã£ã‹ã‚ŠæŒ‡å®šã—ã¦ã‚ã’ã¾ã—ã‚‡ã†ã€‚\nrequire \u0026#39;omniauth/openid\u0026#39; require \u0026#39;openid/fetchers\u0026#39; require \u0026#39;openid/store/filesystem\u0026#39; OpenID.fetcher.ca_file = \u0026#34;/usr/lib/ssl/certs/ca-certificates.crt\u0026#34; Rails.application.config.middleware.use OmniAuth::Builder do provider :openid, OpenID::Store::Filesystem.new(\u0026#34;/tmp\u0026#34;), :name =\u0026gt; \u0026#34;mixi\u0026#34;, :identifier =\u0026gt; \u0026#34;mixi.jp\u0026#34; end providerã«Twitterã‚„Facebookã‚’è¿½åŠ ã™ã‚Œã°ã€3ã‚µã‚¤ãƒˆã§èªè¨¼å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nå‚è€ƒã‚µã‚¤ãƒˆ Userãƒ¢ãƒ‡ãƒ«ã‚„SessionsControllerã®å®Ÿè£…ãªã©ã¯ã€@jugyoã•ã‚“ã® OmniAuth ã§ç°¡å˜ Twitter èªè¨¼ï¼ã®é€šã‚Šã«ã‚„ã‚Œã°å®Œç’§ã ã¨æ€ã„ã¾ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/05/27/grape.html",
                "title": "APIã®ä½œæˆã«ç‰¹åŒ–ã—ãŸRubyè£½ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ grape ã‚’è©¦ã—ã¦ã¿ãŸ",
                "section": "post",
                "date" : "2011.05.27",
                "body": "RESTful API ã®ä½œæˆã«ç‰¹åŒ–ã—ãŸãƒã‚¤ã‚¯ãƒ­ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ grape ã®å­˜åœ¨ã‚’çŸ¥ã£ãŸã®ã§èª¿æŸ»ã—ã¦ã¿ã‚‹äº‹ã«ã—ã¾ã—ãŸã€‚API ã®å®Ÿè£… ã« Rails ã® ActionController ã¯é‡åšã™ãã‚‹ã€Sinatra ã¯è»½ã„ã‘ã©æ‰‹é–“ãŒã‹ã‹ã‚‹ã€‚ã€‚ã€‚ã¨ã„ã†ä¸­ã§ä½œã‚‰ã‚ŒãŸã“ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ã¯ãŸã—ã¦ãã®å®ŸåŠ›ã¯â€¦\ngrape ã®ç‰¹å¾´ grape ã®ç‰¹å¾´ã¯æ¦‚ã­ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚grape è‡ªä½“ãŒ Rack ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãªã®ã§ Rails3 ã«çµ„ã¿è¾¼ã‚€ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ã¨ã„ã†ã‚ˆã‚Šã¯çµ„ã¿è¾¼ã‚“ã§ä½¿ã†ã®ãŒå‰æã®ã‚ˆã†ã§ã™ï¼ˆå‹¿è«–å˜ä½“ã§ã‚‚å‹•ãã¾ã™ï¼‰ã€‚\n Rack ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ Sinatra ãƒ©ã‚¤ã‚¯ãª DSL è‡ªå‹•ã§ JSON ã«ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºï¼ˆ#serializable_hash ã¾ãŸã¯ #to_json ãŒå­˜åœ¨ã™ã‚Œã°OKã¿ãŸã„ï¼‰  grape ã‚’ä½¿ã£ã¦ã¿ã‚‹ ç‰¹å¾´ã‚’æ´ã‚“ã ã¨ã“ã‚ã§ã€å®Ÿéš›ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ã£ã¦ã¿ã¾ã™ã€‚Rails3 ã®ä¸€éƒ¨ã¨ã—ã¦ä½¿ã†å ´åˆã¯ Gemfile ã«ä¸‹è¨˜1è¡Œã‚’è¿½åŠ ã—ã¦ã€ãŠãªã˜ã¿ bundle install ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\ngem \u0026#34;grape\u0026#34; ä»Šå›ã¯ lib/api.rb ã«å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚å®Ÿè£…ã—ãŸã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã‚’ã”è¦§ä¸‹ã•ã„ã€‚prefix ã‚’æŒ‡å®šã™ã‚‹ã¨ /api/articles/1 ã¨ã„ã†æ„Ÿã˜ã®URLã«ãªã‚Šã¾ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦ã¾ã™ãŒã€version ã‚’æŒ‡å®šã™ã‚‹ã¨ /1/articles/1 ã®ã‚ˆã†ã«ã‚¢ã‚¯ã‚»ã‚¹å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚‹ã¿ãŸã„ã§ã™ï¼ˆã“ã‚Œã«ä½•ã®ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã®ã‹ã¯ã¡ã‚‡ã£ã¨åˆ†ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸï¼‰ã€‚\nç”¨æ„ã•ã‚Œã¦ã„ã‚‹ DSL ã®è©³ç´°ã¯ã€intridea/grape â€“ GitHub ã‚„ YARD documentation for the Grape API ãªã©ã‚’è¦‹ã¦ä¸‹ã•ã„ã€‚\n# lib/api.rb module TestApp class API \u0026lt; Grape::API # version 1 prefix \u0026#34;api\u0026#34; resource \u0026#34;articles\u0026#34; do get \u0026#34;:id\u0026#34; do Article.find(params[:id]) end end end end APIã®å®Ÿè£…ãŒçµ‚ã‚ã£ãŸã‚‰æ¬¡ã¯Railsã¸ã®çµ„ã¿è¾¼ã¿ã§ã™ã€‚Rails3 ã‹ã‚‰ lib ã®ä¸­ã¯è‡ªå‹•ã§èª­ã¿è¾¼ã¾ã‚Œãªã„ã®ã§ initializers ã§å‘¼ã³å‡ºã™ã‚ˆã†ã«ã—ã¾ã™ã€‚\n# config/initializers/api.rb require \u0026#34;#{Rails.root/lib/api\u0026#34; æœ€å¾Œã« TestApp::API ã‚’ routes.rb ã§ãƒã‚¦ãƒ³ãƒˆã—ã¦å®Œæˆã§ã™ã€‚\n# config/routes.rb TestApp::Application.routes.draw do mount TestApp::API =\u0026gt; \u0026#34;/\u0026#34; end ã“ã“ã¾ã§å‡ºæ¥ãŸã‚‰ rails s ã§ WEBRick ã‚’èµ·å‹•ã—ã€http://localhost:3000/api/articles/1 ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚Article.find(1) ã®å®Ÿè¡ŒçµæœãŒ JSON ã§è¿”ã£ã¦ãã‚‹ã¯ãšã§ã™ã€‚\nè»½ããƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã—ã¦ã¿ãŸ è©¦ã—ã« ActionController ã¨ grape ã©ã¡ã‚‰ãŒãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è‰¯ã„ã®ã‹ã‚’ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã—ã¦ã¿ã¾ã—ãŸã€‚\nã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å®Ÿè£…ã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\n# app/controllers/articles_controller.rb class ArticlesController \u0026lt; ApplicationController respond_to :json def show respond_with Article.find(params[:id]) end end # config/routes.rb TestApp::Application.routes.draw do resources :articles end Apache Bench ã§æ¸¬å®šã—ã¦ã¿ã¾ã™ã€‚æ¸¬å®šç’°å¢ƒã§ã™ãŒã€ãƒ­ãƒ¼ã‚«ãƒ«ã¯è‡ªå®…ã®iMacã€ãƒªãƒ¢ãƒ¼ãƒˆã¯ã•ãã‚‰ã®VPS 4Gï¼ˆunicorn ä½¿ç”¨ï¼‰ã§è¡Œã„ã¾ã—ãŸã€‚ã§ã™ã®ã§ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯çµæœã¯ã‚ãã¾ã§å‚è€ƒç¨‹åº¦ã«è€ƒãˆã¦ãã ã•ã„ã€‚\ngrape\nConcurrency Level: 10 Time taken for tests: 5.039 seconds Complete requests: 1000 Failed requests: 0 Write errors: 0 Total transferred: 545000 bytes HTML transferred: 345000 bytes Requests per second: 198.47 [#/sec] (mean) Time per request: 50.385 [ms] (mean) Time per request: 5.039 [ms] (mean, across all concurrent requests) Transfer rate: 105.63 [Kbytes/sec] received ActionController\nConcurrency Level: 10 Time taken for tests: 7.573 seconds Complete requests: 1000 Failed requests: 0 Write errors: 0 Total transferred: 643000 bytes HTML transferred: 355000 bytes Requests per second: 132.05 [#/sec] (mean) Time per request: 75.731 [ms] (mean) Time per request: 7.573 [ms] (mean, across all concurrent requests) Transfer rate: 82.92 [Kbytes/sec] received grape ã®ã»ã†ãŒå°‘ã—é€Ÿã„çµæœã¨ãªã‚Šã¾ã—ãŸã€‚ä½•å›ã‹ã‚„ã£ã¦ã¿ãŸã®ã§ã™ãŒã€å¤šå°‘èª¤å·®ã¯ã‚ã‚‹ã‚‚ã®ã® grape ã®ã»ã†ãŒé€Ÿãã†ã§ã™ã€‚\nç·è©• Sinatra ãƒ©ã‚¤ã‚¯ãª DSL ãªãŠã‹ã’ã§ã‹ãªã‚Šã‚·ãƒ³ãƒ—ãƒ«ã«æ›¸ã‘ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚ãŸã ã€Rails3 ã‹ã‚‰ã¯ respond_with ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€ã‚³ãƒ¼ãƒ‰é‡ã§ã¯ã‚ã¾ã‚Šå·®ã¯ç„¡ããªã£ã¦ã—ã¾ã„ã¾ã™ã­ã€‚é€šå¸¸ã®HTMLãƒšãƒ¼ã‚¸ã¨APIã‚’åˆ†é›¢ã—ãŸã„å ´åˆã‚„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚¢ãƒƒãƒ—ã‚’ç‹™ã„ãŸã„å ´åˆã«ã¯è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\nãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚’è¦‹ã‚‹ã¨ã€OAuthèªè¨¼ã‚„XMLã§ã®å‡ºåŠ›ã€Streaming APIã®å¯¾å¿œã‚‚äºˆå®šã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚\né–¢é€£ãƒªãƒ³ã‚¯  The Grapes of Rapid / Slide  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/05/25/cap-subdirectory.html",
                "title": "è¤‡æ•°ã®Railsã‚¢ãƒ—ãƒªãŒåŒå±…ã—ã¦ã„ã‚‹Gitãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•",
                "section": "post",
                "date" : "2011.05.25",
                "body": "è¤‡æ•°ã®Railsã‚¢ãƒ—ãƒªãŒï¼‘ã¤ã®ãƒªãƒã‚¸ãƒˆãƒªã«åŒå±…ã—ã¦ã„ã‚‹ã‚ˆã†ãªçŠ¶æ…‹ã§ Capistrano ã‚’ä½¿ã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã„å ´åˆã€ãã®ã¾ã¾ã§ã¯å‹•ä½œã—ãªã„ã®ã§å°‘ã€…æ‰‹ã‚’åŠ ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nä¸‹è¨˜ã®ã‚ˆã†ã«Railsã‚¢ãƒ—ãƒªãŒã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹å ´åˆã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚\nrepogitory/ â”œâ”€â”€ admin â”œâ”€â”€ mobile â”œâ”€â”€ share Capfileã‚’æ›¸ãæ›ãˆã‚‹ é€šå¸¸ã®æ‰‹é †é€šã‚Šã€Rails.root ç›´ä¸‹ã« Capfile ã‚’è¨­ç½®ã— config/deploy.rb ã«ãƒ¬ã‚·ãƒ”ã‚’æ›¸ã„ã¦ã„ãã®ã§ã™ãŒã€ä¸Šè¨˜ã®ã‚ˆã†ã«ãƒªãƒã‚¸ãƒˆãƒªç›´ä¸‹ = Rails.root ã§ã¯ç„¡ã„å ´åˆã€Capfile ã‚’å°‘ã—å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nStackoverflow ã® Deploying a Git subdirectory in Capistrano ã‚’å‚è€ƒã«ï¼ˆã¨ã„ã†ã‹ã»ã¼ãã®ã¾ã¾ã§ã™ãŒï¼‰Capfile ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚ã‚ªãƒªã‚¸ãƒŠãƒ«ã¨é•ã†ç®‡æ‰€ã¯cpã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ã€‚ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ã»ã†ã¯ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã¨ã—ã¦ã‚³ãƒ”ãƒ¼ã—ã¾ã™ãŒã€ã“ã®ã‚³ãƒ¼ãƒ‰ã¯å®Ÿä½“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚\nrequire \u0026#39;capistrano/recipes/deploy/strategy/remote_cache\u0026#39; class RemoteCacheSubdir \u0026lt; Capistrano::Deploy::Strategy::RemoteCache private def repository_cache_subdir if configuration[:deploy_subdir] then File.join(repository_cache, configuration[:deploy_subdir]) else repository_cache end end def copy_repository_cache logger.trace \u0026#34;copying the cached version to #{configuration[:release_path]}\u0026#34; if copy_exclude.empty? run \u0026#34;cp -RpL #{repository_cache_subdir}#{configuration[:release_path]}\u0026amp;\u0026amp; #{mark}\u0026#34; else exclusions = copy_exclude.map { |e| \u0026#34;--exclude=\\\u0026#34;#{e}\\\u0026#34;\u0026#34; }.join(\u0026#39; \u0026#39;) run \u0026#34;rsync -lrpt #{exclusions}#{repository_cache_subdir}/* #{configuration[:release_path]}\u0026amp;\u0026amp; #{mark}\u0026#34; end end end set :strategy, RemoteCacheSubdir.new(self) Capfile ã‚’æ›¸ãæ›ãˆãŸã‚‰ deploy.rb ã‚’æ¬¡ã®ã‚ˆã†ã«ã™ã‚Œã°æŒ‡å®šã—ãŸã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã ã‘ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ã€‚\nrequire \u0026#39;capistrano/ext/multistage\u0026#39; require \u0026#39;bundler/capistrano\u0026#39; require \u0026#39;erb\u0026#39; set :application, \u0026#34;app\u0026#34; set :scm, :git set :repository, \u0026#34;git://domain.com/path/to/repository.git\u0026#34; set :deploy_subdir, \u0026#34;/path/to/app\u0026#34; # require https://gist.github.com/970910 to Capfile set :deploy_via, :copy set :use_sudo, false set :bundle_without, [:development, :test] ãã‚‚ãã‚‚ ä½•æ•…ã“ã®ã‚ˆã†ãªæ§‹æˆã«ãªã£ã¦ã‚‹ã‹ã¨ã„ã†ã¨ã€adminã€mobileã§ãƒ¢ãƒ‡ãƒ«ã¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å…±é€šåŒ–ã—ãŸããªã£ãŸç‚ºã§ã™ã€‚å…±é€šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ share ã«æ”¾ã‚Šè¾¼ã¿ã€å„Railsã‚¢ãƒ—ãƒªã‹ã‚‰ã¯ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã§å‚ç…§ã™ã‚‹å½¢ã«ã—ã¦ã„ã¾ã™ã€‚æœ€åˆã¯ Git ã® submodule ã‚’è€ƒãˆãŸã®ã§ã™ãŒã©ã†ã‚‚ã—ã£ãã‚Šæ¥ãªã‹ã£ãŸã‚“ã§ã™ã‚ˆã­ã€‚ã€‚ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/05/24/git-flow.html",
                "title": "Gitã‚’ä½¿ã£ãŸé–‹ç™ºãƒ»é‹ç”¨ãƒ•ãƒ­ãƒ¼ã®ç´¹ä»‹",
                "section": "post",
                "date" : "2011.05.24",
                "body": "ç§ã®æ‰€å±ã—ã¦ã„ã‚‹ä¼šç¤¾ã§ã¯ã€2å¹´ç¨‹å‰ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã‚’Subversionã‹ã‚‰Gitã«ç§»è¡Œã—ã€ç¾åœ¨ã¾ã§é–‹ç™ºãƒ•ãƒ­ãƒ¼ã‚’è©¦è¡ŒéŒ¯èª¤ã—ã¦ãã¾ã—ãŸã€‚ã‚ˆã†ã‚„ãå½¢ã«ãªã£ã¦ããŸã¨ã„ã†ã“ã¨ã§ã€å®ˆç§˜ç¾©å‹™ã«æ¥è§¦ã—ãªã„ç¨‹åº¦ã«ç´¹ä»‹ï¼†è€ƒå¯Ÿã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\nå½¢ã«ãªã£ã¦ããŸã¨ã¯ã„ãˆã€ã¾ã ã¾ã è©¦è¡ŒéŒ¯èª¤ä¸­ã§ã™ã®ã§è‰²ã€…ãªãƒ„ãƒƒã‚³ãƒŸã¯å¤§æ­“è¿ã§ã™ã€‚\nç¾åœ¨ã®é–‹ç™ºãƒ•ãƒ­ãƒ¼ã®ä¿¯ç°å›³ ç¾åœ¨ã®é–‹ç™ºãƒ•ãƒ­ãƒ¼ã‚’ä¿¯ç°ã—ã¦ã¿ã‚‹ã¨å¤§ä½“ä¸‹è¨˜å›³ã®ã‚ˆã†ãªæ„Ÿã˜ã«ãªã£ã¦ã„ã¾ã™ã€‚é€”ä¸­ã§å›³ã‚’æ›¸ãã®ãŒé¢å€’ã«ãªã£ãŸéƒ½åˆä¸Šã€Jenkinsã•ã‚“ãŒï¼‘äººã—ã‹å±…ã¾ã›ã‚“ãŒã€å®Ÿéš›ã¯masterãƒ–ãƒ©ãƒ³ãƒã®ä»–ã«releaseãƒ–ãƒ©ãƒ³ãƒã‚‚ç›£è¦–ã—ã¦ã‚‚ã‚‰ã£ã¦ã„ã¾ã™ã€‚\nä»¥é™ã“ã®å›³ã‚’å…ƒã«è©±ã‚’é€²ã‚ã¦ã„ããŸã¨æ€ã„ã¾ã™ã€‚\n  Gitoriousã‚’åˆ©ç”¨ã—ã¦è‡ªç”±ã«é–‹ç™º Gitoriousã¨ã„ã†GitHubã«ä¼¼ãŸã‚µãƒ¼ãƒ“ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®Gitoriousã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã¨ã—ã¦ã‚‚å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã®ã§ç¤¾å†…ã«è¨­ç½®ã—ã¦åˆ©ç”¨ã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ã€‚\nè¦‹ãŸç›®ã¯GitHubã¨ã ã„ã¶é•ã„ã¾ã™ãŒåˆ©ç”¨æ–¹æ³•ã¯ä¼¼é€šã£ã¦ã„ã¦ã€ã¾ãšãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­å¤®ãƒªãƒã‚¸ãƒˆãƒªãŒå­˜åœ¨ã—ã€ãã‚Œã‚’å„äººãŒãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦é–‹ç™ºã‚’ã—ã¦ã„ãã‚¹ã‚¿ã‚¤ãƒ«ã«ãªã‚Šã¾ã™ã€‚GitHubã®Pull requestï¼ˆGitoriousã§ã¯Merge requestã¨å‘¼ã¶ï¼‰ã¨åŒç­‰ã®æ©Ÿèƒ½ã‚‚ã‚ã‚‹ã®ã§ã€ä¿¯ç°å›³ã«ã‚‚æ›¸ã„ã¦ã‚ã‚‹é€šã‚Šéå¸¸ã«GitHubã‚’åˆ©ç”¨ã—ãŸé–‹ç™ºã«è¿‘ããªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nGitoriousã‚’åˆ©ç”¨ã™ã‚‹ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ ã“ã®Gitoriousã‚’åˆ©ç”¨ã—ãŸé–‹ç™ºãƒ•ãƒ­ãƒ¼ã®ãƒ¡ãƒªãƒƒãƒˆã¨ã—ã¦ã¯ä»¥ä¸‹ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚\n å¿…ãšãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦ã‹ã‚‰é–‹ç™ºã™ã‚‹ã®ã§ã€ä»®ã«æ»…èŒ¶è‹¦èŒ¶ãªå®Ÿè£…ã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ã‚‚å‘¨ã‚Šã«å½±éŸ¿ãŒç„¡ã„ã€‚ å‘¨ã‚Šã«å½±éŸ¿ãŒç„¡ã„ã®ã§ã€Gitåˆå¿ƒè€…ã®ç¤¾å“¡ã«ã‚‚å¿ƒç½®ããªãGitã‚’å¼„ã‚Šå€’ã—ã¦ã‚‚ã‚‰ã†äº‹ãŒå‡ºæ¥ã‚‹ã€‚ Pull request ã§å¤‰æ›´å†…å®¹ãŒDiffã§è¦‹ã‚Œã‚‹ã®ã§ã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã‚‹ã®ãŒæ¥½ã«ãªã‚‹ã€‚ Pull request ã¯ç‹¬ç«‹ã—ãŸãƒ–ãƒ©ãƒ³ãƒã«ãªã£ã¦ã„ã‚‹ã®ã§ã€é–‹ç™ºè€…ã¯ãƒ€ãƒ¡å‡ºã—ã•ã‚ŒãŸå¾Œã«Pull requestã«å¯¾ã—ã¦å†åº¦pushå‡ºæ¥ã‚‹ã€‚  ã¾ãã€GitHubã‚’åˆ©ç”¨ã—ãŸå ´åˆã¨åŒã˜ã‚ˆã†ãªãƒ¡ãƒªãƒƒãƒˆã§ã™ã­ã€‚é€†ã«ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã¨ã—ã¦ã¯ä»¥ä¸‹ãŒæŒ™ãŒã£ã¦ãã¾ã™ã€‚\n ç®¡ç†è€…ãŒä¼‘ã‚“ã ã‚Šã‚µãƒœã£ãŸã‚Šã™ã‚‹ã¨ã‚ã£ã¨ã„ã†é–“ã«Pull requestãŒæºœã¾ã£ã¦ã—ã¾ã†ã€‚ ç®¡ç†è€…ã€é–‹ç™ºè€…å…±ã«Gitã®çŸ¥è­˜ãŒã‹ãªã‚Šè¦æ±‚ã•ã‚Œã‚‹ã€‚ push, pull, merge, rebaseã®ãƒ«ãƒ¼ãƒ«ã‚’æ±ºã‚ã¦ãŠã‹ãªã„ã¨ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆåœ°ç„ã«é™¥ã‚‹å¯èƒ½æ€§ãŒå¤§ã€‚  ãƒã‚¹ã‚¿ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã®é‹ç”¨ã¨æ–°è¦é–‹ç™ºæ™‚ã®ãƒ•ãƒ­ãƒ¼ ãƒã‚¹ã‚¿ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã¯é–‹ç™ºã®å…ˆç«¯ã¨ã—ã¦æ‰±ã£ã¦ã„ã¾ã™ã€‚é–‹ç™ºé€”ä¸­ãªã®ã§ãƒã‚°ãŒå«ã¾ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ãŒã€æ¯æ—¥ãƒ»ã‚‚ã—ãã¯ãƒ—ãƒƒã‚·ãƒ¥å¾Œã«ãƒŠã‚¤ãƒˆãƒªãƒ¼ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã„ã¾ã™ã€‚å¸¸ã«æœ€æ–°ã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ãŠãã“ã¨ã¯é‡è¦ã§ã€ãƒã‚°ã®æ—©æœŸç™ºè¦‹ã¯å‹¿è«–ã§ã™ãŒã€ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å‹•ã„ã¦ã„ã‚‹æ„Ÿã€ã‚’å‰ã„æ–¹ã€…ã«è¦‹ã¦ã‚‚ã‚‰ã†ç‹™ã„ã‚‚ã‚ã‚Šã¾ã™ï¼ˆã†ã¡ã¯è‡ªç¤¾ä¼ç”»ãŒå¤šã„ã®ã§â€¦ï¼‰\næ–°è¦é–‹ç™ºã‚’æ‹…å½“ã™ã‚‹é–‹ç™ºè€…ã¯ã€mainlineã®ãƒã‚¹ã‚¿ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã¨ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã®ãƒã‚¹ã‚¿ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’Pullã§åŒæœŸã‚’å–ã‚Šã¤ã¤ã€ä½œæ¥­æ¯ã«ãƒˆãƒ”ãƒƒã‚¯ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã£ã¦é–‹ç™ºã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚\né–‹ç™ºãŒçµ‚ã‚ã£ãŸã‚‰ãƒˆãƒ”ãƒƒã‚¯ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã«pushã—ã¦ã€ãã®ãƒ–ãƒ©ãƒ³ãƒã‚’Pull requestã—ã¾ã™ã€‚ä¸€é€£ã®æµã‚Œã‚’ã‚³ãƒãƒ³ãƒ‰ã§è¡¨ã™ã¨æ¬¡ã®é€šã‚Šã«ãªã‚Šã¾ã™ã€‚\n$ git checkout master $ git pull mainline master $ git checkout -b feature-hoge --commit-- $ git pull --rebase mainline master $ git push origin feature-hoge ç®¡ç†è€…ãŒPull requestã‚’å–ã‚Šè¾¼ã‚€éš›ã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n$ git checkout master $ git checkout -b merge-request/198 $ git pull git://xxxxx/project_name/mainline.git refs/merge-request/198 $ git rebase master $ git checkout master $ git merge merge-request/198 --no-ff ãƒã‚¹ã‚¿ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸ã™ã‚‹æ™‚ã«â€“no-ffã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å–ã‚Šè¾¼ã‚“ã ãƒˆãƒ”ãƒƒã‚¯ãƒ–ãƒ©ãƒ³ãƒä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹äº‹ãŒå‡ºæ¥ã¾ã™ã€‚é–‹ç™ºãŒæ´»ç™ºãªåˆæœŸæ®µéšã§ã¯å¤§é‡ã«Pull requestãŒé£›ã‚“ã§ãã‚‹ã®ã§ã©ã®ãƒˆãƒ”ãƒƒã‚¯ãƒ–ãƒ©ãƒ³ãƒã¾ã§ãƒãƒ¼ã‚¸å‡ºæ¥ãŸã‹åˆ¤æ–­ã™ã‚‹ã®ã«æœ‰åŠ¹ã§ã™ã€‚\n$ git log --oneline --abbrev-commit --merges master ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã®é‹ç”¨ã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ•ãƒ­ãƒ¼ ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã¯ã‚ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ãƒã‚¹ã‚¿ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ä½œæˆã•ã‚Œã¾ã™ã€‚ã“ã®ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€ã‚µã‚¤ãƒˆé‹ç”¨ä¸­ã«å‡ºãŸä¸å…·åˆã®ä¿®æ­£ã‚„æ¬¡æœŸãƒªãƒªãƒ¼ã‚¹ã¾ã§ã®ç¹‹ãæ©Ÿèƒ½ã®é–‹ç™ºã‚’ã“ã®ãƒ–ãƒ©ãƒ³ãƒã§è¡Œã£ã¦ã„ãã¾ã™ã€‚\nã†ã¡ã¯ã‚µã‚¤ãƒˆã®æ€§è³ªä¸Šã€ä¸”ã¤ç¤¾å†…äº‹æƒ…çš„ã«ãƒªãƒªãƒ¼ã‚¹ã®é–“éš”ãŒã‹ãªã‚Šç©ºã„ã¦ã—ã¾ã†å ´åˆãŒå¤šã„ã®ã§ã€ãƒã‚¹ã‚¿ãƒ¼ãƒ–ãƒ©ãƒ³ãƒãŒæ¬¡æœŸãƒªãƒªãƒ¼ã‚¹ã«å‘ã‘ã¦ã®é–‹ç™ºç”¨ã€ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒãŒç¾è¡Œå®‰å®šç‰ˆã®ä¿å®ˆç”¨ã¨ã„ã†æ„Ÿã˜ã«ã—ã¦ã„ã¾ã™ã€‚\nåŸºæœ¬çš„ãªãƒ•ãƒ­ãƒ¼ã¯ãƒã‚¹ã‚¿ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã®é‹ç”¨ã¨åŒã˜ã§ã€é–‹ç™ºè€…ãŒãƒˆãƒ”ãƒƒã‚¯ãƒ–ãƒ©ãƒ³ãƒã‚’Pull requestã—ã€ç®¡ç†è€…ãŒå–ã‚Šè¾¼ã‚€æµã‚Œã«ãªã‚Šã¾ã™ã€‚ãƒã‚¹ã‚¿ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã§ã‚‚ç›´ã£ã¦ã„ãªã„ãƒã‚°ä¿®æ­£ã¯ã€cherry-pickã§ãƒã‚¹ã‚¿ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã«å–ã‚Šè¾¼ã‚€äº‹ã‚‚ã‚ã‚Šã¾ã™ã€‚\nä»Šå¾Œã®èª²é¡Œ è‹¥å¹²è«¦ã‚ã¦ã¯ã„ã‚‹ã®ã§ã™ãŒã€ãƒã‚¹ã‚¿ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã¨ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã®å†…å®¹ãŒå®Œå…¨ã«é•ã†ãƒ¢ãƒã«ãªã£ã¦ã„ã£ãŸæ™‚ã«cherry-pickã™ã‚‰å³ã—ããªã£ãŸã‚‰ã©ã†ã—ã‚ˆã†ã‹ãªãƒ»ãƒ»ãƒ»ã¨æ€ã£ã¦ãŸã‚Šã—ã¾ã™ã€‚ã¾ãã€ãã‚“ãªã«ãªã‚‹ã¾ã§ãƒªãƒªãƒ¼ã‚¹ã‚’æ¸©å­˜ã—ã¦ãŠããªã£ã¦è©±ãªã‚“ã§ã™ã‘ã©ã­â€¦ã€‚ç¤¾é¢¨ã®æ”¹é©ã¯é–‹ç™ºãƒ•ãƒ­ãƒ¼ã‚’å¤‰ãˆã‚‹ã‚ˆã‚Šå¤§å¤‰ã§ã™ã€‚\nã‚ã¨ã“ã®ãƒ•ãƒ­ãƒ¼ã¨Redmineã‚’ä½¿ã£ãŸTiDDã‚’ã©ã†ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«é€£æºã—ã¦ã„ãã‹ãŒç¾åœ¨æœ€å¤§ã®èª²é¡Œã¨ãªã£ã¦ã„ã¾ã™ã€‚ä¾‹ãˆã°ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã«closes #1ã£ã¦è¨˜è¿°ã—ãŸã‚³ãƒŸãƒƒãƒˆã‚’cherry-pickã§å„ãƒ–ãƒ©ãƒ³ãƒã«å–ã‚Šè¾¼ã‚€ã¨ã€äºŒé‡ã«å‡¦ç†ãŒèµ°ã£ãŸã‚Šãªã©â€¦ã€‚ã“ã®è¾ºã‚Šã¯ã¾ã æ‰‹æ¢ã‚Šã§ã™ã­ã€‚\nã¾ã¨ã‚ Gitã¯éå¸¸ã«æŸ”è»Ÿãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã ã¨æ€ã„ã¾ã™ã€‚ã“ã“ã§ç´¹ä»‹ã—ãŸé–‹ç™ºãƒ•ãƒ­ãƒ¼ä»¥å¤–ã«ã‚‚æ§˜ã€…ãªãƒ•ãƒ­ãƒ¼ãŒã‚ã‚Šã¾ã™ã®ã§ã€å‚è€ƒã«ã—ãªãŒã‚‰é–‹ç™ºç¾å ´ã«ã‚ã£ãŸã‚„ã‚Šæ–¹ã‚’è¦‹ã¤ã‘ã¦ã„ãã¨è‰¯ã„ã‚“ã˜ã‚ƒãªã„ã§ã—ã‚‡ã†ã‹ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/05/14/hirb-rails-console.html",
                "title": "hirb ã‚’å°å…¥ã—ã¦ rails console ã‚’å¿«é©ã«åˆ©ç”¨ã™ã‚‹",
                "section": "post",
                "date" : "2011.05.14",
                "body": "Rails 3: Fully Loaded | Intridea Blog ã§ hirb ã¨ã„ã† gem ãŒç´¹ä»‹ã•ã‚Œã¦ã„ãŸã®ã§è©¦ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚hirb ã¯ Rails Console ä¸Šã§ ActiveRecord ã®çµæœã‚’è¦‹ã‚„ã™ãæ•´å½¢ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã®ã‚ˆã†ã§ã™ã€‚\nle ã«ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ bundle install ã‚’å®Ÿè¡Œã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\ngroup :development do gem \u0026#39;hirb\u0026#39; gem \u0026#39;hirb-unicode\u0026#39; end ã‚ã¨ã¯ rails console ã‚’èµ·å‹•ã—ã¦ Hirb.enable ã¨æ‰“ã¤ã ã‘ã§ä½¿ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚\nruby-1.9.2-p180 \u0026gt; Hirb.enable =\u0026gt; true ruby-1.9.2-p180 \u0026gt; Prefecture.limit(3) Prefecture Load (0.3ms) SELECT `prefectures`.* FROM `prefectures` LIMIT 3 +----+--------+ | id | name | +----+--------+ | 1 | åŒ—æµ·é“ | | 2 | é’æ£®çœŒ | | 3 | å²©æ‰‹çœŒ | +----+--------+ 3 rows in set ã™ã°ã‚‰ã—ã„ï¼ã¡ãªã¿ã«ã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ãŒç‹­ã„å ´åˆã¯è‡ªå‹•ã§æ–‡å­—ã‚’çœç•¥ã™ã‚‹ã®ã§è¦‹ã«ãããªã‚‹ã“ã¨ã‚‚ç„¡ã•ãã†ã§ã™ã€‚\nruby-1.9.2-p180 \u0026gt; Gender.limit(3) Gender Load (0.4ms) SELECT `genders`.* FROM `genders` LIMIT 3 +----+------+---------------+---------------+ | id | name | created_at | updated_at | +----+------+---------------+---------------+ | 1 | å¥³æ€§ | 2011-04-27... | 2011-04-27... | | 2 | ç”·æ€§ | 2011-04-27... | 2011-04-27... | | 3 | ç§˜å¯† | 2011-04-27... | 2011-04-27... | +----+------+---------------+---------------+ 3 rows in set ç§ã¯æ¯å› Hirb.enable ã¨å…¥åŠ›ã™ã‚‹ã®ãŒé¢å€’ãªã®ã§ $HOME/.irbrc ã«æ›¸ã„ã¦è‡ªå‹•ã§å®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nif defined? Rails::Console ActiveRecord::Base.logger = Logger.new(STDOUT) ActiveResource::Base.logger = Logger.new(STDOUT) if defined? Hirb Hirb.enable end end "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/04/24/ubuntu-server-10-04-mogilefs.html",
                "title": "Ubuntu Server 10.04ã«åˆ†æ•£ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ  MogileFSã‚’å…¥ã‚Œã¦ã¿ãŸ",
                "section": "post",
                "date" : "2011.04.24",
                "body": "Ubuntu Server 10.04 ã« åˆ†æ•£ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã€ŒMogileFSã€ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼†åˆæœŸè¨­å®šã‚’ã—ã¦å‹•ä½œã™ã‚‹ã¨ã“ã‚ã¾ã§æ›¸ã„ã¦ã¿ã¾ã™ã€‚\nMogileFS ã«ã¯æ¬¡ã®ã‚ˆã†ãªç‰¹å¾´ãŒã‚ã‚Šã¾ã™ã€‚\n Perl ã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ HTTPã‚’åˆ©ç”¨ï¼ˆNFSã¨ã‹ä½¿ã‚ãªãã¦OKï¼‰ è‡ªå‹•ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ è‡ªå‹•ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ãã“ãã“å®Ÿç¸¾ãŒã‚ã‚‹ï¼ˆãŸã—ã‹ã¯ã¦ãªã§ã‚‚ä½¿ã‚ã‚Œã¦ã„ãŸã¯ãšï¼‰  ä»¥ä¸‹å‚è€ƒã«ã•ã›ã¦é ‚ã„ãŸã‚µã‚¤ãƒˆã§ã™ã€‚\n åˆ†æ•£ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ  MogileFS ã«ã¤ã„ã¦ : Tech Talk Blog â€“ Six Apart MogileFS ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨åˆæœŸè¨­å®š : Tech Talk Blog â€“ Six Apart MogileFSã§æ§‹ç¯‰ã™ã‚‹é«˜é€Ÿã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªåˆ†æ•£ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ  â€“ builder Perlbalã§MogileFSã‚’æ›´ã«é«˜é€ŸåŒ–ã€åŠ¹ç‡åŒ–ã™ã‚‹ â€“ builder OSSåˆ†æ•£ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ MogileFS ã§çµ„ã‚€ç´ æ•µã‚·ã‚¹ãƒ†ãƒ   å‹•ä½œç’°å¢ƒ  Ubuntu Server 10.04 LTS / 64bit MySQL 5.1 Perl 5.10.1  MogileFSãŒä¾å­˜ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ã‚’å…¥ã‚Œã‚‹ ã‚ã‚‰ã‹ã˜ã‚GCCã€MySQLã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã¾ã™ã€‚\nsudo apt-get install build-essential mysql-server-5.1 libmysqlclient16-dev æ¬¡ã«MogileFSã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’CPANã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ sudo cpan cpan[1]\u0026gt; install YAML capn[2]\u0026gt; install Net::Netmask cpan[3]\u0026gt; install Danga::Socket cpan[4]\u0026gt; install IO::AIO cpan[5]\u0026gt; install IO::WrapTie cpan[6]\u0026gt; install DBI cpan[7]\u0026gt; install DBD::mysql cpan[8]\u0026gt; install Perlbal MogileFSã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« MogileFS-Clientã®ã‚½ãƒ¼ã‚¹ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€å±•é–‹ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ cd /usr/local/src $ sudo wget http://search.cpan.org/CPAN/authors/id/D/DO/DORMANDO/MogileFS-Client-1.14.tar.gz $ sudo tar zxvf sudo tar zxvf MogileFS-Client-1.14.tar.gz $ cd MogileFS-Client-1.14/ $ sudo perl Makefile.PL $ sudo make $ sudo make install MogileFS-Utilsã®ã‚½ãƒ¼ã‚¹ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€å±•é–‹ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ cd /usr/local/src $ sudo wget http://search.cpan.org/CPAN/authors/id/D/DO/DORMANDO/MogileFS-Utils-2.19.tar.gz $ sudo tar zxvf MogileFS-Utils-2.19.tar.gz $ cd MogileFS-Utils-2.19/ $ sudo perl Makefile.PL $ sudo make $ sudo make install MogileFS-Serverã®ã‚½ãƒ¼ã‚¹ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€å±•é–‹ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ cd /usr/local/src $ sudo wget http://search.cpan.org/CPAN/authors/id/D/DO/DORMANDO/MogileFS-Server-2.46.tar.gz $ sudo tar zxvf MogileFS-Server-2.46.tar.gz $ cd MogileFS-Server-2.46/ $ sudo perl Makefile.PL $ sudo make $ sudo make install MogileFSã®åˆæœŸè¨­å®š DBã«ã‚¹ã‚­ãƒ¼ãƒã‚’ä½œæˆã—ã¾ã™ã€‚ä¸€ç™ºã§DBã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã—ã¦ãã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚‹ã®ã§åˆ©ç”¨ã—ã¾ã™ã€‚\nmogdbsetup --dbrootuser=root --dbrootpass=hogehoge --dbuser=mogilefs --dbpass=mogilefs --yes Trackerã®è¨­å®šï¼ˆmogilefsdï¼‰ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã ã¨ /etc/mogilefs/mogilefsd.conf ã‚’èª­ã¿ã«è¡Œãã¾ã™ã€‚ç‰¹ã«å¤‰æ›´ã™ã‚‹å¿…è¦ã‚‚ç„¡ã„ã®ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ã„ãã¾ã™ã€‚å¤‰æ›´ã—ãŸã„å ´åˆã¯ -c ã§æŒ‡å®šå‡ºæ¥ã¾ã™ã€‚\n$ sudo mkdir /etc/mogilefs /etc/mogilefs/mogilefsd.conf ã¯ã“ã®ãƒšãƒ¼ã‚¸ã‚’å‚è€ƒã«ã—ã¦æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\ndaemonize = 1 db_dsn = DBI:mysql:mogilefs:host=127.0.0.1 db_user = mogilefs db_pass = mogilefs conf_port = 7001 listener_jobs = 10 Trackerã¯ root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã¯å®Ÿè¡Œå‡ºæ¥ã¾ã›ã‚“ã®ã§ å°‚ç”¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œã£ã¦ã‚ã’ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nsudo useradd -s /bin/false mogilefs sudo -u mogilefs mogilefsd psã‚³ãƒãƒ³ãƒ‰ã§èµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèªã€‚\n$ ps ax | grep mogilefsd 11160 ? S 0:00 mogilefsd 11161 ? S 0:00 mogilefsd [replicate] 11162 ? S 0:00 mogilefsd [delete] 11163 ? S 0:00 mogilefsd [queryworker] 11164 ? S 0:00 mogilefsd [queryworker] 11165 ? S 0:00 mogilefsd [queryworker] 11166 ? S 0:00 mogilefsd [queryworker] 11167 ? S 0:00 mogilefsd [queryworker] 11168 ? S 0:00 mogilefsd [queryworker] 11169 ? S 0:00 mogilefsd [queryworker] 11170 ? S 0:00 mogilefsd [queryworker] 11171 ? S 0:00 mogilefsd [queryworker] 11172 ? S 0:00 mogilefsd [queryworker] 11173 ? S 0:00 mogilefsd [monitor] 11174 ? S 0:00 mogilefsd [reaper] 11175 ? S 0:00 mogilefsd [job_master] 11176 ? SN 0:00 mogilefsd [fsck] Storage nodeã®è¨­å®šï¼ˆmogstoredï¼‰ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã ã¨ /etc/mogilefs/mogstored.conf ã‚’èª­ã¿ã«è¡Œãã¾ã™ã€‚Trackerã¨åŒæ§˜ã€å¤‰æ›´ã—ãŸã„å ´åˆã¯ -c ã§æŒ‡å®šå‡ºæ¥ã¾ã™ã€‚\nhttplisten = 0.0.0.0:7500 mgmtlisten = 0.0.0.0:7501 docroot = /var/mogdata /etc/mogilefs/mogstored.conf ã§æŒ‡å®šã—ãŸdocrootã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™ã€‚\nsudo mkdir /var/mogdata Trackerã¨ã¯é•ã„Storage nodeã¯ root ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§èµ·å‹•ã•ã›ã¾ã™ã€‚\n$ sudo mogstored -d $ ps ax | grep mogstored 11209 ? Ss 0:00 mogstored 11210 ? S 0:00 mogstored [diskusage] 11211 ? S 0:00 mogstored [iostat] Storage node ã®ç™»éŒ² ä¸Šè¨˜ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»åˆæœŸè¨­å®šãŒçµ‚ã‚ã‚Œã°ã€ã‚ã¨ã¯mogadmã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦è¨­å®šã—ã¦ã„ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚\nTrackerãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹ã‹ç¢ºèªã€‚\n$ mogadm check Checking trackers... 127.0.0.1:7001 ... OK Checking hosts... No devices found on tracker(s). Trackerã¯OKã¨å‡ºã¦ã„ã¾ã™ãŒã€Checking hostsâ€¦ã§ã¯No devicesã¨å‡ºã¦ã—ã¾ã£ã¦ã„ã¾ã™ã®ã§ã€mogadm host add ã§ Storage node ã‚’ç™»éŒ²ã—ã¾ã™ã€‚\n$ mogadm host add localhost --port=7500 $ mogadm check Checking trackers... 127.0.0.1:7001 ... OK Checking hosts... [ 1] localhost ... skipping; status = down No devices found on tracker(s). Deviceã®ç™»éŒ² $ mogadm device add localhost 1 $ mogadm device add localhost 2 $ sudo mkdir /var/mogdata/{dev1,dev2} $ mogadm device list localhost [1]: down used(G) free(G) total(G) dev1: down 0.000 0.000 0.000 dev2: down 0.000 0.000 0.000 downã¨ãªã£ã¦ã„ã‚‹ã®ã§æœ‰åŠ¹ã«ã—ã¦ã‚ã’ã¾ã™ã€‚\n$ mogadm host mark localhost alive $ mogadm check Checking trackers... 127.0.0.1:7001 ... OK Checking hosts... [ 1] localhost ... OK Checking devices... host device size(G) used(G) free(G) use% ob state I/O% ---- ------------ ---------- ---------- ---------- ------ ---------- ----- [ 1] dev1 7.109 1.066 6.042 15.00% writeable 0.0 [ 1] dev2 7.109 1.066 6.042 15.00% writeable 0.0 ---- ------------ ---------- ---------- ---------- ------ total: 14.217 2.132 12.085 15.00% ã“ã‚Œã§ã‚ˆã†ã‚„ãMogileFSãŒä½¿ç”¨å¯èƒ½ã«ãªã‚Šã¾ã—ãŸï¼\nMogileFSã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯Perlä»¥å¤–ã§ã‚‚å‡ºã¦ã„ã¾ã™ã®ã§ã€åˆ†æ•£ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨ã—ã¦è‰²ã€…ä½¿ã„é“ãŒã‚ã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚ç§ã®ä¼šç¤¾ã§ã¯Railsã‚¢ãƒ—ãƒªã®ç”»åƒã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨ã—ã¦åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/04/19/rails3-1-1.html",
                "title": "Rails 3.1 ã‚’è©¦ã—ã¦ã¿ã‚‹ï¼ˆå°å…¥ç·¨ï¼‰",
                "section": "post",
                "date" : "2011.04.19",
                "body": "Rails3.1ã®æ©Ÿèƒ½ã‚’è©¦ã›ã‚‹ã¨èã„ãŸã®ã§ã€æ—©é€Ÿä¸‹è¨˜ã‚µã‚¤ãƒˆã‚’å‚è€ƒã«ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«å…¥ã‚Œã¦ã¿ã¾ã—ãŸã€‚å™‚ã®CoffeeScriptã‚„SCSSãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n edge rails(Rails 3.1)ã®æ–°æ©Ÿèƒ½ã‚’èª¿ã¹ã¦ã¿ã‚‹ â€“ ãŠã‚‚ã—ã‚WEBã‚µãƒ¼ãƒ“ã‚¹é–‹ç™ºæ—¥è¨˜  ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãã®1 rvmã«Rails3.1å°‚ç”¨ã®gemsetã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚Rubyã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ Ruby 1.9.2-p180 ã§ã™ã€‚\nrvm gemset create rails31 rvm gemset use rails31 ã“ã®çŠ¶æ…‹ã ã¨Rakeã—ã‹å…¥ã£ã¦ã„ã¾ã›ã‚“ã€‚\n$ gem list *** LOCAL GEMS *** rake (0.8.7) Railsã‚¢ãƒ—ãƒªç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™ã€‚\nmkdir rails_app cd rails_app vim Gemfile Gemfileã‚’ä½œã£ã¦Railsã®Githubãƒªãƒã‚¸ãƒˆãƒªã‚’æŒ‡å®šã—ã¾ã™ã€‚\n# Gemfile source \u0026#34;http://rubygems.org/\u0026#34; gem \u0026#39;rails\u0026#39;, :git =\u0026gt; \u0026#39;git://github.com/rails/rails.git\u0026#39; Bundlerã¨Rails3.1ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\ngem install bundler bundle install ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸRailsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n$ bundle exec rails -v Rails 3.1.0.beta ç„¡äº‹å…¥ã£ã¦ãã†ã§ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãã®2 RailsãŒå…¥ã£ãŸã“ã¨ã‚’ç¢ºèªå‡ºæ¥ãŸã‚‰ã€å®Ÿéš›ã«Railsã‚¢ãƒ—ãƒªã‚’ç”Ÿæˆã—ã¦ã¿ã¾ã™ã€‚å…ˆã»ã©ä½œæˆã—ãŸGemfileã¨ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã—ã¾ã™ãŒã€æ°—ã«ã›ãšä¸Šæ›¸ãã—ã¦ã—ã¾ã„ã¾ã—ã‚‡ã†ã€‚\n$ bundle exec rails new . exist create README create Rakefile create config.ru create .gitignore force Gemfile create app create app/assets/javascripts/application.js create app/assets/stylesheets/application.css create app/controllers/application_controller.rb create app/helpers/application_helper.rb create app/mailers create app/models create app/views/layouts/application.html.erb create app/mailers/.gitkeep create app/models/.gitkeep create config create config/routes.rb create config/application.rb create config/environment.rb create config/environments create config/environments/development.rb create config/environments/production.rb create config/environments/test.rb create config/initializers create config/initializers/backtrace_silencers.rb create config/initializers/inflections.rb create config/initializers/mime_types.rb create config/initializers/secret_token.rb create config/initializers/session_store.rb create config/locales create config/locales/en.yml create config/boot.rb create config/database.yml create db create db/seeds.rb create doc create doc/README_FOR_APP create lib create lib/tasks create lib/tasks/.gitkeep create log create log/.gitkeep create public create public/404.html create public/422.html create public/500.html create public/favicon.ico create public/index.html create public/robots.txt create public/images create public/images/rails.png create script create script/rails create test/fixtures create test/fixtures/.gitkeep create test/functional create test/functional/.gitkeep create test/integration create test/integration/.gitkeep create test/unit create test/unit/.gitkeep create test/performance/browsing_test.rb create test/test_helper.rb create tmp/cache create tmp/cache/.gitkeep create vendor/assets/javascripts/jquery.js create vendor/assets/javascripts/jquery_ujs.js create vendor/assets/stylesheets create vendor/assets/stylesheets/.gitkeep create vendor/plugins create vendor/plugins/.gitkeep æ–°ã—ãç”Ÿæˆã•ã‚ŒãŸGemfileã‚’çœºã‚ã¦ã¿ã¾ã™ã€‚\nsource \u0026#39;http://rubygems.org\u0026#39; gem \u0026#39;rails\u0026#39;, \u0026#39;3.1.0.beta\u0026#39; # Bundle edge Rails instead: # gem \u0026#39;rails\u0026#39;, :git =\u0026gt; \u0026#39;git://github.com/rails/rails.git\u0026#39; # gem \u0026#39;arel\u0026#39;, :git =\u0026gt; \u0026#39;git://github.com/rails/arel.git\u0026#39; # gem \u0026#39;rack\u0026#39;, :git =\u0026gt; \u0026#39;git://github.com/rack/rack.git\u0026#39; # gem \u0026#39;sprockets\u0026#39;, :git =\u0026gt; \u0026#34;git://github.com/sstephenson/sprockets.git\u0026#34; gem \u0026#39;sqlite3\u0026#39; # Asset template engines gem \u0026#39;sass\u0026#39;, \u0026#39;~\u0026gt; 3.1.0.alpha\u0026#39; gem \u0026#39;coffee-script\u0026#39; # Use unicorn as the web server # gem \u0026#39;unicorn\u0026#39; # Deploy with Capistrano # gem \u0026#39;capistrano\u0026#39; # To use debugger # gem \u0026#39;ruby-debug19\u0026#39;, :require =\u0026gt; \u0026#39;ruby-debug\u0026#39; group :test do # Pretty printed test output gem \u0026#39;turn\u0026#39;, :require =\u0026gt; false end ç›¸å¤‰ã‚ã‚‰ãšæ¨™æº–ã®DBã¯SQLite3ã®ã‚ˆã†ã§ã™ã€‚ã¾ãŸsassã¨coffee-scriptã®gemãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã­ã€‚ã•ã¦ã€ã“ã®ã¾ã¾bundle installã‚’å®Ÿè¡Œã™ã‚‹ã¨Rubygemsã«rails 3.1.0.betaâ€™ãªã‚“ã¦ç„¡ã„ã¨æ€’ã‚‰ã‚Œã¦ã—ã¾ã†ã®ã§ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã•ã‚Œã¦ã„ã‚‹Bundle edge Rails insteadä»¥ä¸‹ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚\n# gem \u0026#39;rails\u0026#39;, \u0026#39;3.1.0.beta\u0026#39; # Bundle edge Rails instead: gem \u0026#39;rails\u0026#39;, :git =\u0026gt; \u0026#39;git://github.com/rails/rails.git\u0026#39; gem \u0026#39;arel\u0026#39;, :git =\u0026gt; \u0026#39;git://github.com/rails/arel.git\u0026#39; gem \u0026#39;rack\u0026#39;, :git =\u0026gt; \u0026#39;git://github.com/rack/rack.git\u0026#39; gem \u0026#39;sprockets\u0026#39;, :git =\u0026gt; \u0026#34;git://github.com/sstephenson/sprockets.git\u0026#34; å†åº¦bundle installã‚’å®Ÿè¡Œã€‚\nbundle install Scaffoldã§ç”Ÿæˆã•ã‚ŒãŸã‚‚ã®ã‚’è¦—ã å®Ÿéš›ä½•ãŒå¤‰ã‚ã£ãŸã‹ã¯Scaffoldã§ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¦‹ã¦ã¿ã‚‹ã®ãŒä¸€ç•ªæ—©ã„ã¨æ€ã„ã¾ã™ã®ã§ã€é©å½“ã«ã‚¸ã‚§ãƒãƒ¬ãƒ¼ãƒˆã—ã¦ã¿ã¾ã™ã€‚\n$ bundle exec rails g scaffold article subject:string body:text invoke active_record create db/migrate/20110419121620_create_articles.rb create app/models/article.rb invoke test_unit create test/unit/article_test.rb create test/fixtures/articles.yml route resources :articles invoke scaffold_controller create app/controllers/articles_controller.rb invoke erb create app/views/articles create app/views/articles/index.html.erb create app/views/articles/edit.html.erb create app/views/articles/show.html.erb create app/views/articles/new.html.erb create app/views/articles/_form.html.erb invoke test_unit create test/functional/articles_controller_test.rb invoke helper create app/helpers/articles_helper.rb invoke test_unit create test/unit/helpers/articles_helper_test.rb create app/assets/stylesheets/scaffold.css.scss invoke assets create app/assets/javascripts/articles.js.coffee create app/assets/stylesheets/articles.css.scss ç¾çŠ¶ã®Rails Edgeã ã¨ã¾ã RSpecãŒæ¨™æº–ã«ã¯ãªã£ã¦ã„ãªã„ã‚ˆã†ã§ã™ã€‚ãã®ä»£ã‚ã‚Šapp/assetsã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒæ–°ãŸã«å‡ºç¾ã—ã¦ã„ã¦ã€ãã®ä¸­ã«.coffeeã¨.scssãªãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚\napp/assets/stylesheets/scaffold.css.scssã‚’è¦—ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\nbody { background-color: #fff; color: #333; } body, p, ol, ul, td { font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 18px; } pre { background-color: #eee; padding: 10px; font-size: 11px; } a { color: #000; \u0026amp;:visited { color: #666; } \u0026amp;:hover { color: #fff; background-color:#000; } } div.field, div.actions { margin-bottom: 10px; } #notice { color: green; } .field_with_errors { padding: 2px; background-color: red; display: table; } #error_explanation { width: 450px; border: 2px solid red; padding: 7px; padding-bottom: 0; margin-bottom: 20px; background-color: #f0f0f0; h2 { text-align: left; font-weight: bold; padding: 5px 5px 5px 15px; font-size: 12px; margin: -7px; margin-bottom: 0px; background-color: #c00; color: #fff; } ul li { font-size: 12px; list-style: square; } } ã¾ã¨ã‚ ä»Šå›ã¯Rails3.1ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€Scaffoldã®ç”Ÿæˆç‰©ã‚’çœºã‚ãŸã ã‘ã§ã™ã€‚ã€‚ã€‚å®Ÿã‚’è¨€ã†ã¨ã€ç§ã¯æœ€è¿‘ã¾ã§CoffeeScriptã‚‚SCSSã‚‚å®Œå…¨ã«ãƒãƒ¼ãƒãƒ¼ã‚¯ã§ã—ã¦ã€ä¸¡æ–¹ã¨ã‚‚ã•ã‚ã‚Šç¨‹åº¦ã—ã‹çŸ¥ã‚Šã¾ã›ã‚“ã§ã—ãŸ(^^; æ²¹æ–­ã™ã‚‹ã¨ã‚ã£ã¨ã„ã†é–“ã«ç½®ãå»ã‚Šã«ã•ã‚Œãã†ã§ã™ã€‚\næ¬¡å›ã¯CoffeeScriptã¨SCSSãŒã©ã‚Œãã‚‰ã„ä¾¿åˆ©ãªã®ã‹è‰²ã€…è§¦ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ï¼ˆå¤šåˆ†ï¼‰ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/04/04/patch-rails3-mail.html",
                "title": "RFCã«é•åã—ã¦ã„ã‚‹ï¼ˆãƒ‰ãƒƒãƒˆãŒé€£ç¶šã™ã‚‹ï¼‰ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’Rails3ã§æ‰±ã†ã«ã¯",
                "section": "post",
                "date" : "2011.04.04",
                "body": "Rails3ã®ActionMailerï¼ˆMailï¼‰ã§ã€DoCoMoã‚„auã«å­˜åœ¨ã™ã‚‹RFCé•åã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆ@ã®å‰ã«ãƒ‰ãƒƒãƒˆãŒé€£ç¶šã™ã‚‹ã‚„ã¤ï¼‰ã‚’å—ä¿¡ã™ã‚‹ã¨ãã®å¯¾å‡¦æ–¹æ³•ã‚’æ›¸ã„ã¦ãŠãã¾ã™ã€‚\nRails2ä»¥å‰ï¼ˆTMailï¼‰ã®ã¨ãã¯FromãŒnilã«ãªã£ã¦å–å¾—å‡ºæ¥ãªãã¦ã€ä»•æ–¹ãªããƒ‘ãƒ¼ã‚µã‚’æ›¸ãæ›ãˆã‚‹ã¨ã„ã†çµæ§‹é¢å€’ãªäº‹ã‚’ã—ã¦ã„ã¾ã—ãŸãŒã€Rails3ã§ã¯ä¸€å¿œå–å¾—ã™ã‚‹ã“ã¨ã¯å‡ºæ¥ã¾ã™ã€‚ãŸã ã—ã€Fromã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«ã‚ˆã£ã¦æŒ™å‹•ãŒå¤‰ã‚ã£ã¦ãã¾ã™ã®ã§æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\nå…·ä½“çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n# é€šå¸¸ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å ´åˆ ruby-1.9.2-p180 \u0026gt; mail.from =\u0026gt; [\u0026quot;d.akatsuka@gmail.com\u0026quot;] ruby-1.9.2-p180 \u0026gt; mail.from.class =\u0026gt; Mail::AddressContainer # @ã®å‰ã«ãƒ‰ãƒƒãƒˆãŒé€£ç¶šã™ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å ´åˆ ruby-1.9.2-p180 \u0026gt; mail.from =\u0026gt; d.akatsuka...@gmail.com ruby-1.9.2-p180 \u0026gt; mail.from.class =\u0026gt; ActiveSupport::Multibyte::Chars # @ã®å‰ã«ãƒ‰ãƒƒãƒˆãŒé€£ç¶šã—ã€ã‹ã¤åå‰ãŒå…¥ã£ã¦ã„ã‚‹å ´åˆ ruby-1.9.2-p180 \u0026gt; mail.from =\u0026gt; Dai Akatsuka \u0026lt;d.akatsuka...@gmail.com\u0026gt; ruby-1.9.2-p180 \u0026gt; mail.from.class =\u0026gt; ActiveSupport::Multibyte::Chars # @ã®å‰ã«ãƒ‰ãƒƒãƒˆãŒé€£ç¶šã—ã€ã‹ã¤ãƒãƒ«ãƒãƒã‚¤ãƒˆãªåå‰ãŒå…¥ã£ã¦ã„ã‚‹å ´åˆ ruby-1.9.2-p180 \u0026gt; mail.from =\u0026gt; \u0026quot;èµ¤å¡š \u0026lt;d.akatsuka...@gmail.com\u0026gt;\u0026quot; ruby-1.9.2-p180 \u0026gt; mail.from.class =\u0026gt; String ã“ã€ã“ã‚Œã¯é¢å€’è‡­ã„ï¼ˆ# ï¼¾Ï‰ï¼¾ï¼‰\nFromã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«ã‚ˆã£ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¾ã§å¤‰ã‚ã£ã¦ã—ã¾ã†ã¨æ‰±ã†ã®ãŒé¢å€’ã§ã™ã€‚ï¼ˆã—ã‹ã‚‚ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã ã‘ã§ã¯ãªãã¦åå‰ã¾ã§å–å¾—ã—ã¦ã—ã¾ã†ã¨ã„ã†ã€‚ã€‚ï¼‰\nãã“ã§ã©ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ¥ã¦ã‚‚ã€Fromã‚’Stringã§å–å¾—å‡ºæ¥ã‚‹ãƒ‘ãƒƒãƒã‚’æ›¸ãã¾ã—ãŸã€‚\n# coding: utf-8 module Mail class Message def from_with_patch_rfc_violation str = from_without_patch_rfc_violation begin str = str.join rescue str = str.to_s end str.scan(/^.*?([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+?)(?![a-zA-Z0-9._-]).*$/).flatten.first end alias_method_chain :from, :patch_rfc_violation end end ä¸Šè¨˜ãƒ‘ãƒƒãƒã‚’ config/initializers ã« mail_patch.rb ã¨ã—ã¦ä¿å­˜ã™ã‚‹ã ã‘ã§OKã§ã™ã€‚\nruby-1.9.2-p180 \u0026gt; mail.from =\u0026gt; \u0026#34;d.akatsuka...@gmail.com\u0026#34; ruby-1.9.2-p180 \u0026gt; mail.from.class =\u0026gt; String ä¸€å¿œæŸã‚µã‚¤ãƒˆã«ä»•è¾¼ã‚“ã§2é€±é–“ã»ã©çµŒéã—ã¦ã„ã¾ã™ãŒã€ç‰¹ã«ä¸å…·åˆã¯å‡ºã¦ã„ãªã„ã‚ˆã†ã§ã™ã€‚ã‚‚ã—åŒæ§˜ã®ä»¶ã§å›°ã£ã¦ã„ã‚‹æ–¹ãŒå±…ã¾ã—ãŸã‚‰ãŠè©¦ã—ãã ã•ã„ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/02/22/rails3-helpers.html",
                "title": "Rails3ã§ãƒ“ãƒ¥ãƒ¼ä»¥å¤–ã‹ã‚‰ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚’å‘¼ã³å‡ºã™æ–¹æ³•",
                "section": "post",
                "date" : "2011.02.22",
                "body": "ä¾‹ãˆã°ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚„ãƒ¢ãƒ‡ãƒ«ã€ã‚‚ã—ãã¯ãƒãƒƒãƒå‡¦ç†ã§ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚’ä½¿ã„ãŸã„æ™‚ãŒãŸã¾ã«ã‚ã‚‹ã‚“ã§ã™ã‚ˆã­ã€‚ã„ã¤ã‚‚å¿˜ã‚Œã¦ã—ã¾ã†ã®ã§ãƒ–ãƒ­ã‚°ã«æ®‹ã—ã¦ãŠãã¾ã™ã€‚\nApplicationController.helpers.image_tag( ..... ) "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/02/09/ruby-decoration-mail.html",
                "title": "Rubyã§ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«ã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œã£ã¦ã¿ãŸ",
                "section": "post",
                "date" : "2011.02.09",
                "body": "ãƒ¢ãƒã‚¤ãƒ«ã‚µã‚¤ãƒˆã‚’é–‹ç™ºãƒ»é‹å–¶ã—ã¦ã„ã‚‹ã¨å‰²ã¨æ—©ã„æ®µéšã§ä¸ŠãŒã£ã¦ãã‚‹è¦æœ›ãŒã‚ã‚Šã¾ã™ã€‚\nãã‚Œã¯ã€Œãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«ã«å¯¾å¿œã—ãŸã„ã€\næ‚ªåé«˜ã„ã€Œã‹ã‚“ãŸã‚“ãƒ­ã‚°ã‚¤ãƒ³ã€ã®æ¬¡ãã‚‰ã„ã«å¤šã„å°è±¡ã§ã™ã€‚ä»Šå›ã¯ã“ã®ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«ã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œæˆã—ã¦ã¿ã¾ã—ãŸã€‚ä»Šã®ã¨ã“ã‚ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«ã®ä½œæˆã¾ã§ã¯æƒ³å®šã—ã¦ã„ã¾ã›ã‚“ãŒã€è‡ªåˆ†ãŒå¿…è¦ã«ãªã£ãŸã‚‰å®Ÿè£…ã—å‡ºã™ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼ˆç¬‘ï¼‰\nãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç‰¹å¾´  Rails3ã‹ã‚‰æ¡ç”¨ã•ã‚ŒãŸActionMailerã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã€Mailãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å°‘ã—æ‹¡å¼µã—ã¦åˆ©ç”¨ã—ã¾ã™ã€‚ ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«ã®HTMLã‚’XHTMLã¨ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³CSSã«å¤‰æ›ã—ã¾ã™ã€‚ ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«ã®HTMLã‹ã‚‰HTMLã‚¿ã‚°ã€HEADã‚¿ã‚°ã€BODYã‚¿ã‚°ãŒå‰Šé™¤ã•ã‚Œã¦æœ¬æ–‡ã®ã¿å–å¾—å‡ºæ¥ã¾ã™ã€‚ ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«ç”»åƒã®URLã‚’Content-IDã‹ã‚‰è‡ªå‹•ã§ãƒ•ã‚¡ã‚¤ãƒ«åã«ç½®ãæ›ãˆã¾ã™ï¼ˆå¤‰æ›´å¯èƒ½ï¼‰ã€‚ DoCoMo / au / SoftBankã‹ã‚‰é€ã‚‰ã‚Œã¦ãã‚‹ãƒ¡ãƒ¼ãƒ«ã‚’ãƒ‘ãƒ¼ã‚¹å‡ºæ¥ã¾ã™ã€‚  å‹•ä½œç’°å¢ƒ Ruby 1.9.2-136 ã§å‹•ä½œæ¤œè¨¼ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ã¾ã è©¦ã—ã¦ã¾ã›ã‚“ãŒ1.8.7ã§ã‚‚å‹•ä½œã™ã‚‹ã¨æ€ã‚ã‚Œã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« gemã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\ngem install decoration_mail ã‚‚ã—ãã¯Githubã®ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰cloneã—ã¦ãã¾ã™ã€‚\ngit clone git://github.com/dakatsuka/decoration_mail.git ä½¿ç”¨æ–¹æ³• Mail::Messageã‚¯ãƒ©ã‚¹ã«decorationã¨ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã¦ã„ã¦ã€ãã‚Œã‚’å‘¼ã³å‡ºã™äº‹ã«ã‚ˆã£ã¦ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«ã‚’ãƒ‘ãƒ¼ã‚¹ã—ãŸçµæœã‚’è¿”ã—ã¾ã™ã€‚ä½¿ã„æ–¹ã¯ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã®é€šã‚Šã§ã™ã€‚\n# coding: utf-8 require \u0026#39;rubygems\u0026#39; require \u0026#39;mail\u0026#39; require \u0026#39;decoration_mail\u0026#39; # æ™®é€šã¯æ¨™æº–å…¥åŠ›ã‹ã‚‰å—ã‘å–ã‚‹ã¨æ€ã„ã¾ã™ã€‚ # Rails3ãªã‚‰receiveãƒ¡ã‚½ãƒƒãƒ‰å†…ã§æ—¢ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¨ã—ã¦å­˜åœ¨ã—ã¦ã‚‹ã¯ãšã§ã™ã€‚ @mail = Mail.read(\u0026#34;/path/to/sample.eml\u0026#34;) @deco = @mail.decoration @html = @deco.save do |image| File.open(\u0026#34;/path/to/#{image.filename}\u0026#34;, \u0026#34;wb\u0026#34;) {|f| f.write(image.body)} end puts @html # =\u0026gt; \u0026#39;\u0026lt;div style=\u0026#34;......\u0026#39; # ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ï¼ˆXHTMLï¼‰ saveãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­ã§ä½¿ãˆã‚‹ãƒ–ãƒ­ãƒƒã‚¯å¤‰æ•°ã¯ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«ç”»åƒã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒæ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ãƒ–ãƒ­ãƒƒã‚¯å¤‰æ•°ã§ã¯ä¸‹è¨˜ãƒ¡ã‚½ãƒƒãƒ‰ãŒä½¿ç”¨å¯èƒ½ã§ã™ã€‚\n@html = @deco.save do |image| image.content_id # =\u0026gt; Content-ID ä¾‹ï¼š cid:xxxxxx image.filename # =\u0026gt; ç”»åƒã®ãƒ•ã‚¡ã‚¤ãƒ«å image.body # =\u0026gt; ç”»åƒãƒ‡ãƒ¼ã‚¿ end ã¾ãŸpathã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ç”»åƒã®URLã‚’ä»»æ„ã«æŒ‡å®šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ï¼ˆæŒ‡å®šã—ãªã„å ´åˆã¯ç”»åƒã®ãƒ•ã‚¡ã‚¤ãƒ«åã«ãªã‚Šã¾ã™ï¼‰ã€‚\n@html = @deco.save do |image| image.path = \u0026#34;http://image.example.com/#{image.filename}\u0026#34; end puts @html # =\u0026gt; \u0026lt;img\u0026gt;ã‚¿ã‚°ã®srcãŒå¤‰ã‚ã‚‹ ã•ã‚‰ã«saveãƒ¡ã‚½ãƒƒãƒ‰ã«other_imagesã¨ã„ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«å†…ã§ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„æ·»ä»˜ç”»åƒã‚’ãƒ‡ã‚³ãƒ¡ã«è²¼ã‚Šä»˜ã‘ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚\n# ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«ã®ä¸Šéƒ¨ã«æŒ¿å…¥ @html = @deco.save(:other_images =\u0026gt; :top) do |image| end # ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«ã®ä¸‹éƒ¨ã«æŒ¿å…¥ @html = @deco.save(:other_images =\u0026gt; :bottom) do |image| end puts @html # =\u0026gt; å‡ºåŠ›ã•ã‚Œã‚‹XHTMLã«æ·»ä»˜ç”»åƒã®IMGã‚¿ã‚°ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚ ãƒ‡ã‚³ãƒ¡ãƒ¼ãƒ«ã§ä½¿ç”¨ã—ã¦ã„ãªã„ç”»åƒã‚’ç„¡è¦–ã—ãŸã„å ´åˆã¯ã€image.content_idãŒnilã‹ã©ã†ã‹ã§åˆ¤å®šå‡ºæ¥ã¾ã™ã€‚\nif image.content_id else end ä»¥ä¸Šã§ã™ï¼ã¾ã ä½œã£ãŸã°ã‹ã‚Šï¼†æ‰‹å…ƒã®å®Ÿæ©ŸãŒæ•°å°ã—ã‹ç„¡ã„ãŸã‚ãƒã‚°ãŒå‡ºã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã€‚ã€‚ã€‚ãã®æ™‚ã¯æ˜¯éTwitterã€ã‚‚ã—ãã¯GithubçµŒç”±ã§å ±å‘Šã—ã¦é ‚ã‘ã‚‹ã¨å¹¸ã„ã§ã™ã€‚\nGithub: https://github.com/dakatsuka/decoration_mail\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2011/01/24/rails3-jpmobile-cucumber.html",
                "title": "Ruby1.9 + Rails3 + jpmobileã§æ§‹ç¯‰ã—ãŸã‚µã‚¤ãƒˆã‚’cucumberã§ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®Tips",
                "section": "post",
                "date" : "2011.01.24",
                "body": "åœ°å‘³ã«è‹¦æˆ¦ã—ãŸã®ã§ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚ã“ã‚Œã ã‹ã‚‰æºå¸¯å‘ã‘ã‚µã‚¤ãƒˆã¯å¤§å¤‰ãƒ»ãƒ»ãƒ»\né–‹ç™ºç’°å¢ƒ\n Ruby 1.9.2-p136 Ruby on Rails 3.0.3 jpmobile 0.1.4 cucumber 0.10.0 ( capybara 0.4.0 )  ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« cucumberã‚’å‹•ã‹ã™ãŸã‚ã®gemã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ä»Šå›ã¯ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«capybaraã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ï¼ˆWebratã¯Rails3ã ã¨ã†ã¾ãå‹•ãã¾ã›ã‚“ã§ã—ãŸï¼‰\n# Gemfile group :test do gem \u0026#39;rspec-rails\u0026#39; gem \u0026#39;cucumber-rails\u0026#39; gem \u0026#39;capybara\u0026#39; end Bundlerã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€cucumberã‚’Railsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«çµ„ã¿è¾¼ã¿ã¾ã™ã€‚\nbundle install rails g cucumber:install ja --rspec --capybara capybaraã®UserAgentã‚’å½è£…ã™ã‚‹ ãƒ¢ãƒã‚¤ãƒ«ã‚µã‚¤ãƒˆã®ãƒ†ã‚¹ãƒˆãªã®ã§ã€UAã‚’å½è£…ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„ã¨ã“ã‚ã§ã™ã€‚ã¨ã“ã‚ãŒcapybaraã¯ã€HTTPãƒ˜ãƒƒãƒ€ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹æ©Ÿèƒ½ãŒæ¨™æº–ã§ã¯å‚™ã‚ã£ã¦ã„ãªã„ã‚ˆã†ãªã®ã§ã€è‡ªåŠ›ã§ä½•ã¨ã‹ã—ãªã„ã¨ã„ã‘ã¾ã›ã‚“ã€‚ã‚°ã‚°ã£ã¦ã¿ã‚‹ã¨ã€Testing custom headers and ssl with Cucumber and Capybara ã¨ã„ã†è¨˜äº‹ã‚’ç™ºè¦‹ã—ã¾ã—ãŸã€‚ã“ã“ã«capybaraã§HTTPãƒ˜ãƒƒãƒ€ã‚’å¤‰ãˆã‚‹æ–¹æ³•ãŒæ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚\nã“ã®è¨˜äº‹ã‚’å‚è€ƒã«ä¸‹è¨˜ã‚½ãƒ¼ã‚¹ã‚’ features/support/headers_hack.rb ã«ä¿å­˜ã—ã¾ã™ã€‚\nmodule RackTestMixin def self.included(mod) mod.class_eval do # This is where we save additional entries. def hacked_env @hacked_env ||= {} end # Alias the original method for further use. alias_method :original_env, :env # Override the method to merge additional headers. # Plus this implicitly makes it public. def env original_env.merge(hacked_env) end end end end Capybara::Driver::RackTest.send :include, RackTestMixin module HeadersHackHelper def add_headers(headers) page.driver.hacked_env.merge!(headers) end end World(HeadersHackHelper) ãã—ã¦ã€features/step_definitions/mobile_support.rb ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ã€ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚\n# coding: utf-8 å‰æ /^æºå¸¯ç«¯æœ«ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹$/ do add_headers({\u0026#39;HTTP_USER_AGENT\u0026#39; =\u0026gt; \u0026#39;KDDI-CA39 UP.Browser/6.2.0.13.1.5 (GUI) MMP/2.0\u0026#39;, \u0026#39;HTTP_X_UP_SUBNO\u0026#39; =\u0026gt; \u0026#39;subscriber\u0026#39;}) end ã“ã‚Œã§ã€å„ã‚·ãƒŠãƒªã‚ªã®å‰æã«ã€Œæºå¸¯ç«¯æœ«ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ã€ã¨æ›¸ãã“ã¨ã«ã‚ˆã£ã¦UAãŒå½è£…ã•ã‚ŒãŸçŠ¶æ…‹ã§ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\nã¡ãªã¿ã«å½è£…ã™ã‚‹UAã¯ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»ã‚¯ãƒƒã‚­ãƒ¼ã®ä»•æ§˜ä¸Šã€DoCoMoã§ã¯ãªãauã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚\ninvalid byte sequence in Shift_JIS ã‚’é»™ã‚‰ã›ã‚‹ capybaraã®ä»•æ§˜ãªã®ã‹cucumberã®ä»•æ§˜ãªã®ã‹åˆ†ã‹ã‚‰ãªã„ã®ã§ã™ãŒã€ãƒ•ã‚©ãƒ¼ãƒ ã§å…¥åŠ›ã•ã‚Œã‚‹æ–‡å­—ã¯UTF-8å›ºå®šã«ãªã‚‹ã‚ˆã†ã§ã™ã€‚\njpmobileã®mobile_filterã‚’æœ‰åŠ¹ã«ã—ã¦ã„ã‚‹ã¨ã€åŠè§’ã‚«ã‚¿ã‚«ãƒŠãªã©ãŒæ··ã–ã£ãŸãƒ‡ãƒ¼ã‚¿ãŒãƒã‚¹ãƒˆã•ã‚ŒãŸæ™‚ã« invalid byte sequence in Shift_JIS ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã‚Œã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã€ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹æ™‚ã®ã¿mobile_filterã‚’å‹•ä½œã•ã›ãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚è‹¥å¹²ç„¡ç†çŸ¢ç†ã§ã™ãŒã€config/application.rb ã® mobile_filter å‘¼ã³å‡ºã—ç®‡æ‰€ã‚’æ¬¡ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚\nunless Rails.env == \u0026#34;test\u0026#34; config.jpmobile.mobile_filter config.jpmobile.form_accept_charset_conversion = true end ä»¥ä¸Šã§ã€é€šå¸¸ã®ã‚µã‚¤ãƒˆã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹æ„Ÿã˜ã§ãƒ¢ãƒã‚¤ãƒ«ã‚µã‚¤ãƒˆã‚‚ãƒ†ã‚¹ãƒˆå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚‹ã¯ãšã§ã™ã€‚\nä½•ã‹é–“é•ã£ã¦ã„ã‚‹ç®‡æ‰€ã‚„ã‚‚ã£ã¨ãƒ™ã‚¹ãƒˆãªæ–¹æ³•ãŒã‚ã£ãŸã‚‰æ•™ãˆã¦ä¸‹ã•ã„ï¼\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2010/12/23/rails3-cover-me.html",
                "title": "Rails3 + cover_me ã§ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸",
                "section": "post",
                "date" : "2010.12.23",
                "body": "Ruby 1.9 + Rails3 ã§ rcov ãŒã†ã¾ãå‹•ã‹ãªã‹ã£ãŸã®ã§ cover_me ã¨ã„ã†ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ã¿ã‚‹äº‹ã«ã—ã¾ã—ãŸã€‚\nGemfileã«ä¸‹è¨˜è¡Œã‚’è¿½åŠ ã—ã¦ã€\ngem \u0026#34;cover_me\u0026#34; ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ bundle install $ rails g cover_me:install ã‚ã¨ã¯ã„ã¤ã‚‚é€šã‚Šrake specã‚’å®Ÿè¡Œã™ã‚Œã°ã€è‡ªå‹•ã§coverageãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œãã®ä¸­ã«ã‚«ãƒãƒ¬ãƒƒã‚¸çµæœãŒæ ¼ç´ã•ã‚Œã¾ã™ï¼ˆHTMLå½¢å¼ï¼‰ã€‚\nãŠæ‰‹è»½ã§ã™ï¼\nã¡ãªã¿ã«Macã§ã¯ãƒ†ã‚¹ãƒˆçµ‚äº†å¾Œè‡ªå‹•ã§ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ã¦HTMLã‚’è¡¨ç¤ºã—ã¦ãã‚Œã¾ã—ãŸãŒã€Ubuntuã§ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸãŸã‚ã€ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã‚’lib/tasks/cover_me.rakeã®å…ˆé ­ã«è¿½åŠ ã—ã¦è‡ªå‹•ã§ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ãªã„ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\nCoverMe.config do |c| c.at_exit = Proc.new {} end "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2010/11/29/activerecord-dirty.html",
                "title": "ActiveRecordã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å±æ€§å¤‰æ›´ã‚’ç¢ºèªãƒ»å–å¾—ã™ã‚‹",
                "section": "post",
                "date" : "2010.11.29",
                "body": "ActiveRecordï¼ˆRails3ã ã¨ActiveModelï¼‰ã¯ã€è‡ªåˆ†è‡ªèº«ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå¤‰æ›´ã•ã‚ŒãŸã‹ã©ã†ã‹ã€ã¾ãŸã©ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã©ã®ã‚ˆã†ã«å¤‰æ›´ã•ã‚ŒãŸã®ã‹ãªã©ã‚’å–å¾—ã™ã‚‹æ©Ÿèƒ½ãŒå‚™ã‚ã£ã¦ã„ã¾ã™ã€‚\nç®¡ç†ç”»é¢ã§æ“ä½œãƒ­ã‚°ãªã©ã‚’å®Ÿè£…ã™ã‚‹æ™‚ã«å½¹ç«‹ã¡ãã†ã§ã™ã€‚\nå¤‰æ›´ç„¡ã—ï¼š\n@user = User.find_by_email(\u0026#34;old@exmaple.com\u0026#34;) @user.changed? # =\u0026gt; false @user.changes # =\u0026gt; {} emailã‚’å¤‰æ›´ã—ã¦ã¿ã‚‹ï¼š\n@user = User.find_by_email(\u0026#34;old@exmaple.com\u0026#34;) @user.email = \u0026#34;new@exmaple.com\u0026#34; @user.changed? # =\u0026gt; true @user.changes # =\u0026gt; {\u0026#34;email\u0026#34;=\u0026gt;[\u0026#34;old@exmaple.com\u0026#34;, \u0026#34;new@exmaple.com\u0026#34;]} @user.email_change # =\u0026gt; [\u0026#34;old@exmaple.com\u0026#34;, \u0026#34;new@example.com\u0026#34;] @user.email_was # =\u0026gt; \u0026#34;old@exmaple.com\u0026#34; "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2010/11/22/sharing-sessions-rails2-rails3.html",
                "title": "Rails2ã¨Rails3ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å…±æœ‰ã™ã‚‹",
                "section": "post",
                "date" : "2010.11.22",
                "body": "ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒç•°ãªã‚‹Rails2ã‚¢ãƒ—ãƒªã¨Rails3ã‚¢ãƒ—ãƒªã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å…±æœ‰ã—ãŸã„å ´åˆã€Cookie Session Storeã«äº’æ›æ€§ãŒç„¡ã„ã¿ãŸã„ã§ãã®ã¾ã¾å…±æœ‰ã—ã‚ˆã†ã¨ã™ã‚‹ã¨å•é¡ŒãŒç™ºç”Ÿã—ã¾ã™ã€‚\nå…·ä½“çš„ã«ã©ã†ã„ã†å•é¡ŒãŒã‚ã‚‹ã‹ã¨ã„ã†ã¨ã€\n Rails2ã¯Cookieã®Keyã‚’Symbolã¨ã—ã¦æ‰±ã†ã€‚ã—ã‹ã—Rails3ã¯Stringã¨ã—ã¦æ‰±ã£ã¦ã„ã‚‹ã€‚ Flashå‘¨ã‚Šã¯ä½•ã¨ãƒãƒ¼ã‚·ãƒ£ãƒ«ã—ã¦Cookieã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã€‚Rails2ã¨Rails3ã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»ã‚¯ãƒ©ã‚¹åãŒç•°ãªã£ã¦ã„ã‚‹ã®ã§ã‚¢ãƒ³ãƒãƒ¼ã‚·ãƒ£ãƒ«æ™‚ã«uninitialized constantãŒç™ºç”Ÿã™ã‚‹ã€‚  ã¾ãš1ã¤ç›®ã®å•é¡Œã§ã™ãŒã€å¹¸ã„ãªã“ã¨ã«Rails3ã¯KeyãŒSymbolã§ã‚‚èª­ã¿è¾¼ã¿ãŒå¯èƒ½ã§ã™ã€‚ãŸã ã—ä¸€åº¦ã§ã‚‚èª­ã¿è¾¼ã‚€ã¨Stringã«å¤‰æ›ã•ã‚Œã¦Rails2ã‹ã‚‰ã¯èª­ã‚ãªããªã‚Šã¾ã™ã€‚ã¨ã„ã†ã“ã¨ã¯ã€Rails2ã§StringãªKeyã‚’èªè­˜å‡ºæ¥ã‚‹ã‚ˆã†ã«ã™ã‚Œã°ã€ã“ã®å•é¡Œã¯è§£æ±ºå‡ºæ¥ãã†ã§ã™ã€‚\n2ã¤ç›®ã®å•é¡Œã¯ã€åŒæ–¹ã«å­˜åœ¨ã—ãªã„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»ã‚¯ãƒ©ã‚¹ã‚’äºˆã‚å®šç¾©ã—ã¦ãŠã‘ã°ã‚¨ãƒ©ãƒ¼ã¯å‡ºãªã„ã¯ãšã§ã™ã€‚\nä»¥ä¸Šã‚’è¸ã¾ãˆã¦Rails2ã€Rails3ã«ãƒ¢ãƒ³ã‚­ãƒ¼ãƒ‘ãƒƒãƒã‚’å½“ã¦ã¾ã™ã€‚\nRails2å´ config/initializersã«accept_rails3_session.rbãªã©é©å½“ã«åå‰ã‚’ã¤ã‘ã¦ä¸‹è¨˜ã‚½ãƒ¼ã‚¹ã‚’ã‚³ãƒ”ãƒšã—ã¾ã™ã€‚\nmodule ActionDispatch module Flash class FlashHash \u0026lt; Hash def method_missing(m, *a, \u0026amp;b) end end end end module ActionController module Session class CookieStore private def unmarshal(cookie) if cookie data = persistent_session_id!(@verifier.verify(cookie)) data.symbolize_keys! end rescue ActiveSupport::MessageVerifier::InvalidSignature nil end def requires_session_id?(data) if data data.respond_to?(:key?) \u0026amp;\u0026amp; !data.key?(:session_id) \u0026amp;\u0026amp; !data.key?(\u0026#34;session_id\u0026#34;) else true end end end end end config/initializers/session_store.rbã‚’é–‹ãã€:keyã€:secretã€:domainã‚’è¨­å®šã—ã¾ã™ã€‚ã“ã®3ã¤ã¯Rails3å´ã‚‚åŒã˜ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nActionController::Base.session = { :key =\u0026gt; \u0026#39;_session\u0026#39;, :secret =\u0026gt; \u0026#39;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u0026#39;, :domain =\u0026gt; \u0026#39;.example.com\u0026#39; } Rails3å´ config/initializersã«accept_rails2_session.rbãªã©é©å½“ã«åå‰ã‚’ã¤ã‘ã¦ä¸‹è¨˜ã‚½ãƒ¼ã‚¹ã‚’ã‚³ãƒ”ãƒšã—ã¾ã™ã€‚\nmodule ActionController module Flash class FlashHash \u0026lt; Hash def method_missing(m, *a, \u0026amp;b) end end end end config/initializers/session_store.rbã‚’é–‹ãã€:keyã¨:domainã‚’Rails2å´ã§è¨­å®šã—ãŸå€¤ã¨åŒã˜å€¤ã«ã—ã¾ã™ã€‚\nAppName::Application.config.session_store :cookie_store, :key =\u0026gt; \u0026#39;_session\u0026#39;, :domain =\u0026gt; \u0026#39;.example.com\u0026#39; config/initializers/secret_token.rbã‚’é–‹ãã€Rails2å´ã§è¨­å®šã—ãŸ:secretã¨åŒã˜å€¤ã«ã—ã¾ã™ã€‚\nAppName::Application.config.secret_token = \u0026#39;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u0026#39; ä»¥ä¸Šã§ã™ï¼ã“ã‚Œã§Rails2ã¨Rails3ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å…±æœ‰å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã¾ã æ®‹ã‚‹å•é¡Œç‚¹  Rails2å´ãŒRuby1.8.xã§Rails3å´ãŒRuby1.9.2ã®æ§‹æˆã§ã€Rails2ã§ä½œæˆã—ãŸFlash Messageã‚’Rails3å´ã§èª­ã¿å‡ºã™ã¨incompatible character encodingsã«ãªã‚Šã¾ã™ã€‚ Rails2å´ã§ä½œæˆã—ãŸFlash Messageã‚’Rails3å´ã§å‘¼ã³å‡ºã™ã¨FlashãŒæ¶ˆãˆã¦ãã‚Œã¾ã›ã‚“ã€‚  Flashå‘¨ã‚Šã¯ã‚‚ã†å°‘ã—è€ƒãˆãªã„ã¨å³ã—ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã€‚ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2010/11/14/rvm-gemset.html",
                "title": "RVMã®gemsetã‚’ä½¿ã£ã¦ã¿ã‚‹",
                "section": "post",
                "date" : "2010.11.14",
                "body": "Rubyã®é–‹ç™ºç’°å¢ƒã«RVMã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã¯ã€bundle install â€“pathã‚’ä½¿ã†ã‚ˆã‚Šã‚‚gemsetã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã£ãŸã»ã†ãŒãŠæ‰‹è»½ã«ç®¡ç†å‡ºæ¥ã‚‹ã¿ãŸã„ã§ã™ã€‚\n$ rvm gemset create hoge-project $ rvm gemset use hoge-project $ bundle install ã©ã®gemsetã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹ç¢ºèª\n$ rvm gemset name hoge-project gemsetã®ä¸€è¦§ã‚’è¡¨ç¤º\n$ rvm gemset list gemsets : for ruby-1.9.2-p0 (found in /home/user/.rvm/gems/) global hoge-project "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2010/11/09/bundle-install.html",
                "title": "bundle installã™ã‚‹ã¨ãã¯pathã‚’æŒ‡å®šã—ã‚ˆã†",
                "section": "post",
                "date" : "2010.11.09",
                "body": "Rails3ã‹ã‚‰BundlerãŒå°å…¥ã•ã‚Œgemã®ç®¡ç†ãŒã—ã‚„ã™ããªã‚Šã¾ã—ãŸãŒã€è‰²ã€…ãªRailsã‚¢ãƒ—ãƒªã§ã»ã„ã»ã„bundle installã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚·ã‚¹ãƒ†ãƒ ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹gemãŒçµæ§‹ã‚«ã‚ªã‚¹ã«ãªã£ã¦ãã¾ã™ã€‚ã¾ãŸã€Rails2ã¨Rails3ãŒåŒå±…ã™ã‚‹é–‹ç™ºç’°å¢ƒã ã¨ã‹ãªã‚Šé¢å€’ãã•ããªã‚Šã¾ã™ã€‚ç²¾ç¥è¡›ç”Ÿä¸Šã‚ã¾ã‚Šå®œã—ãã‚ã‚Šã¾ã›ã‚“ã€‚\nãã“ã§bundlerã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ¸¡ã—ã¦gemã‚’ä»»æ„ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€gemã‚’Railsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¯ã«ç®¡ç†ã™ã‚‹ã“ã¨ã‚’ã‚ªã‚¹ã‚¹ãƒ¡ã—ã¾ã™ã€‚\nRails3ã®å ´åˆã€ä½¿ã„æ–¹ã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚\nã¾ãšã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã€Gemfileã‚’è¨˜è¿°ã—ã¾ã™ã€‚\nmkdir newapp cd ./newapp vim Gemfile Gemfileã«ã¯railsã ã‘æŒ‡å®šã—ã¾ã™ã€‚\nsource \u0026#34;http://rubygems.org\u0026#34; gem \u0026#34;rails\u0026#34;, \u0026#34;3.0.1\u0026#34; Gemfileã‚’æ›¸ãçµ‚ã‚ã£ãŸã‚‰bundleã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„Railsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã“ã“ã§ã¯vendor/bundlerã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«gemã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nbundle install --path vendor/bundler ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒçµ‚ã‚ã£ãŸã‚‰Railsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚RailsãŒGemfileã‚’ä¸Šæ›¸ãã—ã¦ã„ã„ã‹è³ªå•ã—ã¦ãã‚‹ã®ã§yesã¨ç­”ãˆã¦ä¸Šæ›¸ãã—ã¦ã—ã¾ã„ã¾ã—ã‚‡ã†ã€‚ãªãŠã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å¤‰ãˆãŸå ´åˆã€ãã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ãƒ‘ã‚¹ãŒé€šã£ã¦ã„ãªã„ã®ã§bundle execã‚’é€šã—ã¦Railsã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nbundle exec rails new . ã‚ã¨ã¯ä¸Šæ›¸ãã•ã‚ŒãŸGemfileã‚’é–‹ã„ã¦ã€RSpecãªã‚Šhamlãªã‚Šå°å…¥ã—ãŸã„gemã‚’æ›¸ã„ã¦bundle installã—ã¾ã—ã‚‡ã†ã€‚\næ¯å›bundle execãªã‚“ã¦æ‰“ã¤ã®é¢å€’éãã‚‹ã£ã¦äººã¯ã€.bashrcã‚„.zshrcã«ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®šã—ã¡ã‚ƒã„ã¾ã—ã‚‡ã†ã€‚ç§ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nalias be=\u0026#34;bundle exec\u0026#34; ã“ã†ã™ã‚‹ã“ã¨ã§ã€\nbe rake db:migrate be rails s ã¿ãŸã„ãªæ„Ÿã˜ã§ä½¿ã£ã¦ã„ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2010/11/01/mobile-site-in-cucumber.html",
                "title": "cucumberã§æºå¸¯ã‚µã‚¤ãƒˆã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã«ã¯",
                "section": "post",
                "date" : "2010.11.01",
                "body": "é”äººå‡ºç‰ˆä¼šã‹ã‚‰å‡ºç‰ˆã•ã‚ŒãŸã€Œã¯ã˜ã‚ã‚‹ï¼Cucumberã€ã¨ã„ã†æœ¬ã‚’æœ¬æ—¥è³¼å…¥ã—ã¾ã—ãŸã€‚æ—¥æœ¬èªã§ä¸å¯§ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹è‰¯æ›¸ã§ã€cucumberã‚’ã“ã‚Œã‹ã‚‰è§¦ã£ã¦ã¿ãŸã„æ–¹ã«ã¯ã‚ªã‚¹ã‚¹ãƒ¡ã§ã™ã€‚\nã•ã¦ã€ã“ã®cucumberã‚’æºå¸¯ã‚µã‚¤ãƒˆã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ã£ãŸå ´åˆã€ãã®ã¾ã¾ã ã¨UAã§å¼¾ã‹ã‚ŒãŸã‚Šã—ã¦ä½¿ç”¨å‡ºæ¥ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãã®å ´åˆã¯ã€ä¸‹è¨˜ã‚’features/support/env.rbã«è¿½è¨˜ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€UAã®å½è£…ã¨å€‹ä½“è­˜åˆ¥ç•ªå·ã®ä»˜ä¸ãŒå‡ºæ¥ã¾ã™ã€‚\nå‰æ /^æºå¸¯ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹$/ do header(\u0026#39;user_agent\u0026#39;, \u0026#39;DoCoMo/2.0 P906i(c100;TB;W24H15)\u0026#39;) header(\u0026#39;x_dcmguid\u0026#39;, \u0026#39;subscriber\u0026#39;) end "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2010/10/31/streaming-api-to-mongodb.html",
                "title": "Twitter Streaming APIã‚’MongoDBã«ä¿å­˜ã—ã¦éŠã‚“ã§ã¿ã‚‹",
                "section": "post",
                "date" : "2010.10.31",
                "body": "Twitterã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°APIã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã€ã‹ãªã‚Šã®ãƒ‡ãƒ¼ã‚¿é‡ãŒæµã‚Œã¦ãã‚‹ã®ã§ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«è§£æãƒ»é›†è¨ˆãªã©ã‚’è¡Œã†ã¨å‡¦ç†ãŒè¿½ã„ã¤ã‹ãªã„å¯èƒ½æ€§ãŒå‡ºã¦ãã¾ã™ã€‚\nãã“ã§ã€æµã‚Œã¦ããŸãƒ‡ãƒ¼ã‚¿ã‚’ã„ã£ãŸã‚“ã©ã“ã‹ã«ä¿å­˜ã—ã¦ãŠã„ã¦å¾Œã‹ã‚‰ãƒãƒƒãƒå‡¦ç†ã§è§£æã‚’ã—ã¦ã„ãäº‹ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚ä»Šå›ã¯ãã®ä¿å­˜å…ˆã«MongoDBã‚’ãƒãƒ§ã‚¤ã‚¹ã—ã¾ã™ã€‚\nãªãœMongoDBãªã®ã‹  RDBMSã«æ¯”ã¹ã¦é«˜é€Ÿ BSONå½¢å¼ã§ä¿å­˜ã™ã‚‹ã®ã§ã€JSONã®éšå±¤æ§‹é€ ã‚’ãã®ã¾ã¾ç¶­æŒã—ã¦ä¿å­˜å¯èƒ½ NoSQLãªãŒã‚‰GROUP BYãƒ©ã‚¤ã‚¯ãªé›†è¨ˆå‡¦ç†ãŒå¯èƒ½  ã¨ã„ã†ã“ã¨ã§ã€è©¦ã—ã«ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°APIã®sampleã‹ã‚‰æµã‚Œã¦ãã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’MongoDBã«ä¿å­˜ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å‹•ã‹ã™ã«ã¯ã€åˆ¥é€”MongoDBæœ¬ä½“ã¨ã€Œjsonã€ã€Œbson_extã€ã€Œmongoã€ã®3ã¤ã®gemãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚\n# coding: utf-8 # This program is free software. It comes without any warranty, to # the extent permitted by applicable law. You can redistribute it # and/or modify it under the terms of the Do What The Fuck You Want # To Public License, Version 2, as published by Sam Hocevar. See # http://sam.zoy.org/wtfpl/COPYING for more details. require \u0026#39;rubygems\u0026#39; require \u0026#39;net/https\u0026#39; require \u0026#39;openssl\u0026#39; require \u0026#39;uri\u0026#39; require \u0026#39;json\u0026#39; require \u0026#39;mongo\u0026#39; USERNAME = \u0026#34;\u0026#34; PASSWORD = \u0026#34;\u0026#34; con = Mongo::Connection.new db = con.db(\u0026#39;twitter\u0026#39;) tweets = db.collection(\u0026#39;tweets\u0026#39;) uri = URI.parse(\u0026#39;https://stream.twitter.com/1/statuses/sample.json\u0026#39;) https = Net::HTTP.new(uri.host, uri.port) https.use_ssl = true https.verify_mode = OpenSSL::SSL::VERIFY_NONE https.verify_depth = 5 https.start do |h| request = Net::HTTP::Get.new(uri.request_uri) request.basic_auth(USERNAME, PASSWORD) h.request(request) do |response| response.read_body do |chunk| parsed = JSON.parse(chunk) rescue next tweets.insert(parsed) end end end å®Ÿéš›ã«å‹•ã‹ã—ã¦ã¿ãŸçµæœ ä¸Šè¨˜ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’15åˆ†ç¨‹åº¦å‹•ã‹ã—ã¦ã¿ã¦ã€MongoDBã®shellã‹ã‚‰è‰²ã€…ã‚¯ã‚¨ãƒªã‚’æŠ•ã’ã¦ã¿ã¾ã—ãŸã€‚\n$ mongo twitter MongoDB shell version: 1.6.3 connecting to: twitter // ä»¶æ•°ã‚’å–å¾—ã™ã‚‹ \u0026gt; db.tweets.find().count() 2093 // æ—¥æœ¬èªã®ãƒ„ã‚¤ãƒ¼ãƒˆã®ä»¶æ•°ã‚’å–å¾—ã™ã‚‹ï¼ˆã‚‚ã—ã‹ã—ãŸã‚‰æ—¥æœ¬èªã§ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ãªï¼Ÿï¼‰ \u0026gt; db.tweets.find({\u0026quot;user.lang\u0026quot;: \u0026quot;ja\u0026quot;}).count() 568 // ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’æŒ‡å®šã—ã¦ä»¶æ•°ã‚’å–å¾—ã™ã‚‹ \u0026gt; db.tweets.find({\u0026quot;user.time_zone\u0026quot; : \u0026quot;Tokyo\u0026quot;}).count() 363 \u0026gt; db.tweets.find({\u0026quot;user.time_zone\u0026quot; : \u0026quot;Osaka\u0026quot;}).count() 38 // Twitterã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æŒ‡å®šã—ã¦æ¤œç´¢ \u0026gt; db.tweets.find({\u0026quot;source\u0026quot; : /TweetDeck/i}).count() 72 \u0026gt; db.tweets.find({\u0026quot;source\u0026quot; : /Twitter for iPhone/i}).count() 99 ã•ã‚‰ã«MongoDB shellã§ã¯JavaScriptãŒä½¿ç”¨å‡ºæ¥ã‚‹ã®ã§ã€ã¡ã‚‡ã£ã¨ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã ã‘ã§Twitterã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã¾ã™ã€‚\nfunction count_source(order) { var result = db.tweets.group({ key: { source:true }, reduce: function(obj, prev) { prev.count++; }, initial: { count: 0 }, }); if (order == \u0026#34;asc\u0026#34;) { return result.sort( function(a, b) { return a[\u0026#39;count\u0026#39;] \u0026gt; b[\u0026#39;count\u0026#39;] ? 1 : -1; } ); } else if (order == \u0026#34;desc\u0026#34;) { return result.sort( function(a, b) { return a[\u0026#39;count\u0026#39;] \u0026lt; b[\u0026#39;count\u0026#39;] ? 1 : -1; } ); } } // ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’æ˜‡é †ã«ä¸¦ã³æ›¿ãˆ \u0026gt; count_source(\u0026#34;asc\u0026#34;) // ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’é™é †ã«ä¸¦ã³æ›¿ãˆ \u0026gt; count_source(\u0026#34;desc\u0026#34;) ã“ã‚Œã‚’å¿œç”¨ã™ã‚Œã°ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚µã‚¤ãƒˆãªã©ã‚‚ç°¡å˜ã«ä½œã‚Œãã†ã§ã™ã­ã€‚ã¾ãã€ãã®å‰ã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ãŸå ´åˆã®å†æ¥ç¶šå‡¦ç†ã¨ã‹ã€ãƒ‡ãƒ¼ãƒ¢ãƒ³åŒ–ã¨ã‹ã‚„ã‚‹ã¹ãäº‹ãŒãŸãã•ã‚“ã‚ã‚Šãã†ã§ã™ãŒã€‚ã€‚ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/09/07/vim-css.html",
                "title": "Vim7ã§CSSã‚’ã‚ªãƒ ãƒ‹è£œå®Œ",
                "section": "post",
                "date" : "2007.09.07",
                "body": "CSSã‚‚æ¨™æº–ã§å¯¾å¿œã—ã¦ã‚‹ã¿ãŸã„ã€‚ä»¥ä¸‹ã®è¡Œã‚’.vimrcã«è²¼ã‚Šä»˜ã‘ã‚‹ã ã‘ã€‚\nautocmd FileType css set omnifunc=csscomplete#CompleteCSSC-x C-oã§å‹•ä½œã—ã¾ã™ãŒã€å ´åˆã«ã‚ˆã£ã¦ã¯æ™®é€šã«å…¥åŠ›ã—ãŸã»ã†ãŒæ—©ã„ã‹ã‚‚â€¦ã€‚background-colorç­‰ã‚’å…¥åŠ›ã™ã‚‹æ™‚ã«ã¯åŠ¹æœã‚’ç™ºæ®ã—ãã†ã§ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/09/05/fedora8.html",
                "title": "Intel G33ãƒãƒƒãƒ—æ­è¼‰ã®PCã«Fedora8ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯",
                "section": "post",
                "date" : "2007.09.05",
                "body": "ãã®ã¾ã¾DVDã‚’çªã£è¾¼ã‚“ã§ã‚‚ACPIã®ãƒã‚§ãƒƒã‚¯ã§ã‚³ã‚±ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãŒèµ·å‹•ã—ãªã„ã®ã§ã€èµ·å‹•ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ACPIã‚’ç„¡åŠ¹ã«ã—ã¾ã™ã€‚\næœ€åˆã®ã€ŒWelcome to Fedoraï¼ã€ç”»é¢ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰\nInstall or upgrade an existing system ã‚’é¸æŠã—Tabã‚­ãƒ¼ã‚’æŠ¼ã—ã¾ã™ã€‚æŠ¼ã—ãŸã‚‰æ ä¸‹ã®ã»ã†ã«\n\u0026gt; vmlinuz initrd=initrd.img ã¨è¡¨ç¤ºã•ã‚Œå…¥åŠ›å‡ºæ¥ã‚‹çŠ¶æ…‹ã«ãªã‚‹ã®ã§\n\u0026gt; vmlinuz initrd=initrd.img acpi=off ã¨æ›¸ãåŠ ãˆã¦Enterã‚’æŠ¼ã—ã¾ã™ã€‚=ã‚’å…¥åŠ›ã™ã‚‹ã«ã¯ã€^ï¼ˆã¸ï¼‰ã‚­ãƒ¼ã‚’æŠ¼ã—ã¾ã™ï¼ˆè‹±èªã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¨ã—ã¦èªè­˜ã•ã‚Œã¦ã‚‹ã®ã§ï¼‰ä»¥ä¸Šã§ã²ã¨ã¾ãšã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯å‡ºæ¥ã¾ã™ã€‚ã—ã‹ã—Core2Quadãªã®ã«1Coreã—ã‹èªè­˜ã—ã¦ã¾ã›ã‚“ã§ã—ãŸorz\nã¡ãªã¿ã«Ubuntu7.10ï¼ˆGustyï¼‰ã ã¨æ­£å¸¸ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‡ºæ¥ã¾ã—ãŸã€‚æ–°ãƒãƒƒãƒ—ã‚»ãƒƒãƒˆã¯é¬¼é–€ã§ã™ã­ã€‚ã€‚ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/09/03/install-railsl.html",
                "title": "Ruby on Railsã‚’å°å…¥ã™ã‚‹",
                "section": "post",
                "date" : "2007.09.03",
                "body": "Railsã§å‹•ããƒ„ãƒ¼ãƒ«ã‚’ã„ãã¤ã‹è©¦ã—ã¦ã¿ãŸããªã£ãŸã®ã§ã€Ubuntuã§ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ã¾ã—ãŸã€‚ã—ã‚‡ã†ã‚‚ãªã„ã§ã™ãŒæ‰‹é †ã‚’ãƒ¡ãƒ¢ã£ã¦ãŠãã¾ã™ã€‚\nRubyã‚’apt-getã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚libredcloth-rubyã¯redMineã®Wikiã§ä½¿ã‚ã‚Œã‚‹ã¿ãŸã„ã§ã™ã€‚\n$ sudo apt-get install ruby rubygems libredcloth-ruby gemã§Railsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n$ sudo gem install rails rake /var/lib/gems/1.8/binã«ãƒ‘ã‚¹ã‚’é€šã—ã¾ã™ã€‚.bashrcã‚’ã‚¨ãƒ‡ã‚£ã‚¿ã§é–‹ã„ã¦\nPATH=\u0026#34;$PATH\u0026#34;:/var/lib/gems/1.8/bin ä¸Šè¨˜ã‚’æœ€ä¸‹éƒ¨ã«è¿½åŠ ã—ã¾ã™ã€‚å³åæ˜ ã•ã›ãŸã„å ´åˆã¯\n$ source ~/.bashrc ç¢ºèª\n$ which rails rake /var/lib/gems/1.8/bin/rails /var/lib/gems/1.8/bin/rake "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/08/27/akihabara.html",
                "title": "ç§‹è‘‰åŸã«è¡Œã£ã¦ãã¾ã—ãŸ",
                "section": "post",
                "date" : "2007.08.27",
                "body": "ä»¥ä¸‹è³¼å…¥ã—ãŸã‚‚ã®ãƒªã‚¹ãƒˆã€‚ä»Šé€±æœ«ã‚ãŸã‚Šã«Debiançªã£è¾¼ã‚“ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ¼ãƒã«ã™ã‚‹äºˆå®šã§ã™ã€‚\n Intel Core2Quad Q6600 Intel DG33FBC crucial 1GB PC2-6400 UnBuffered x2 3ware 9500S-4LP ST3750640AS(750G SATA300 7200) x4 Owltech M12 SS-600HM Antec P182  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/06/13/nvidia-beryl.html",
                "title": "NVIDIA + Berylã§ã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã®ä¸­èº«ãŒçœŸã£é»’ã«ãªã‚‹",
                "section": "post",
                "date" : "2007.06.13",
                "body": "ãŸãã•ã‚“ã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã‚’è¡¨ç¤ºã—ãŸã‚Šã€æ—¢å­˜ã®ã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã‚’ãƒªã‚µã‚¤ã‚ºã—ãŸã‚Šã™ã‚‹ã¨ã“ã®ç¾è±¡ãŒèµ·ã“ã‚‹ã‚ˆã†ã§ã™ã€‚\nã“ã®ç¾è±¡ã‚’å›é¿ã™ã‚‹ã«ã¯ã€Berylãƒãƒãƒ¼ã‚¸ãƒ£ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€[Berylã®ã‚ˆã‚Šé«˜åº¦ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³] â†’ [æç”»ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ]ã§ AIGLXã‚’å¼·åˆ¶ ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¾ã™ã€‚ã“ã‚Œã§å¤šåˆ†ç›´ã‚Šã¾ã™ã€‚\nã¾ãŸã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã®ç§»å‹•ã‚„ã‚¨ãƒ•ã‚§ã‚¯ãƒˆãŒã‚«ã‚¯ã‚«ã‚¯ã™ã‚‹å ´åˆã¯ã€[Berylã®è¨­å®š] â†’ General Option ã‚’é–‹ã„ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã™ã‚Œã°ã‚¹ãƒ ãƒ¼ã‚ºã«å‹•ãã¾ã™ã€‚\n ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒ¬ãƒ¼ãƒˆã‚’æ¤œå‡º ã®ãƒã‚§ãƒƒã‚¯ã‚’å¤–ã™ ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒ¬ãƒ¼ãƒˆã‚’200ã«è¨­å®š VBlankã«åŒæœŸ ã®ãƒã‚§ãƒƒã‚¯ã‚’å¤–ã™  "
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/05/24/qr.html",
                "title": "QRã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹PHPæ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«",
                "section": "post",
                "date" : "2007.05.24",
                "body": "å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ä»•æ–¹ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä½¿ç”¨æ–¹æ³•ã‚„Debianä»¥å¤–ã®ç’°å¢ƒã®äººã¯ã€ã“ã¡ã‚‰ã®è¨˜äº‹ï¼ˆè®ƒå®¹æ—¥è¨˜ï¼‰ã‚’è¦‹ãŸã»ã†ãŒè‰¯ã„ã§ã—ã‚‡ã†ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã¾ãšå¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å°å…¥ã—ã¾ã™ã€‚ã“ã“ã§ã¯aptitudeã‚’ä½¿ã£ã¦ã¾ã™ãŒapt-getã§ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚\nsudo aptitude install php4-gd php4-dev graphviz-dev PHP5ã‚’ä½¿ã£ã¦ã‚‹å ´åˆã¯4ã‚’5ã«å¤‰ãˆã‚‹ã ã‘ã§ã™ã€‚\næ‰‹é †ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚1è¡Œãšã¤ã‚³ãƒ”ãƒšã—ã¦ã„ã‘ã°OKã§ã™ã€‚\nwget http://www.opendogs.org/pub/php_qr-0.1.0.tgz tar zxvf php_qr-0.1.0.tgz cd php_qr-0.1.0 mkdir -p ext/gd ln -s /usr/include/graphviz ext/gd/libgd phpize ./configure --enable-qr --enable-qr-gd make sudo make install sudoã‚’ä½¿ã£ã¦ãªã„äººã¯su -ã§rootã«ãªã£ã¦ã‹ã‚‰make installã—ã¾ã—ã‚‡ã†ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/04/29/ich-ac97.html",
                "title": "ICH6 AC97ã§éŸ³ã‚’å‡ºã™",
                "section": "post",
                "date" : "2007.04.29",
                "body": "ç§ã®ä½¿ã£ã¦ã„ã‚‹ãƒãƒ¼ãƒˆPCï¼ˆLaVie G Type Jï¼‰ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ã ã¨éŸ³ãŒå‡ºã¦ãã‚Œã¾ã›ã‚“orzã€‚ã©ã†ã‚„ã‚‰915GM Expressã®ICH6ã§ã“ã®ç—‡çŠ¶ãŒå‡ºã‚‹ã‚ˆã†ã§ã™ã€‚\nè¨­å®šã‚’å¤‰ãˆã‚Œã°éŸ³ãŒå‡ºãŸ  ãƒ‘ãƒãƒ«ä¸Šã«ã‚ã‚‹ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦Alsa mixerã‚’é–‹ãã¾ã™ [ç·¨é›†]â†’è¨­å®š è¡¨ç¤ºã™ã‚‹ãƒˆãƒ©ãƒƒã‚¯ã®é¸æŠã§External Amplifierã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œé–‰ã˜ã‚‹ [ã‚¹ã‚¤ãƒƒãƒ]ã¨ã„ã†ã‚¿ãƒ–ãŒå¢—ãˆã¦ã„ã‚‹ã®ã§ã€ãã“ã‚’é–‹ã External Amplifierã®ãƒã‚§ãƒƒã‚¯ã‚’å¤–ã™  ã“ã‚Œã§éŸ³ãŒå‡ºã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/04/22/install-wine-with-ie-on-ubuntu-feisty.html",
                "title": "Ubuntu Feistyã«Wineã¨IEã‚’ç„¡ç†çŸ¢ç†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«",
                "section": "post",
                "date" : "2007.04.22",
                "body": "64bitç’°å¢ƒã ã¨ apt-get install wine ã§å°å…¥å‡ºæ¥ãªã‹ã£ãŸã®ã§ \u0026ndash;force-architecture ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ç„¡ç†çŸ¢ç†å…¥ã‚Œã‚‹æ–¹æ³•ã€‚\nWineã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« i386ç”¨ã®debãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è½ã¨ã—ã¦ãã¾ã™ã€‚\ncd /tmp wget http://wine.budgetdedicated.com/apt/pool/main/w/wine/wine_0.9.35~winehq0~ubuntu~7.04-1_i386.deb ia32-libsã‚’å…¥ã‚ŒãŸå¾Œï¼ˆå…¥ã£ã¦ãªã‹ã£ãŸã‚‰ï¼‰dpkgã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚\nsudo apt-get install ia32-libs sudo dpkg -i --force-architecture wine_0.9.35~winehq0~ubuntu~7.04-1_i386.deb IEs4Linuxã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« äº‹å‰ã«cabextractã‚’ã„ã‚Œã¦ãŠãã¾ã™ã€‚\nsudo apt-get install cabextract IEs4Linuxã®beta6ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\nwget http://www.tatanka.com.br/ies4linux/downloads/ies4linux-2.5beta6.tar.gz tar zxvf ies4linux-2.5beta6.tar.gz cd ies4linux-* ./ies4linux ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ä½œæ¥­ã‚’é€²ã‚ã‚‹ã¨ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«IEã®ã‚¢ã‚¤ã‚³ãƒ³ãŒå‡ºæ¥ã¾ã™ã®ã§ã€ãã‚Œã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã™ã‚Œã°IEãŒèµ·å‹•ã—ã¾ã™ã€‚\nâ€¦JAã‚’é¸ã‚“ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã›ã„ã‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒæ¿€ã—ãæ–‡å­—åŒ–ã‘ã—ã¾ã—ãŸã€‚ã‚‚ã—ã‹ã—ãŸã‚‰è‹±èªã§å…¥ã‚ŒãŸã»ã†ãŒå¹¸ã›ã«ãªã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/04/21/build-jd-on-ubuntu-feisty.html",
                "title": "64bitç’°å¢ƒã®Ubuntu Feistyã§JDã‚’ãƒ“ãƒ«ãƒ‰",
                "section": "post",
                "date" : "2007.04.21",
                "body": "Feistyã®æ—¥æœ¬èªãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚ºç‰ˆãŒå‡ºã¾ã—ãŸã€‚ã—ã‹ã—AMD64ã¸ã®å¯¾å¿œã¯ã‚‚ã†ã¡ã‚‡ã£ã¨ã‹ã‹ã‚‹ã¿ãŸã„ãªã®ã§ã€æ°—ãŒçŸ­ã„ç§ã¯ãƒªãƒªãƒ¼ã‚¹ã¾ã§ã®é–“JDï¼ˆ2ã¡ã‚ƒã‚“ã­ã‚‹ãƒ–ãƒ©ã‚¦ã‚¶ï¼‰ã‚’è‡ªå‰ã§ãƒ“ãƒ«ãƒ‰ã—ã¦ä½¿ãŠã†ã¨æ€ã„ã¾ã™ã€‚\nã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚‚æ‰‹è»½ã«å‡ºæ¥ã‚‹ã‚ˆã†ã«debãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã¾ã§ã—ã¦ã¿ã¾ã™ã€‚\nå¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã¾ãšdebãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹ã®ã«å¿…è¦ãªãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ã‚³ã—ã¾ã™ã€‚ï¼ˆä½™è¨ˆãªã‚‚ã®ã¾ã§å…¥ã‚ŒãŸã‹ã‚‚â€¦\nsudo apt-get install autoconf automake libtool libc6-dev dpkg-dev gpc fakeroot debhelper lintian devscripts g++ dh-make g77 æ¬¡ã«JDã®ãƒ“ãƒ«ãƒ‰ã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å…¥ã‚Œã¦ãŠãã¾ã™ã€‚\nsudo apt-get install libgtkmm-2.4-dev zlib1g-dev libssl-dev ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ– æœ€æ–°ã®ã‚½ãƒ¼ã‚¹ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã¦é©å½“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«è§£å‡ã—ã¾ã™ã€‚\nmkdir /tmp/deb cd /tmp/deb wget http://keihanna.dl.sourceforge.jp/jd4linux/24814/jd-1.8.8-070403.tgz tar zxvf jd-1.8.8-070403.tgz cd jd-1.8.8-070403 autoreconfã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nautoreconf -i ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åŸºæœ¬æƒ…å ±ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹\ndh_make -e clavice@dotted.jp -s -f ../jd-1.8.8-070403.tgz å€‹äººç”¨ãªã®ã§ä½•ã‚‚å¤‰æ›´ã›ãšã“ã®ã¾ã¾ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–\ndpkg-buildpackage -rfakeroot ãƒ“ãƒ«ãƒ‰ãŒçµ‚ã‚ã‚‹ã¨ã²ã¨ã¤ä¸Šã®éšå±¤ï¼ˆã“ã“ã§ã¯/tmp/debï¼‰ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå‡ºæ¥ä¸ŠãŒã£ã¦ã„ã¾ã™ã€‚\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« å‡ºæ¥ä¸ŠãŒã£ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ jd-1.8.8_070403-1_amd64.deb ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‡ºæ¥ã¾ã™ã€‚\nèµ·å‹•æ–¹æ³•ã¯ã€\njd ã§ã™ã€‚ã‹ãªã‚Šã‚„ã£ã¤ã‘ã§ã™ãŒã“ã‚Œã§JDãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/04/20/holidays.html",
                "title": "2é€£ä¼‘",
                "section": "post",
                "date" : "2007.04.20",
                "body": "Ubuntu 7.04ã¨CentOS5ã‚’KVMã§å‹•ã‹ã—ã¦è‰²ã€…ã¨éŠã‚“ã§ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/04/08/feisty-ipamona.html",
                "title": "Feistyã§IPAãƒ¢ãƒŠãƒ¼ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ã†",
                "section": "post",
                "date" : "2007.04.08",
                "body": "æ—¥æœ¬èªãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚ºç‰ˆãŒå‡ºã‚‹ã¾ã§ã®ç¹‹ãã¨ã—ã¦ã€‚\n$ cd /tmp $ wget http://www.geocities.jp/ipa_mona/opfc-ModuleHP-1.1.1_withIPAMonaFonts-1.0.5.tar.gz $ tar zxvf opfc-ModuleHP-1.1.1_withIPAMonaFonts-1.0.5.tar.gz $ cd opfc-*/fonts $ sudo mkdir /usr/share/fonts/truetype/ttf-ipamona $ sudo cp *.ttf /usr/share/fonts/truetype/ttf-ipamona ã“ã‚Œã§æ¬¡å›ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã‹ã‚‰ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ•ã‚©ãƒ³ãƒˆãŒIPAãƒ¢ãƒŠãƒ¼ãƒ•ã‚©ãƒ³ãƒˆã«ãªã‚Šã¾ã™ã€‚ãªã‚‰ãªã„å ´åˆã¯ã€\n$ sudo gedit /etc/fonts/local.conf ã§ã€geditã‚’èµ·å‹•ã—ã¦\n\u0026lt;fontconfig\u0026gt; \u0026lt;match target=\u0026#34;pattern\u0026#34;\u0026gt; \u0026lt;test qual=\u0026#34;any\u0026#34; name=\u0026#34;family\u0026#34;\u0026gt; \u0026lt;string\u0026gt;sans-serif\u0026lt;/string\u0026gt; \u0026lt;/test\u0026gt; \u0026lt;edit name=\u0026#34;family\u0026#34; mode=\u0026#34;prepend\u0026#34; binding=\u0026#34;strong\u0026#34;\u0026gt; \u0026lt;string\u0026gt;IPAMonaPGothic\u0026lt;/string\u0026gt; \u0026lt;/edit\u0026gt; \u0026lt;/match\u0026gt; \u0026lt;match target=\u0026#34;pattern\u0026#34;\u0026gt; \u0026lt;test qual=\u0026#34;any\u0026#34; name=\u0026#34;family\u0026#34;\u0026gt; \u0026lt;string\u0026gt;serif\u0026lt;/string\u0026gt; \u0026lt;/test\u0026gt; \u0026lt;edit name=\u0026#34;family\u0026#34; mode=\u0026#34;prepend\u0026#34; binding=\u0026#34;strong\u0026#34;\u0026gt; \u0026lt;string\u0026gt;IPAMonaPMincho\u0026lt;/string\u0026gt; \u0026lt;/edit\u0026gt; \u0026lt;/match\u0026gt; \u0026lt;match target=\u0026#34;pattern\u0026#34;\u0026gt; \u0026lt;test qual=\u0026#34;any\u0026#34; name=\u0026#34;family\u0026#34;\u0026gt; \u0026lt;string\u0026gt;monospace\u0026lt;/string\u0026gt; \u0026lt;/test\u0026gt; \u0026lt;edit name=\u0026#34;family\u0026#34; mode=\u0026#34;prepend\u0026#34; binding=\u0026#34;strong\u0026#34;\u0026gt; \u0026lt;string\u0026gt;IPAMonaGothic\u0026lt;/string\u0026gt; \u0026lt;/edit\u0026gt; \u0026lt;/match\u0026gt; \u0026lt;/fontconfig\u0026gt; ä¸Šè¨˜ã‚’è²¼ã‚Šã¤ã‘ã¦ä¿å­˜ã™ã‚Œã°ãƒ•ã‚©ãƒ³ãƒˆãŒç½®ãæ›ã‚ã‚‹ã¯ãšã§ã™ã€‚å¤šåˆ†\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/04/07/anthy.html",
                "title": "Firefoxä¸Šã§ã®Anthyã®æŒ™å‹•ãŒãŠã‹ã—ã™ãã‚‹ä»¶",
                "section": "post",
                "date" : "2007.04.07",
                "body": "å¤‰æ›ã‚­ãƒ¼ã‚’æŠ¼ã™ã¨æ¼¢å­—ã«å¤‰æ›ã•ã‚Œãšç©ºç™½ãŒæŒ¿å…¥ã•ã‚Œã¦ã—ã¾ã†è¬ç¾è±¡ãŒé »ç¹ã«èµ·ãã¦ã„ã¾ã™ã€‚èª¿ã¹ã¦ã¿ã‚‹ã¨scim-bridge-client-gtkã‚’å…¥ã‚Œã‚Œã°ç›´ã‚‹æ¨¡æ§˜ã€‚\n$ sudo apt-get install scim-bridge-client-gtk ç›´ã£ãŸï¼\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/04/06/nautilus.html",
                "title": "Nautilusã®å³ã‚¯ãƒªãƒƒã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º",
                "section": "post",
                "date" : "2007.04.06",
                "body": "Xfce4.4ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ£ã§ã‚ã‚‹Thunarã‚„KDEã®Konquerorã«ã¯ã€Œã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§é–‹ãã€ã¿ãŸã„ãªãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒã‚ã‚‹ã‚“ã§ã™ãŒã€ä½•æ•…ã‹Nautilusã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ã‚Šã¾ã›ã‚“ã€‚\nã‚ã¾ã‚Šã«ã‚‚ä¸ä¾¿ãªã®ã§è‡ªä½œã§ã‚‚ã—ã‚ˆã†ã‹ã¨æ€ã£ãŸã®ã§ã™ãŒæ—¢ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦å­˜åœ¨ã—ã¦ã„ã¾ã—ãŸã€‚\n$ sudo apt-get install nautilus-open-terminal ä¸€åº¦ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¦ã€å†ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã¡ãªã¿ã«è‡ªåˆ†ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ä½œæˆã™ã‚‹å ´åˆã¯nautilus-actionsã‚’å…¥ã‚Œã¾ã™ã€‚\n$ sudo apt-get install nautilus-actions [ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼] â†’ [ã‚·ã‚¹ãƒ†ãƒ ] â†’ [è¨­å®š] â†’ [Nautilus ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®è¨­å®š] ã§æ–°è¦ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã§ãã¾ã™ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/04/05/meld.html",
                "title": "Subversionã¨GUIå·®åˆ†ãƒ„ãƒ¼ãƒ«ï¼ˆMeldï¼‰ã‚’çµ„ã¿åˆã‚ã›ã¦ã¿ã‚‹",
                "section": "post",
                "date" : "2007.04.05",
                "body": "Meldã¨ã¯GUIã§å·®åˆ†è¡¨ç¤ºãŒå‡ºæ¥ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚Shift_JISã€EUC-JPã€UTF-8ç­‰ã®æ–‡å­—ã‚³ãƒ¼ãƒ‰ã«å¯¾å¿œã—ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚‚æ—¥æœ¬èªåŒ–ã•ã‚Œã¦ã„ã¦ä½¿ã„å‹æ‰‹ã¯ä¸Šã€…ã§ã™ã€‚å˜ä½“ã§ã‚‚Subversionã«å¯¾å¿œã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ãŒã€ã“ã“ã§ã¯svn diffç”¨ã®å¤–éƒ¨ãƒ„ãƒ¼ãƒ«ã«è¨­å®šã‚’ã—ã¦ã¿ã¾ã™ã€‚\nMeldã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« Debianã‚„Ubuntuã®å ´åˆã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ã‚‹ã®ã§å°å…¥ã¯ç°¡å˜ã§ã™ã€‚\n$ sudo apt-get install meld æ—¥æœ¬èªã‚’å«ã‚€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰±ã†å ´åˆã¯åŒæ™‚ã«python-japanese-codecsã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚\nSubversionã®è¨­å®š åŸºæœ¬çš„ã«ã¯/etc/subversion/configå†…ã®diff-cmdã®å€¤ã‚’ç·¨é›†ã™ã‚Œã°ã„ã„ã®ã§ã™ãŒã€diff-cmdã«ã¯ãƒ•ã‚¡ã‚¤ãƒ«åã®ã¿ã§å¼•æ•°ã‚’è¨­å®šå‡ºæ¥ãªã„ã‚ˆã†ã§ã™ã€‚ã§ã™ã®ã§ã€meldã‚’å‘¼ã³å‡ºã™ãŸã‚ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚ã‚‰ã‹ã˜ã‚ä½œã£ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n#!/bin/sh  # å¤–éƒ¨Diffãƒ—ãƒ­ã‚°ãƒ©ãƒ  DIFF=\u0026#34;meld\u0026#34; # å¼•æ•°ã®æŒ‡å®š LEFT=${6} RIGHT=${7} $DIFF $LEFT $RIGHT \u0026amp; ã“ã‚“ãªå†…å®¹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã©ã“ã‹é©å½“ãªå ´æ‰€ã«ä¿å­˜ã—ã€chmod +xã§å®Ÿè¡Œæ¨©é™ã‚’ä¸ãˆã¦ãŠãã¾ã™ã€‚\næ¬¡ã«/etc/subversion/configã‚’é–‹ãã€\n# diff-cmd = diff_program (diff, gdiff, etc.) diff-cmd = ä¸Šã§ä½œã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ãƒ«ãƒ‘ã‚¹ ã¨ã€diff-cmdã®å€¤ã‚’æ›¸ãæ›ãˆã¦ä¿å­˜ã—ã¾ã™ã€‚ã“ã‚Œã§svn diffã§å‘¼ã³å‡ºã•ã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ãŒmeldã«åˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚\næ³¨æ„ç‚¹ å¤šæ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ã„ã¦ã€ãã®è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æŒ‡å®šã›ãšã«svn diffã¨ã‚„ã‚‹ã¨ãƒ•ã‚¡ã‚¤ãƒ«æ•°åˆ†ã®MeldãŒç«‹ã¡ä¸ŠãŒã‚Šã¾ã™â€¦\nã‚ã¨svn-diff.vimã‚’ã™ã§ã«å°å…¥ã—ã¦ã„ã‚‹æ–¹ã¯ã‚„ã‚‰ãªã„ã»ã†ãŒã„ã„ã§ã—ã‚‡ã†ã€‚\n"
            }
        
    ,
        
            {
                "ref": "https://blog.dakatsuka.jp/2007/04/04/ubuntu-feisty.html",
                "title": "Ubuntu Feistyã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«",
                "section": "post",
                "date" : "2007.04.04",
                "body": "ã‚µãƒ–ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒãƒ¼ãƒˆPCï¼ˆNEC LaVie G Type Jï¼‰ã«Ubuntu 7.04Î²ã‚’å…¥ã‚ŒãŸã®ã§ãã®ãƒ¡ãƒ¢ã€‚\nãƒã‚·ãƒ³ã‚¹ãƒšãƒƒã‚¯ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚äºŒä¸–ä»£ã»ã©å‰ã®B5ãƒãƒ¼ãƒˆã§ã™ã€‚\n   CPU MEM HDD GPU     Pentium-M 1.2GHz 1.25G 80GB Intel 915GM    ã§ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« LiveCDã‚’ãƒ‰ãƒ©ã‚¤ãƒ–ã«æŒ¿å…¥ã—ã¦PCã‚’èµ·å‹•ã•ã›ã¾ã™ã€‚ç„¡äº‹ã«èµ·å‹•ã—ãŸã‚‰ã¾ãšGNOMEã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã„ã¦\nsudo apt-get install gparted ã¨ã‚¿ã‚¤ãƒ—ã—ã¦GNOME Partition Editorã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚NICãŒèªè­˜ã•ã‚Œã¦ã„ã¦DHCPãªç’°å¢ƒãªã‚‰ã°ã‚µã‚¯ã£ã¨å…¥ã‚Šã¾ã™ã€‚ã¨ã„ã†ã‹Edgyã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å…¥ã£ã¦ã„ãŸã®ã«ä½•æ•…å¤–ã•ã‚ŒãŸã®ã§ã—ã‚‡ã†ã‹â€¦ä¸æ€è­°ã§ã™ã€‚\nç§ã¯gpartedã‚’ä½¿ã£ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’åˆ‡ã‚Šã¾ã—ãŸã€‚ReiserFSãªã®ã¯ç§ã®å¥½ã¿ã§ã™ã€‚æ™®é€šã¯ext3ã§å•é¡Œãªã„ã¨æ€ã„ã¾ã™ã€‚\n   Mount Point Size FS     /boot 100MB ReiserFS   / 12GB ReiserFS   /home 65GB ReiserFS   swap 2GG linux-swap    å¾Œã¯ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã«ã‚ã‚‹Installã‚¢ã‚¤ã‚³ãƒ³ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã«å¾“ã£ã¦é€²ã‚ã¦ã„ãã ã‘ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒçµ‚ã‚ã‚Šã¾ã™ã€‚ç°¡å˜ã™ãã‚‹â€¦\nã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã®ç’°å¢ƒè¨­å®šãªã©ã¯ã¾ãŸå¾Œæ—¥ã¨ã„ã†ã“ã¨ã§ã€‚\n"
            }
        
    
]